!function(e){function t(t){for(var a,o,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)o=l[u],r[o]&&p.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(d&&d(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;i.push([512,1]),n()}({2032:function(e,t,n){e.exports={colorPrimaryOrange:"#EC6608",colorPrimaryYellow:"#FECA1D",colorPrimarAzure:"#67707c",colorBackgroundAside:"#EAEFF3",colorBackgroundMenu:"#3C4A55",colorMain:"#EC6608",colorBlack:"#000000",colorPetrol:"#006070",colorDarkSteel:"#3B4A56",colorSupportGray:"#CCCCCC",colorLightGray:"#D3DADE",colorAttentionRed:"#DD2515",colorAttentionGreen:"#3AA57B",colorYellow:"#FECA1D",colorOrange:"#E66608",colorGreen:"#3AA57B",colorAzure:"#67707C",colorGray:"#CCCCCC",colorRed:"#D82515",colorBlue:"#16AED6",colorViolet:"#943BA3",colorWhite:"#FFFFFF",colorText:"#67707c",colorTextLink:"#EC6608",colorTextDisabled:"#a7a7a7",colorWarning:"#FECA1D",colorSuccess:"#3AA57B",colorError:"#D82515",colorInfo:"#16AED6",colorTooltipText:"#FFFFFF",colorTooltipBackground:"#006070",colorToastText:"#000000",colorToastBackground:"#eaeaea",colorPseudoNormal:"#67707c",colorPseudoFocused:"#FECA1D",colorPseudoHover:"#FECA1D",colorPseudoPressed:"#FECA1D",colorPseudoDisabled:"#a7a7a7",colorContentBackground:"#FFFFFF",colorSiteBackground:"#D3DADE",colorButtonText:"#FFFFFF",colorButtonTextDisabled:"#a7a7a7",colorButtonNormal:"#67707c",colorButtonFocused:"#67707c",colorButtonHover:"#77818c",colorButtonPressed:"#585F68",colorButtonPriorityNormal:"#E66608",colorButtonPriorityFocused:"#E66608",colorButtonPriorityHover:"#ff7517",colorButtonPriorityPressed:"#d35c0b",colorButtonDisabled:"#f0f0f0",colorDatePickerContent:"#E9E9E9",colorSelectHover:"#eff2f4",colorSelectSelected:"#e6e9eb",colorGridText:"#67707c",colorGridBorder:"#D3DADE",colorGridBackground:"#FFFFFF",colorGridStripe:"#D3DADE",colorGridHighlight:"#eff2f4",colorGridSelected:"#e6e9eb",borderRadiusBase:"0",borderRadiusLarge:"0",borderRadiusSmall:"0",heightNavbar:"40px",spaceContent:"1rem",radiusContent:"0.5rem",radiusNavbar:"0",sidemenuColorText:"#FFFFFF",fontWeightLight:"300",fontWeightNormal:"400",fontWeightBold:"700",fontSizeH1:"3.6rem",fontSizeH2:"3rem",fontSizeH3:"2.4rem",fontSizeH4:"1.8rem",fontSizeLarge:"1.8rem",fontSizeMedium:"1.6rem",fontSizeNormal:"1.4rem",fontSizeSmall:"1.2rem",marginContent:"10px"}},2033:function(e,t,n){e.exports=n.p+"favicon.ico"},26:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"TYPES",function(){return Le}),n.d(a,"invalidate",function(){return we}),n.d(a,"forceRefresh",function(){return Ge}),n.d(a,"setBusy",function(){return ke}),n.d(a,"setReady",function(){return je}),n.d(a,"applyFilters",function(){return Ve}),n.d(a,"setAndApplyFilters",function(){return xe}),n.d(a,"filterCellValueChange",function(){return Ne}),n.d(a,"applySort",function(){return Ke}),n.d(a,"sortChange",function(){return Be}),n.d(a,"setData",function(){return ze}),n.d(a,"setFocusTo",function(){return He}),n.d(a,"extendData",function(){return We}),n.d(a,"resizeColumn",function(){return qe}),n.d(a,"edit",function(){return Ue}),n.d(a,"cancel",function(){return Je}),n.d(a,"save",function(){return Ye}),n.d(a,"saveSuccess",function(){return Xe}),n.d(a,"savePartialSuccess",function(){return Ze}),n.d(a,"saveFail",function(){return $e}),n.d(a,"create",function(){return Qe}),n.d(a,"addNewItem",function(){return et}),n.d(a,"removeItem",function(){return tt}),n.d(a,"removeNewItem",function(){return nt}),n.d(a,"removeNewItems",function(){return at}),n.d(a,"remove",function(){return rt}),n.d(a,"removeSuccess",function(){return it}),n.d(a,"removeFail",function(){return ot}),n.d(a,"editCellValueChange",function(){return lt}),n.d(a,"editCellValueValidate",function(){return st}),n.d(a,"createCellValueChange",function(){return ct}),n.d(a,"createCellValueValidate",function(){return dt}),n.d(a,"cellShowMessage",function(){return ut}),n.d(a,"cellShowMessages",function(){return pt}),n.d(a,"cellHideMessage",function(){return gt}),n.d(a,"createCellShowMessage",function(){return ft}),n.d(a,"createCellHideMessage",function(){return mt}),n.d(a,"cellSelectionChange",function(){return ht}),n.d(a,"itemSelectionChange",function(){return Ct}),n.d(a,"selectAllItemsChange",function(){return vt}),n.d(a,"clearSelectedItems",function(){return Et}),n.d(a,"toggleFiltering",function(){return At}),n.d(a,"validateEditedRows",function(){return It}),n.d(a,"removeEmptyCreatedRows",function(){return Rt}),n.d(a,"validateCreatedRows",function(){return _t}),n.d(a,"updateExistingCellValue",function(){return Dt}),n.d(a,"setEditData",function(){return Tt}),n.d(a,"openColumnSettingsModal",function(){return yt}),n.d(a,"closeColumnSettingsModal",function(){return St}),n.d(a,"saveColumnSettings",function(){return Ot}),n.d(a,"setPage",function(){return bt}),n.d(a,"setRowsOnPage",function(){return Pt});var r=n(0),i=n.n(r),o=n(6),l=n.n(o),s=n(42),c=n(13),d=n(35),u=n(2037),p=n(8),g=n.n(p),f=n(505),m=n(510),h=n(90),C=(n(756),n(1)),v=n.n(C),E=n(12),A=n(485),I=n.n(A),R=n(239),_=n.n(R);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=1,O=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return y(T(t=e.call.apply(e,[this].concat(a))||this),"state",{gridWidth:S,gridHeight:S}),y(T(t),"setDimensionsOnState",function(){if(t.isComponentMounted){var e=Object(E.findDOMNode)(T(t)),n=e.offsetWidth,a=e.offsetHeight;t.setState({gridWidth:n||S,gridHeight:a||S})}}),t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentWillMount=function(){var e=this.props.refreshRate;this.setDimensionsOnState=I()(this.setDimensionsOnState,e)},r.componentDidMount=function(){var e=this;this.isComponentMounted=!0,this.setDimensionsOnState(),this.attachResizeEvent(),window.setTimeout(function(){return e.setDimensionsOnState()},500)},r.shouldComponentUpdate=function(e,t){return!_()(this.props,e)||!_()(this.state,t)},r.componentWillUnmount=function(){this.isComponentMounted=!1,window.removeEventListener("resize",this.setDimensionsOnState)},r.getStyle=function(){return D({},this.props.containerStyle,{width:"100%",height:"100%",overflow:"hidden"})},r.attachResizeEvent=function(){window.addEventListener?window.addEventListener("resize",this.setDimensionsOnState,!1):window.attachEvent?window.attachEvent("resize",this.setDimensionsOnState):window.onresize=this.setDimensionsOnState},r.render=function(){var e=this.state,t=e.gridWidth,n=e.gridHeight;return i.a.createElement("div",{className:"oc-datagrid-main-container",style:this.getStyle()},i.a.createElement(d.Table,D({},this.props,{width:t,height:n})))},a}(i.a.Component);y(O,"defaultProps",{containerStyle:{},refreshRate:250});var b=n(28),P=n.n(b),M=n(46),F=n(32),L=n.n(F),w=v.a.bool,G=v.a.number,k=v.a.string,j=v.a.func,V=v.a.object,x=v.a.node,N=v.a.array,K=v.a.shape,B=v.a.any,z=v.a.oneOfType,H=v.a.arrayOf,W=L.a.list,q=L.a.map,U=L.a.mapOf,J=K({load:j.isRequired,save:j.isRequired}),Y=K({id:k.isRequired,idKeyPath:H(k).isRequired,defaultShowFilteringRow:w,defaultSortColumn:k,defaultSortOrder:k,disableRememberColumnWidths:w,disableRememberSortData:w,disableRememberIsFiltering:w,disableRememberFilterData:w,disableRememberSelectedItems:w,language:k,region:k,dateFormat:k,thousandSeparator:k,decimalSeparator:k,configStorage:J,pagination:w}),X=K({header:x,columnKey:k,valueKeyPath:N,valueType:k,valueOptions:K({currencyKeyPath:N,decimals:G,thousandSeparator:k,decimalSeparator:k}),componentType:k,valueRender:j,editValueRender:j,createValueRender:j,filterValueRender:j,cell:j,cellEdit:j,cellCreate:j,cellFilter:j,renderComponentProps:V,editComponentProps:V,createComponentProps:V,filterComponentProps:V,width:G,minWidth:G,maxWidth:G,align:k,fixed:w,fixedRight:w,allowCellsRecycling:w,disableResizing:w,disableEditing:w,disableSorting:w,disableEditingOnValueMatch:K({matchValueKeyPath:N,matchValue:B}),onValueMatchChangeValue:K({matchValue:B,newValueKeyPath:N,newValue:B}),flexGrow:G,valueEmptyChecker:j,sortValueGetter:j,sortComparator:j,filterMatcher:j,defaultValue:B,isRequired:w,isHidden:w,onEditValueChange:j,onCreateValueChange:j,onCreateBlur:j,onEditBlur:j,selectComponentOptions:H(K({value:z([G,k,w]).isRequired,label:z([G,k]).isRequired})),selectComponentTranslations:K({placeholder:k,noResultsText:k,selected:k}),isCreatableSelect:w}),Z=(V.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,j.isRequired,w.isRequired,w.isRequired,w.isRequired,w.isRequired,z([k,G]),W.isRequired,q.isRequired,q.isRequired,W.isRequired,W.isRequired,q.isRequired,W.isRequired,q.isRequired,q.isRequired,q.isRequired,k.isRequired,k.isRequired,k.isRequired,k.isRequired,G.isRequired,Y.isRequired,H(X.isRequired).isRequired,H(K({id:k,title:x,icon:x,onClick:j,disabled:z([w,j])})),U(H(K({value:z([G,k,w]).isRequired,label:z([G,k]).isRequired}))),K({placeholder:k.isRequired,noResultsText:k.isRequired,selected:k.isRequired}),K({messageId:k,messageValues:K({})}),K({width:k,valueRender:j,cellEdit:j,cellCreate:j,cellFilter:j,isResizable:w}),H(K({value:x,onClick:j,title:k,header:w,disabled:z([w,j]),divider:w})),q.isRequired,K({pageSize:G.isRequired,totalSize:G.isRequired,getData:j.isRequired}),{cellSelect:!1,columnSettings:!1,children:void 0,containerStyle:{},disableActionSave:!1,enableArrowNavigation:!1,headerHeight:40,filterRowHeight:40,rowHeight:40,onSave:function(){},onRemove:function(){},onCancel:function(){},showSelectAllCheckbox:!0,tabIndex:1,disableFilteringControls:!1,className:"",scrollInEditMode:!1}),$=n(4);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(){var e=ie(["\n  flex: 1 0 content;\n  white-space: nowrap;\n  margin-left: ",";\n"]);return ne=function(){return e},e}function ae(){var e=ie(["\n  flex: 0 1 content;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return ae=function(){return e},e}function re(){var e=ie(["\n  /* Mystical 17px comes from 2*8px paddings of public_fixedDataTableCell_cellContent plus 1px border width */\n  width: ",";\n  display: inline-flex;\n  flex-wrap: nowrap;\n"]);return re=function(){return e},e}function ie(e,t){return t||(t=e.slice(0)),e.raw=t,e}var oe=M.a.div(re(),function(e){return"calc("+e.width+"px - 17px)"}),le=M.a.span(ae()),se=M.a.span(ne(),function(e){return e.children?"5px":"0"}),ce=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return te(ee(t=e.call.apply(e,[this].concat(a))||this),"onSortChange",function(e){var n=!1;if("string"!=typeof e.target.className)return!1;if("public_fixedDataTableCell_cellContent"!==e.target.className&&"oc-datagrid-cell-header-text"!==e.target.className.split(" ")[0]||(n=!0),n||"string"!=typeof e.target.parentElement.className||"oc-datagrid-cell-header-text"!==e.target.parentElement.className.split(" ")[0]||(n=!0),!n)return!1;if(!$.a.isSortable(t.props.column))return!1;if(t.props.isBusy)return!1;e.preventDefault();var a=t.props.currentSortColumn===$.a.getColumnKey(t.props.column)&&"asc"===t.props.currentSortOrder?"desc":"asc";return t.props.onSortChange&&t.props.onSortChange(t.props.grid,t.props.columns,t.props.column,a),!0}),te(ee(t),"getFilteringComponent",function(e,t){return e?(P()(t.cellFilter,"No cellFilter for column '"+$.a.getColumnKey(t)+"'"),i.a.createElement("div",{className:"oc-datagrid-row-filter"},t.cellFilter())):null}),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.children,n=(e.grid,e.currentSortColumn),a=e.currentSortOrder,r=(e.columns,e.column),o=(e.onSortChange,e.isBusy),l=e.filtering,s=e.width,c=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["children","grid","currentSortColumn","currentSortOrder","columns","column","onSortChange","isBusy","filtering","width"]),u=g()({"oc-datagrid-cell-header":!0,clickable:!o&&$.a.isSortable(this.props.column)}),p=r.isRequired?"*":"",f=n===$.a.getColumnKey(r)&&a?""+p+("desc"===a?" ↓":" ↑"):p;return i.a.createElement(d.Cell,Q({className:u,onClick:this.onSortChange},c),i.a.createElement(oe,{width:s,className:"oc-datagrid-cell-header-text"},i.a.createElement(le,{width:s},t),i.a.createElement(se,null,f)),this.getFilteringComponent(l,r))},a}(i.a.PureComponent);te(ce,"defaultProps",{children:"",currentSortOrder:null,currentSortColumn:null});n(831);var de,ue,pe,ge=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e,t=g()(((e={"oc-datagrid-actionbar":!0})[this.props.position]=!!this.props.position,e));return i.a.createElement("div",{className:t},this.props.children)},a}(i.a.PureComponent);pe={children:null,position:"right"},(ue="defaultProps")in(de=ge)?Object.defineProperty(de,ue,{value:pe,enumerable:!0,configurable:!0,writable:!0}):de[ue]=pe;var fe=n(168),me=n(2035),he=n(2048);var Ce=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.children,n=e.id,a=e.isEdited,r=e.isError,o=e.isWarning,l=e.infoMessage,s=e.errorMessage,d=e.warningMessage,u={overlay:i.a.createElement(me.a,{id:"Tooltip_"+n,style:{display:"none"}})},p=s||d||l;if(p){var f="tooltip";r?f="error tooltip":o&&(f="warning tooltip"),u={placement:"top",overlay:i.a.createElement(me.a,{id:"Tooltip_"+n,bsClass:f},p.id?i.a.createElement(c.FormattedMessage,{id:p.id,values:p.values}):i.a.createElement("span",null,p))}}var m=g()({"oc-datagrid-tooltip":!0,edited:a,error:r,warning:o&&!r,info:l&&!r&&!o});return i.a.createElement(he.a,u,i.a.createElement("div",{id:n,className:m},t))},a}(i.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ce,"defaultProps",{children:null,isEdited:!1,isError:!1,isWarning:!1,infoMessage:null,errorMessage:null,warningMessage:null});n(868);function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return Ae(Ee(t=e.call.apply(e,[this].concat(a))||this),"handleSaveButtonClick",function(){var e=!0;t.props.isEditing&&(e=t.props.validateEditedRows(t.props.grid,t.props.columns)),e&&t.props.isCreating&&(e=t.props.validateCreatedRows(t.props.grid,t.props.columns)),e?t.props.save(t.props.grid,t.props.onSave):t.props.afterValidationError()}),Ae(Ee(t),"handleCancelButtonClick",function(){t.props.cancel(t.props.grid),t.props.onCancel()}),Ae(Ee(t),"handleAddButtonClick",function(){t.props.addNewItem(t.props.grid,$.a.getColumnDefaultValues(t.props.columns)),t.props.afterAddItem()}),Ae(Ee(t),"handleEditButtonClick",function(){t.props.disableActions||(t.props.edit(t.props.grid),t.props.afterEditPress(),t.props.onEditClick&&t.props.onEditClick())}),Ae(Ee(t),"handleCreateButtonClick",function(){t.props.disableActions||(t.props.onAddClick?t.props.onAddClick():(t.props.create(t.props.grid,$.a.getColumnDefaultValues(t.props.columns)),t.props.afterAddItem()))}),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.disableActions,n=e.disableActionsMessage,a=e.disableActionSave,r=e.grid,o=e.inlineAdd,l=e.isBusy,s=e.isCreating,d=e.isEditing,u=e.tabIndex,p=e.data;if(s||d)return i.a.createElement("div",{className:"oc-datagrid-inline-edit-controls"},i.a.createElement(fe.a,{disabled:l||t||a,onClick:this.handleSaveButtonClick,tabIndex:u+1,id:"oc-datagrid-controls-save-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Save"})),i.a.createElement(fe.a,{disabled:l||t,onClick:this.handleCancelButtonClick,tabIndex:u+2,id:"oc-datagrid-controls-cancel-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Cancel"})),s&&i.a.createElement(fe.a,{disabled:l||t,onClick:this.handleAddButtonClick,tabIndex:u+3,id:"oc-datagrid-controls-add-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Add"})));var g={};t&&n&&(g={infoMessage:{id:n.messageId,values:n.messageValues}});var f=p.size>=1;return i.a.createElement("div",{className:"oc-datagrid-inline-edit-controls"},i.a.createElement(Ce,ve({id:"oc-datagrid-controls-tooltip-"+r.id},g),i.a.createElement(fe.a,{disabled:l||!f,onClick:this.handleEditButtonClick,id:"oc-datagrid-controls-edit-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Edit"})),o&&i.a.createElement(fe.a,{disabled:l,onClick:this.handleCreateButtonClick,id:"oc-datagrid-controls-create-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Add"}))))},a}(i.a.PureComponent);Ae(Ie,"defaultProps",{disableActions:!1,disableActionsMessage:{messageId:"Grid.DisableActionsMessage"},disableActionSave:!1,inlineAdd:!0,onAddClick:null,onEditClick:null,tabIndex:1});var Re=n(2036);n(871);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return _e(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(a))||this),"toggleFiltering",function(){t.props.toggleFiltering(t.props.grid)}),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return i.a.createElement("div",{className:"oc-datagrid-filtering-controls"},i.a.createElement(Re.a,{checked:this.props.isFiltering,disabled:this.props.isBusy||this.props.isCreating||this.props.isEditing,onChange:this.toggleFiltering,inline:!0},i.a.createElement(c.FormattedMessage,{id:"Grid.ShowFilteringRow"})))},a}(i.a.PureComponent);_e(De,"defaultProps",{toggleFiltering:function(){}});var Te=n(175),ye=n(508);n(892);function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(){var e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["\n  color: ",";\n  margin: ",";\n  padding: ",";\n  transform: rotate(",");\n"]);return be=function(){return e},e}var Pe=Object(M.a)(Te.b)(be(),function(e){return e.color},function(e){return e.margin||0},function(e){return e.padding||0},function(e){return e.rotate?e.rotate+"deg":""}),Me=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return Oe(Se(t=e.call.apply(e,[this].concat(a))||this),"handleRemoveClick",function(){t.props.selectedItems.size>0&&t.props.onRemove()}),Oe(Se(t),"handleToggleFilteringClick",function(){t.props.toggleFiltering(t.props.grid)}),Oe(Se(t),"handleColumnSettingsClick",function(){t.props.openColumnSettingsModal(t.props.grid)}),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.isBusy||this.props.isCreating||this.props.isEditing||this.props.disableActions,t=[];return this.props.filtering&&t.push({id:this.props.grid.id+"-menu-item-filtering",title:i.a.createElement(c.FormattedMessage,{id:"Grid.ShowFilteringRow"}),icon:this.props.isFiltering?i.a.createElement(Pe,{color:"#3AA57B",size:20}):i.a.createElement(Pe,{rotate:"180",color:"#67707C",size:20}),onClick:this.handleToggleFilteringClick}),this.props.dropdownMenuItems&&this.props.dropdownMenuItems.length&&(t=t.concat(this.props.dropdownMenuItems)),this.props.columnSettings&&t.push({id:this.props.grid.id+"-menu-item-column-settings",title:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings"}),onClick:this.handleColumnSettingsClick}),this.props.removing&&t.push({id:this.props.grid.id+"-menu-item-delete",title:i.a.createElement(c.FormattedMessage,{id:"Grid.Delete"}),disabled:!this.props.selectedItems.has(0),onClick:this.handleRemoveClick}),i.a.createElement(ye.a,{id:this.props.grid.id,disabled:e,menuItems:t})},a}(i.a.PureComponent);Oe(Me,"defaultProps",{filtering:!1,removing:!1,columnSettings:!1,dropdownMenuItems:[],disableActions:!1});var Fe,Le={PLATFORM_DATAGRID_INVALIDATE:"PLATFORM_DATAGRID_INVALIDATE",PLATFORM_DATAGRID_BUSY:"PLATFORM_DATAGRID_BUSY",PLATFORM_DATAGRID_READY:"PLATFORM_DATAGRID_READY",PLATFORM_DATAGRID_SET_DATA:"PLATFORM_DATAGRID_SET_DATA",PLATFORM_DATAGRID_APPLY_SORT:"PLATFORM_DATAGRID_APPLY_SORT",PLATFORM_DATAGRID_SORT_CHANGE:"PLATFORM_DATAGRID_SORT_CHANGE",PLATFORM_DATAGRID_RESIZE_COLUMN:"PLATFORM_DATAGRID_RESIZE_COLUMN",PLATFORM_DATAGRID_EDIT:"PLATFORM_DATAGRID_EDIT",PLATFORM_DATAGRID_CANCEL:"PLATFORM_DATAGRID_CANCEL",PLATFORM_DATAGRID_SAVE:"PLATFORM_DATAGRID_SAVE",PLATFORM_DATAGRID_EXTEND_DATA:"PLATFORM_DATAGRID_EXTEND_DATA",PLATFORM_DATAGRID_SAVE_SUCCESS:"PLATFORM_DATAGRID_SAVE_SUCCESS",PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS:"PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS",PLATFORM_DATAGRID_SAVE_FAIL:"PLATFORM_DATAGRID_SAVE_FAIL",PLATFORM_DATAGRID_CREATE:"PLATFORM_DATAGRID_CREATE",PLATFORM_DATAGRID_ADD_NEW_ITEM:"PLATFORM_DATAGRID_ADD_NEW_ITEM",PLATFORM_DATAGRID_REMOVE_ITEM:"PLATFORM_DATAGRID_REMOVE_ITEM",PLATFORM_DATAGRID_REMOVE_NEW_ITEM:"PLATFORM_DATAGRID_REMOVE_NEW_ITEM",PLATFORM_DATAGRID_REMOVE_NEW_ITEMS:"PLATFORM_DATAGRID_REMOVE_NEW_ITEMS",PLATFORM_DATAGRID_REMOVE:"PLATFORM_DATAGRID_REMOVE",PLATFORM_DATAGRID_REMOVE_SUCCESS:"PLATFORM_DATAGRID_REMOVE_SUCCESS",PLATFORM_DATAGRID_REMOVE_FAIL:"PLATFORM_DATAGRID_REMOVE_FAIL",PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE:"PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE",PLATFORM_DATAGRID_CELL_SHOW_MESSAGE:"PLATFORM_DATAGRID_CELL_SHOW_MESSAGE",PLATFORM_DATAGRID_CELL_SHOW_MESSAGES:"PLATFORM_DATAGRID_CELL_SHOW_MESSAGES",PLATFORM_DATAGRID_CELL_HIDE_MESSAGE:"PLATFORM_DATAGRID_CELL_HIDE_MESSAGE",PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE:"PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE",PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE:"PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE",PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE:"PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE",PLATFORM_DATAGRID_CREATE_CELL_VALUE_VALIDATE:"PLATFORM_DATAGRID_CREATE_CELL_VALUE_VALIDATE",PLATFORM_DATAGRID_CELL_SELECTION_CHANGE:"PLATFORM_DATAGRID_CELL_SELECTION_CHANGE",PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE:"PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE",PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE:"PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE",PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS:"PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS",PLATFORM_DATAGRID_TOGGLE_FILTERING:"PLATFORM_DATAGRID_TOGGLE_FILTERING",PLATFORM_DATAGRID_FILTER_DATA_CHANGE:"PLATFORM_DATAGRID_FILTER_DATA_CHANGE",PLATFORM_DATAGRID_APPLY_FILTERS:"PLATFORM_DATAGRID_APPLY_FILTERS",PLATFORM_DATAGRID_SET_FILTERS:"PLATFORM_DATAGRID_SET_FILTERS",PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE:"PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE",PLATFORM_DATAGRID_SET_EDIT_DATA:"PLATFORM_DATAGRID_SET_EDIT_DATA",PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN:"PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN",PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE:"PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE",PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE:"PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE",PLATFORM_DATAGRID_FORCE_REFRESH:"PLATFORM_DATAGRID_FORCE_REFRESH",PLATFORM_DATAGRID_SET_FOCUS_TO:"PLATFORM_DATAGRID_SET_FOCUS_TO",PLATFORM_DATAGRID_SET_PAGE:"PLATFORM_DATAGRID_SET_PAGE",PLATFORM_DATAGRID_SET_ROWS_ON_PAGE:"PLATFORM_DATAGRID_SET_ROWS_ON_PAGE"},we=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_INVALIDATE,id:e.id})}},Ge=function(){return function(e){setTimeout(function(){if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)}},1),e({type:Le.PLATFORM_DATAGRID_FORCE_REFRESH})}},ke=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_BUSY,id:e.id})}},je=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_READY,id:e.id})}},Ve=function(e,t){return function(n,a){if($.a.checkGridParam(e),!t||!t.forEach)return!1;var r=a().datagrid.get(e.id);if(!r)return!1;var i,l=r.getIn(["config","filteringData","filterData"],Object(o.Map)()),s=r.get("allData");if(ke(e)(n),e.pagination)return!0;if(l.isEmpty())i=s;else{var c=$.a.getDateFormat(e,a().user);i=s.filter(function(e){var n=0;return l.forEach(function(a,r){t.forEach(function(t){if($.a.getColumnKey(t)===r){var i=e.getIn(t.valueKeyPath);if(i||0===i||!1===i)$.a.getFilterMatcher(t,c)(e,a)&&(n+=1)}})}),n===l.size})}return n({type:Le.PLATFORM_DATAGRID_APPLY_FILTERS,id:e.id,data:i}),je(e)(n),!0}},xe=function(e,t,n){return function(a){var r=$.a.normalizeFilteringData(n);return $.a.saveFilterData(e,r.get("filterData")),a({type:Le.PLATFORM_DATAGRID_SET_FILTERS,id:e.id,filteringData:r}),a(Ve(e,t)),!0}},Ne=function(e,t,n,a){return function(r,i){$.a.checkGridParam(e);var l,s=i().datagrid.getIn([e.id,"config","filteringData","filterData"],Object(o.Map)()),c=$.a.getColumnKey(n);l=$.a.getValueEmptyChecker(n)(a)?s.delete(c):s.set(c,a),$.a.saveFilterData(e,l),r({type:Le.PLATFORM_DATAGRID_FILTER_DATA_CHANGE,id:e.id,filterData:l}),Ve(e,t)(r,i)}},Ke=function(e,t){return function(n,a){if($.a.checkGridParam(e),!t||!t.forEach)return!1;var r=a().datagrid.get(e.id);if(!r)return!1;var i=r.getIn(["config","sortingData"]);if(!i)return!1;var o=i.get("sortColumn");if(!o)return!1;var l,s=i.get("sortOrder","asc");if(t.forEach(function(e){$.a.getColumnKey(e)===o&&(l=e)}),!l)return!1;if(ke(e)(n),e.pagination)return!0;var c,d=r.get("allData"),u=$.a.getSortComparator(l),p=$.a.getSortValueGetter(l),g=$.a.getValueEmptyChecker(l),f=d.sort(function(e,t){var n=p(e),a=p(t);return"asc"===s?g(n)?-1:g(a)?1:u(n,a):g(n)?1:g(a)?-1:u(a,n)});return c=r.getIn(["config","filteringData","isFiltering"],!1)?r.get("data").sort(function(e,t){var n=p(e),a=p(t);return"asc"===s?g(n)?-1:g(a)?1:u(n,a):g(n)?1:g(a)?-1:u(a,n)}):f,n({type:Le.PLATFORM_DATAGRID_APPLY_SORT,id:e.id,data:c,allData:f}),je(e)(n),!0}},Be=function(e,t,n,a){return function(r,i){$.a.checkGridParam(e);var o=a||"asc",l=$.a.getColumnKey(n);$.a.saveSortData(e,{sortColumn:l,sortOrder:o}),r({type:Le.PLATFORM_DATAGRID_SORT_CHANGE,id:e.id,sortColumn:l,sortOrder:o}),Ke(e,t)(r,i)}},ze=function(e,t,n){return function(a,r){$.a.checkGridParam(e),$.a.checkColumnsParam(t);var i=$.a.loadGridConfig(e,t),s=l.a.Iterable.isIterable(n)?n:l.a.fromJS(n),c=$.a.loadSelectedItems(e).filter(function(t){return!!s.find(function(n){return n.getIn(e.idKeyPath)===t})});if(a({type:Le.PLATFORM_DATAGRID_SET_DATA,id:e.id,data:s,config:i,selectedItems:c}),e.pagination){var d=r().datagrid.get(e.id);if(!d)return!1;d.getIn(["config","filteringData","filterData"],Object(o.Map)()).isEmpty()||a({type:Le.PLATFORM_DATAGRID_APPLY_FILTERS,id:e.id,data:s}),d.getIn(["config","sortingData"])&&a({type:Le.PLATFORM_DATAGRID_APPLY_SORT,id:e.id,data:s,allData:s})}else Ve(e,t)(a,r),Ke(e,t)(a,r);return!0}},He=function(e,t,n){return void 0===n&&(n=!1),function(a){$.a.checkGridParam(e),a({type:Le.PLATFORM_DATAGRID_SET_FOCUS_TO,focusTo:t,focusToLastRow:n,id:e.id})}},We=function(e,t,n,a){return void 0===a&&(a=!1),function(r,i){$.a.checkGridParam(e);var o=l.a.Iterable.isIterable(n)?n:l.a.fromJS(n);r({type:Le.PLATFORM_DATAGRID_EXTEND_DATA,id:e.id,data:o,prepend:a}),Ve(e,t)(r,i),Ke(e,t)(r,i)}},qe=function(e,t,n){return function(a,r){$.a.checkGridParam(e);var i=r().datagrid.getIn([e.id,"config","columnWidths"],Object(o.Map)()).set(t,n);$.a.saveColumnWidths(e,i),a({type:Le.PLATFORM_DATAGRID_RESIZE_COLUMN,id:e.id,columnWidths:i})}},Ue=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_EDIT,id:e.id})}},Je=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_CANCEL,id:e.id})}},Ye=function(e,t){return void 0===t&&(t=function(){}),function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_SAVE,id:e.id}),t()}},Xe=function(e,t,n){return function(a,r){$.a.checkGridParam(e),a({type:Le.PLATFORM_DATAGRID_SAVE_SUCCESS,id:e.id,idKeyPath:e.idKeyPath,savedItems:n}),Ve(e,t)(a,r),Ke(e,t)(a,r)}},Ze=function(e,t,n){return function(a,r){$.a.checkGridParam(e),a({type:Le.PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS,id:e.id,idKeyPath:e.idKeyPath,savedItems:n}),Ve(e,t)(a,r),Ke(e,t)(a,r)}},$e=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_SAVE_FAIL,id:e.id})}},Qe=function(e,t){return function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_CREATE,id:e.id,columnDefaultValues:t})}},et=function(e,t){return function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_ADD_NEW_ITEM,id:e.id,columnDefaultValues:t})}},tt=function(e,t){return function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_REMOVE_ITEM,id:e.id,idKeyPath:e.idKeyPath,rowId:t})}},nt=function(e,t){return function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_REMOVE_NEW_ITEM,id:e.id,index:t})}},at=function(e,t){return function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_REMOVE_NEW_ITEMS,id:e.id,indexes:t})}},rt=function(e,t){return void 0===t&&(t=function(){}),function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_REMOVE,id:e.id}),t()}},it=function(e,t){return function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_REMOVE_SUCCESS,id:e.id,idKeyPath:e.idKeyPath,removedIds:t})}},ot=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_REMOVE_FAIL,id:e.id})}},lt=function(e,t,n,a){return function(r){$.a.checkGridParam(e),r({type:Le.PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE,id:e.id,dataId:t,keyPath:n,value:a})}},st=function(e,t,n,a,r){return void 0===r&&(r=[]),function(i,l){$.a.checkGridParam(e);var s={valid:!0};return r.forEach(function(r){if(s.valid)if(r.unique){if(""!==a||null!==a||void 0!==a){var i=l().datagrid.get(e.id),c=i.get("editData"),d=i.get("allData");c&&c.forEach(function(t,n){var a=d.findIndex(function(t){return t.getIn(e.idKeyPath)===n});-1!==a&&(d=d.mergeDeepIn([a],t))}),d.find(function(r){return(!e.idKeyPath.length||r.getIn(e.idKeyPath)!==t)&&r.getIn(n)===a})&&(s={valid:!1,message:"Validation.Unique"})}}else if(r.validateWithRowData){var u=l().datagrid.get(e.id),p=u.getIn(["editData",t],Object(o.Map)()),g=u.get("allData").find(function(n){return n.getIn(e.idKeyPath)===t});if(g){g=g.mergeDeep(p);var f=r.params?Object.values(r.params):[];s=r.validateWithRowData.apply(r,[a,g].concat(f))}}else{var m=r.params?Object.values(r.params):[];s=r.validate.apply(r,[a].concat(m)),r.params&&(s.messageValues=r.params)}}),s.valid?i({type:Le.PLATFORM_DATAGRID_CELL_HIDE_MESSAGE,id:e.id,messageType:"error",dataId:t,keyPath:n}):i({type:Le.PLATFORM_DATAGRID_CELL_SHOW_MESSAGE,id:e.id,messageType:"error",dataId:t,keyPath:n,messageId:s.message,messageValues:s.messageValues}),s.valid}},ct=function(e,t,n,a){return function(r){$.a.checkGridParam(e),r({type:Le.PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE,id:e.id,rowIndex:t,keyPath:n,value:a})}},dt=function(e,t,n,a,r){return void 0===r&&(r=[]),function(i,o){$.a.checkGridParam(e);var l={valid:!0};return r.forEach(function(r){if(l.valid)if(r.unique)""===a&&null===a&&void 0===a||(o().datagrid.getIn([e.id,"allData"]).find(function(e){return e.getIn(n)===a})?l={valid:!1,message:"Validation.Unique"}:o().datagrid.getIn([e.id,"createData"]).find(function(e,r){return r!==t&&e.getIn(n)===a})&&(l={valid:!1,message:"Validation.Unique"}));else if(r.validateWithRowData){var i=o().datagrid.getIn([e.id,"createData",t]),s=r.params?Object.values(r.params):[];l=r.validateWithRowData.apply(r,[a,i].concat(s))}else{var c=r.params?Object.values(r.params):[];l=r.validate.apply(r,[a].concat(c)),r.params&&(l.messageValues=r.params)}}),l.valid?i({type:Le.PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE,id:e.id,messageType:"error",rowIndex:t,keyPath:n}):i({type:Le.PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE,id:e.id,messageType:"error",rowIndex:t,keyPath:n,messageId:l.message,messageValues:l.messageValues}),l.valid}},ut=function(e,t,n,a,r,i){return function(o){$.a.checkGridParam(e),o({type:Le.PLATFORM_DATAGRID_CELL_SHOW_MESSAGE,id:e.id,messageType:t,dataId:n,keyPath:a,messageId:r,messageValues:i})}},pt=function(e,t){return function(n){$.a.checkGridParam(e),n({type:Le.PLATFORM_DATAGRID_CELL_SHOW_MESSAGES,id:e.id,messages:t})}},gt=function(e,t,n,a){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===a&&(a=null),function(r){$.a.checkGridParam(e),r({type:Le.PLATFORM_DATAGRID_CELL_HIDE_MESSAGE,id:e.id,messageType:t,dataId:n,keyPath:a})}},ft=function(e,t,n,a,r,i){return function(o){$.a.checkGridParam(e),o({type:Le.PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE,id:e.id,messageType:t,rowIndex:n,keyPath:a,messageId:r,messageValues:i})}},mt=function(e,t,n,a){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===a&&(a=null),function(r){$.a.checkGridParam(e),r({type:Le.PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE,id:e.id,messageType:t,rowIndex:n,keyPath:a})}},ht=function(e,t){return void 0===t&&(t=null),function(n){$.a.checkGridParam(e),n({selectedCell:t,id:e.id,type:Le.PLATFORM_DATAGRID_CELL_SELECTION_CHANGE})}},Ct=function(e,t,n,a){return void 0===n&&(n=!1),void 0===a&&(a=!1),function(r,i){$.a.checkGridParam(e),r({type:Le.PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE,id:e.id,rowIndex:t,idKeyPath:e.idKeyPath,ctrlPressed:n,shiftPressed:a}),$.a.saveSelectedItems(e,i().datagrid.getIn([e.id,"selectedItems"]))}},vt=function(e){return function(t,n){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE,id:e.id,idKeyPath:e.idKeyPath}),$.a.saveSelectedItems(e,n().datagrid.getIn([e.id,"selectedItems"]))}},Et=function(e){return function(t,n){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS,id:e.id}),$.a.saveSelectedItems(e,n().datagrid.getIn([e.id,"selectedItems"]))}},At=function(e){return function(t,n){$.a.checkGridParam(e);var a=!n().datagrid.getIn([e.id,"config","filteringData","isFiltering"],!1);$.a.saveIsFiltering(e,a),t({type:Le.PLATFORM_DATAGRID_TOGGLE_FILTERING,id:e.id,isFiltering:a})}},It=function(e,t){return function(n,a){$.a.checkGridParam(e);var r=a().datagrid.get(e.id),i=r.get("editData",Object(o.Map)()),l=!0;return i.forEach(function(i,o){t.forEach(function(t){var s=i.getIn(t.valueKeyPath);void 0===s&&(s=r.get("allData").find(function(t){return t.getIn(e.idKeyPath)===o}).getIn(t.valueKeyPath));var c=st(e,o,t.valueKeyPath,s,t.validators)(n,a);l&&!c&&(l=!1)})}),l}},Rt=function(e,t){return function(n,a){$.a.checkGridParam(e);var r=a().datagrid.getIn([e.id,"createData"],Object(o.Map)()),i=[];r.forEach(function(e,n){var a=!0;t.forEach(function(t){var n=e.getIn(t.valueKeyPath);void 0!==n&&""!==n&&null!==n&&(a=!1)}),a&&i.push(n)}),i.length>0&&at(e,i)(n)}},_t=function(e,t){return function(n,a){$.a.checkGridParam(e),Rt(e,t)(n,a);var r=a().datagrid.getIn([e.id,"createData"],Object(o.Map)()),i=!0;return r.forEach(function(r,o){t.forEach(function(t){var l=r.getIn(t.valueKeyPath),s=dt(e,o,t.valueKeyPath,l,t.validators)(n,a);i&&!s&&(i=!1)})}),i}},Dt=function(e,t,n,a){return function(r){$.a.checkGridParam(e),r({type:Le.PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE,id:e.id,dataId:t,keyPath:n,value:a})}},Tt=function(e,t,n){return void 0===n&&(n=Object(o.Map)()),function(a){$.a.checkGridParam(e),a({data:t,cellMessages:n,id:e.id,type:Le.PLATFORM_DATAGRID_SET_EDIT_DATA})}},yt=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN,id:e.id})}},St=function(e){return function(t){$.a.checkGridParam(e),t({type:Le.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE,id:e.id})}},Ot=function(e,t,n){return function(a){$.a.checkGridParam(e),$.a.saveColumnSettings(e,t,n),a({type:Le.PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE,id:e.id,columnOrder:n})}},bt=function(e,t){return function(n){$.a.savePage(e,t),n({page:t,id:e.id,type:Le.PLATFORM_DATAGRID_SET_PAGE})}},Pt=function(e,t){return function(n){$.a.saveRowsOnPage(e,t),n({rowsOnPage:t,id:e.id,type:Le.PLATFORM_DATAGRID_SET_ROWS_ON_PAGE})}},Mt=n(2045),Ft=n(506),Lt={getAvailableColumns:function(e){return e.map(function(e){var t=$.a.getColumnKey(e),n=e.header;return{isLocked:e.isLocked,label:n,value:t}})},getSelectedColumns:function(e,t){var n=[];return t.forEach(function(t){e.forEach(function(e){if($.a.getColumnKey(e)===t){var a=e.header,r=e.isLocked;n.push({isLocked:r,label:a,value:t})}})}),n},getHiddenColumns:function(e,t){var n=[];return e.forEach(function(e){-1===t.findIndex(function(t){return t.value===e.value})&&n.push(e.value)}),n},getColumnOrders:function(e){return e.map(function(e){return e.value})}};function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=Object(c.injectIntl)(Fe=function(e){var t,n;function a(t){var n;Gt(wt(n=e.call(this,t)||this),"handleCancelClick",function(){n.props.closeColumnSettingsModal(n.props.grid)}),Gt(wt(n),"handleOkClick",function(){var e=Lt.getHiddenColumns(n.state.availableColumns,n.state.selectedColumns),t=Lt.getColumnOrders(n.state.selectedColumns);n.props.saveColumnSettings(n.props.grid,e,t),n.props.closeColumnSettingsModal(n.props.grid)}),Gt(wt(n),"handleSelectionChange",function(e){n.setState({allSelected:e.allSelected,selectedColumns:e.selectedData.toJS()})});var a=Lt.getAvailableColumns(t.columns),r=Lt.getSelectedColumns(t.columns,t.visibleColumns);return n.state={availableColumns:a,selectedColumns:r,allSelected:a.length===r.length},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return i.a.createElement(Mt.a,{bsSize:"large",dialogClassName:"oc-datagrid-column-settings-modal","aria-labelledby":"oc-datagrid-column-settings-modal",show:!0,onHide:this.handleCancelClick},i.a.createElement(Mt.a.Header,null,i.a.createElement(Mt.a.Title,null,i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.Header"}))),i.a.createElement(Mt.a.Body,null,i.a.createElement(Ft.a,{allSelected:this.state.allSelected,availableData:Object(o.List)(this.state.availableColumns),id:"ocDatagridColumnSettings-"+this.props.grid.id,onChange:this.handleSelectionChange,selectedData:Object(o.List)(this.state.selectedColumns),searchPlaceholder:this.props.intl.formatMessage({id:"Common.Search"}),translations:{allLabel:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.All"}),availableListLabel:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.AvailableColumns"}),selectedListLabel:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.SelectedColumns"}),searchTooltip:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.SearchTooltip"})}})),i.a.createElement(Mt.a.Footer,null,i.a.createElement(fe.a,{id:"ocDatagridColumnSettings-"+this.props.grid.id+"-ok-button",bsStyle:"primary",onClick:this.handleOkClick},i.a.createElement(c.FormattedMessage,{id:"Grid.Ok"})),i.a.createElement(fe.a,{id:"ocDatagridColumnSettings-"+this.props.grid.id+"-cancel-button",onClick:this.handleCancelClick},i.a.createElement(c.FormattedMessage,{id:"Grid.Cancel"}))))},a}(i.a.PureComponent))||Fe,jt=Object(o.Map)(),Vt={TAB:9,ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,ESC:27},xt=n(89),Nt=n(511);n(951);function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(){var e=Jt(["\n  min-width: 60px;\n"]);return Ht=function(){return e},e}function Wt(){var e=Jt(["\n  padding: 0 1rem;\n"]);return Wt=function(){return e},e}function qt(){var e=Jt(["\n  display: flex;\n  align-items: center;\n"]);return qt=function(){return e},e}function Ut(){var e=Jt(["\n  align-items: center;\n  display: flex;\n  padding: 1rem;\n  height: auto;\n  justify-content: space-between;\n  width: 100%;\n  flex: 0 0 auto;\n"]);return Ut=function(){return e},e}function Jt(e,t){return t||(t=e.slice(0)),e.raw=t,e}var Yt=[{label:"10",value:10},{label:"25",value:25},{label:"50",value:50},{label:"75",value:75},{label:"100",value:100}],Xt=M.a.div(Ut()),Zt=M.a.div(qt()),$t=M.a.span(Wt()),Qt=Object(M.a)(xt.a)(Ht()),en=function(e){var t,n,a,r;return t=Object(s.connect)(function(e,t){var n=t.grid;return{filterData:e.datagrid.getIn([n.id,"config","filteringData","filterData"],Object(o.Map)()),isCreating:e.datagrid.getIn([n.id,"session","isCreating"],!1),isEditing:e.datagrid.getIn([n.id,"session","isEditing"],!1),page:e.datagrid.getIn([n.id,"config","page"]),rowsOnPage:e.datagrid.getIn([n.id,"config","rowsOnPage"]),sortColumn:e.datagrid.getIn([n.id,"config","sortingData","sortColumn"],n.defaultSortColumn),sortOrder:e.datagrid.getIn([n.id,"config","sortingData","sortOrder"],n.defaultSortOrder)}},function(e){return{setPage:function(t,n){return e(bt(t,n))},setRowsOnPage:function(t,n){return e(Pt(t,n))}}}),Object(c.injectIntl)(n=t((r=a=function(t){var n,a;function r(n){var a;zt(Bt(a=t.call(this,n)||this),"componentDidUpdate",function(e){var t=a.props,n=t.filterData,r=t.pagination,i=t.page,o=t.rowsOnPage,l=t.sortColumn,s=t.sortOrder;r&&!n.equals(e.filterData)&&i>1?a.gotoPage(1):!r||n.equals(e.filterData)&&i===e.page&&o===e.rowsOnPage&&l===e.sortColumn&&s===e.sortOrder||a.requestData()}),zt(Bt(a),"getSelectedRowsOnPageOption",function(){var e=a.props,t=e.rowsOnPage;return e.rowsOnPageOptions.find(function(e){return e.value===t})}),zt(Bt(a),"requestData",function(){var e=a.props,t=e.filterData,n=e.pagination,r=e.page,i=e.rowsOnPage,o=e.sortColumn,l=e.sortOrder,s=(r-1)*i;n.getData(s,i,t,o,l)}),zt(Bt(a),"gotoPage",function(e){var t=a.props.grid;a.props.setPage(t,e)}),zt(Bt(a),"handleRowsOnPageChange",function(e){var t=a.props,n=t.grid,r=t.page,i=t.pagination,o=e.value;a.props.setRowsOnPage(n,o),r>Math.ceil(i.totalSize/o)&&a.gotoPage(1)}),zt(Bt(a),"renderTotalCount",function(){var e,t=a.props,n=t.intl,r=t.pagination,o=r.totalLimit,l=r.totalSize;switch(l){case 1:e=n.formatMessage({id:"Grid.Pagination.TotalSingular"});break;case o:e=n.formatMessage({id:"Grid.Pagination.TotalOver"},{n:l});break;default:e=n.formatMessage({id:"Grid.Pagination.TotalPlural"},{n:l})}return i.a.createElement("span",null,e)}),zt(Bt(a),"render",function(){for(var t=a.props,n=t.children,r=t.grid,l=t.intl,s=t.isCreating,c=t.isEditing,d=t.page,u=t.pagination,p=t.rowsOnPage,g=t.rowsOnPageOptions,f=u&&u.totalSize>0&&p>0?Math.ceil(u.totalSize/p):1,m=[],h=1;h<=f;h++)m.push(h);return u?i.a.createElement(e,Kt({},a.props,{grid:Kt({},r,{pagination:!0})}),n,i.a.createElement(Xt,{className:"footer"},a.renderTotalCount(),i.a.createElement(Nt.a,{disabled:s||c,goToItem:a.gotoPage,id:"listPaginationItems",itemId:d,itemIds:Object(o.List)(m),typeable:!0}),i.a.createElement(Zt,null,i.a.createElement($t,null,l.formatMessage({id:"Grid.Pagination.RowsOnPage"})),i.a.createElement(Qt,{isCrearable:!1,isDisabled:s||c,onChange:a.handleRowsOnPageChange,options:g,value:a.getSelectedRowsOnPageOption()})))):i.a.createElement(e,a.props)});var r=n.grid,l=n.pagination,s=n.rowsOnPageOptions,c=n.rowsOnPage;if(l&&s&&s.length>0){var d=s.find(function(e){return e.value===l.pageSize})||s[0];d&&d.value!==c&&n.setRowsOnPage(r,d.value)}return a}return a=t,(n=r).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,r}(i.a.PureComponent),zt(a,"defaultProps",{children:null,page:1,pagination:void 0,rowsOnPage:void 0,rowsOnPageOptions:Yt,sortColumn:void 0,sortOrder:void 0}),n=r))||n)||n},tn=n(2),nn=n.n(tn),an=n(509);function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var on=function(e){return i.a.createElement(an.a,e)},ln={valRender:function(e,t,n){return n(e,function(e){return function(e,t){return nn()(e,t,!0).isValid()}(e,t)?nn.a.utc(e,t).format(t):(n=e,nn()(n).isValid()?nn.a.utc(e).format(t):i.a.createElement(c.FormattedMessage,{id:"Grid.InvalidDate"}));var n})},cellEdit:function(e,t,n,a,r,i,o,l,s,c){var d=rn({className:"oc-data-grid-date",dateFormat:o,locale:i,value:s.getItemValue(n,e),onChange:s.onCellValueChange(n,e,l),inputRef:s.handleCellRef(n,e),inputProps:{tabIndex:a,id:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,onKeyDown:s.onCellKeyDown(n,e),onBlur:s.onCellBlur(n,e),onFocus:s.onCellFocus("edit",e.componentType,n,t.columnKey),style:t.style},disabled:c(n,e,"edit")},e.editComponentProps);return on(rn({},d))},cellCreate:function(e,t,n,a,r,i,o,l,s,c){var d=rn({className:"oc-data-grid-date",dateFormat:o,locale:i,value:s.getItemValue(n,e),onChange:s.onCellValueChange(n,e,l),inputRef:s.handleCellRef(n,e),inputProps:{tabIndex:a,id:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,onKeyDown:s.onCellKeyDown(n,e),onBlur:s.onCellBlur(n,e),onFocus:s.onCellFocus("create",e.componentType,n,t.columnKey),style:t.style},disabled:c(n,e,"create")},e.createComponentProps);return on(rn({},d))},cellFilter:function(e,t,n,a,r,i,o,l){var s=rn({className:"oc-data-grid-date",dateFormat:i,value:l.getItemValue(e),onChange:l.onCellValueChange(e,o),locale:r,inputProps:{tabIndex:n,id:"ocDatagridFilterInput-"+a+"-"+t.columnKey,style:t.style}},e.filterComponentProps);return on(rn({},s))}};function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var cn=function(e){return i.a.createElement(xt.a,e)},dn=function(e){return i.a.createElement(xt.b,e)},un={valRender:function(e,t,n){return n(e,function(e){var n=t.find(function(t){return t.value===e});return n?n.label:null})},cellEdit:function(e,t,n,a,r,i,o,l,s,c){var d=e.editSelectOptionsMod&&i?e.editSelectOptionsMod(i.slice(),n,e):i,u=sn({name:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,options:d,value:s.getItemValue(n,e,{selectOptions:i}),onChange:s.onCellValueChange(n,e,l),onBlur:s.onCellBlur(n,e),onFocus:s.onCellFocus("edit",e.componentType,n,t.columnKey),onKeyDown:s.onCellKeyDown(n,e),isSearchable:i&&i.length>9,isClearable:!e.isRequired,backSpaceRemovesValue:!1,tabSelectsValue:!1,openMenuOnFocus:!1,ref:s.handleCellRef(n,e),isDisabled:c(n,e,"edit"),tabIndex:a},e.editComponentProps,o);return e.isCreatableSelect?dn(sn({},u)):cn(sn({},u))},cellCreate:function(e,t,n,a,r,i,o,l,s,c){var d=e.createSelectOptionsMod&&i?e.createSelectOptionsMod(i.slice(),n,e):i,u=sn({name:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,options:d,value:s.getItemValue(n,e,{selectOptions:i}),onChange:s.onCellValueChange(n,e,l),onBlur:s.onCellBlur(n,e),onKeyDown:s.onCellKeyDown(n,e),onFocus:s.onCellFocus("create",e.componentType,n,t.columnKey),isSearchable:i&&i.length>9,isClearable:!e.isRequired,backspaceRemovesValue:!1,tabSelectsValue:!1,openMenuOnFocus:!1,ref:s.handleCellRef(n,e),isDisabled:c(n,e,"create"),tabIndex:a},e.createComponentProps,o);return e.isCreatableSelect?dn(sn({},u)):cn(sn({},u))},cellFilter:function(e,t,n,a,r,i,o,l){var s=e.filterSelectOptionsMod&&r?e.filterSelectOptionsMod(r.slice(),e):r,c=sn({name:"ocDatagridFilterInput-"+a+"-"+t.columnKey,options:s,value:l.getItemValue(e,{selectOptions:r}),onChange:l.onCellValueChange(e,o),isSearchable:r&&r.length>9,isClearable:!0,tabSelectsValue:!1,tabIndex:n},e.filterComponentProps,i);return cn(sn({},c))}};function pn(){return(pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var gn={valRender:function(e,t,n){return n(t,function(t){return i.a.createElement(c.FormattedMessage,pn({id:t?"Grid.Yes":"Grid.No"},e.renderComponentProps))})},cellEdit:function(e,t,n,a,r,i,o,l,s,c){var d=pn({name:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,options:i,value:s.getItemValue(n,e,i),onChange:s.onCellValueChange(n,e,l),onBlur:s.onCellBlur(n,e),onFocus:s.onCellFocus("edit",e.componentType,n,t.columnKey),onKeyDown:s.onCellKeyDown(n,e),isSearchable:!1,isClearable:!e.isRequired,backSpaceRemovesValue:!1,tabSelectsValue:!1,openMenuOnFocus:!1,isDisabled:c(n,e,"edit"),ref:s.handleCellRef(n,e),tabIndex:a},e.editComponentProps,o);return cn(pn({},d))},cellCreate:function(e,t,n,a,r,i,o,l,s,c){var d=pn({name:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,options:i,value:s.getItemValue(n,e,i),onChange:s.onCellValueChange(n,e,l),onBlur:s.onCellBlur(n,e),onKeyDown:s.onCellKeyDown(n,e),isSearchable:!1,isClearable:!e.isRequired,backspaceRemovesValue:!1,tabSelectsValue:!1,openOnFocus:!0,ref:s.handleCellRef(n,e),isDisabled:c(n,e,"create"),tabIndex:a},e.createComponentProps,o);return cn(pn({},d))},cellFilter:function(e,t,n,a,r,i,o,l){var s=pn({name:"ocDatagridFilterInput-"+a+"-"+t.columnKey,options:r,value:l.getItemValue(e,r),onChange:l.onCellValueChange(e,o),isSearchable:!1,isClearable:!0,tabSelectsValue:!1,openMenuOnFocus:!1,tabIndex:n},e.filterComponentProps,i);return cn(pn({},s))}};function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var mn=function(e){return i.a.createElement(h.a,e)},hn={valRender:function(e,t){return t(e,function(e){return e?i.a.createElement(Te.a,{size:20}):null})},cellEdit:function(e,t,n,a,r,i){var o,l=fn({id:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,tabIndex:a,checked:i.getItemValue(n,e)||!1,onChange:i.onCellValueChange(n,e,(o=n,function(){return!i.getItemValue(o,e)})),onKeyDown:i.onCellKeyDown(n,e),onBlur:i.onCellBlur(n,e),onFocus:i.onCellFocus("edit",e.componentType,n,t.columnKey),inputRef:i.handleCellRef(n,e)},e.editComponentProps);return mn(l)},cellCreate:function(e,t,n,a,r,i){var o,l=fn({id:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,tabIndex:a,checked:i.getItemValue(n,e)||!1,onChange:i.onCellValueChange(n,e,(o=n,function(){return!i.getItemValue(o,e)})),onKeyDown:i.onCellKeyDown(n,e),onBlur:i.onCellBlur(n,e),inputRef:i.handleCellRef(n,e)},e.createComponentProps);return mn(l)},cellFilter:function(e,t,n,a,r,i){var o=[{value:!0,label:r.formatMessage({id:"Grid.Checked"})},{value:!1,label:r.formatMessage({id:"Grid.UnChecked"})}],l=e.selectComponentTranslations||{placeholder:r.formatMessage({id:"Grid.FloatingSelect.Select"}),noResultsText:r.formatMessage({id:"Grid.FloatingSelect.NoResults"})},s=fn({name:"ocDatagridFilterInput-"+a+"-"+t.columnKey,options:o,value:i.getItemValue(e,o),onChange:i.onCellValueChange(e,function(e){return e}),isSearchable:!1,isClearable:!0,tabSelectsValue:!1,openMenuOnFocus:!0,tabIndex:n},e.filterComponentProps,l);return cn(fn({},s))}},Cn=n(176),vn=function(e,t,n,a,r,i){var o=e.valueOptions&&(e.valueOptions.currencyKeyPath||["currency"]);return i(n,function(i){return Object(Cn.a)(i,{currency:t.getIn([n].concat(o)),decimals:e.valueOptions&&e.valueOptions.decimals,thousandSeparator:e.valueOptions&&e.valueOptions.thousandSeparator||a,decimalSeparator:e.valueOptions&&e.valueOptions.decimalSeparator||r})})},En=n(2046);function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var In=function(e){return i.a.createElement(En.a,e)},Rn={numberValRender:function(e,t,n,a,r){var i="number"===e.componentType?0:2;return r(t,function(t){return Object(Cn.b)(t,{decimals:e.valueOptions&&e.valueOptions.decimals||i,thousandSeparator:e.valueOptions&&e.valueOptions.thousandSeparator||n,decimalSeparator:e.valueOptions&&e.valueOptions.decimalSeparator||a})})},cellEdit:function(e,t,n,a,r,i,o,l,s){var c=An({id:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,style:t.style,tabIndex:a,type:o,value:l.getItemValue(n,e),onBlur:l.onCellBlur(n,e),onKeyDown:l.onCellKeyDown(n,e),inputRef:l.handleCellRef(n,e),disabled:s(n,e,"edit"),onChange:l.onCellValueChange(n,e,i),onFocus:l.onCellFocus("edit",e.componentType,n,t.columnKey)},e.editComponentProps);return In(An({},c))},cellCreate:function(e,t,n,a,r,i,o,l,s){var c=An({id:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,style:t.style,tabIndex:a,type:o||e.componentType,value:l.getItemValue(n,e),onBlur:l.onCellBlur(n,e),onKeyDown:l.onCellKeyDown(n,e,!1),inputRef:l.handleCellRef(n,e),disabled:s(n,e,"create"),onChange:l.onCellValueChange(n,e,i),onFocus:l.onCellFocus("create",e.componentType,n,t.columnKey)},e.createComponentProps);return In(An({},c))},cellFilter:function(e,t,n,a,r,i,o){var l=An({id:"ocDatagridFilterInput-"+a+"-"+t.columnKey,style:t.style,tabIndex:n,type:i,value:o.getItemValue(e),onChange:o.onCellValueChange(e,r)},e.filterComponentProps);return In(An({},l))}};function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Dn={cellFilter:function(e,t,n,a,r,o,l,s){var c,d=e.filterSelectOptionsMod&&r?e.filterSelectOptionsMod(r.slice(),e):r,u=s.getItemValue(e,{selectOptions:r}),p=d.map(function(e){return u&&u.some(function(t){return e.value===t.value})?_n({},e,{checked:!0}):e}),g=_n({},e.filterComponentProps,o,{components:{MultiValueContainer:(c=o.selected,function(e){return e.selectProps.value&&0===e.selectProps.value.findIndex(function(t){return t.value===e.data.value})?i.a.createElement("span",null,c.replace("<n>",e.selectProps.value.length)):null}),Option:function(e){var t=e.data,n=t.checked,a=t.label,r=e.innerProps;return i.a.createElement("span",r,i.a.createElement(h.a,{onChange:function(){},label:a,checked:n}))}},hideSelectedOptions:!1,isSearchable:r&&r.length>9,isClearable:!0,isMulti:!0,name:"ocDatagridFilterInput-"+a+"-"+t.columnKey,onChange:s.onCellValueChange(e,l),options:p,tabSelectsValue:!1,tabIndex:n,value:u,closeMenuOnSelect:!1});return i.a.createElement(xt.a,g)}};function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var yn,Sn,On,bn,Pn={baseColumn:function(e){var t={header:e.header,columnKey:$.a.getColumnKey(e),width:e.width||0===e.width?e.width:200,minWidth:e.minWidth||0===e.minWidth?e.minWidth:40,maxWidth:e.maxWidth,isResizable:!e.disableResizing,fixed:!!e.fixed,fixedRight:!!e.fixedRight,allowCellsRecycling:!!e.allowCellsRecycling,disableSorting:!!e.disableSorting,isRequired:!!e.isRequired,componentType:e.componentType,style:$.a.getCellStyleByCol(e)};return e.valueKeyPath&&(t.valueKeyPath=e.valueKeyPath),e.flexGrow&&(t.flexGrow=e.flexGrow),e.valueType&&(t.valueType=e.valueType),e.sortComparator&&(t.sortComparator=e.sortComparator),e.sortValueGetter&&(t.sortValueGetter=e.sortValueGetter),t},columnCell:function(e,t,n,a){var r=e;if(n.cell)r.cell=n.cell;else if(n.valueRender)r.cell=function(e){return n.valueRender(t.data.get(e),e)};else switch(n.componentType){case"number":case"float":r.cell=function(e){return Rn.numberValRender(n,e,t.thousandSeparator,t.decimalSeparator,a)};break;case"boolean":r.cell=function(e){return gn.valRender(n,e,a)};break;case"checkbox":r.cell=function(e){return hn.valRender(e,a)};break;case"multiselect":case"select":var i=n.selectComponentOptions||t.selectComponentOptions.get(r.columnKey);r.cell=function(e){return un.valRender(e,i,a)};break;case"date":r.cell=function(e){return ln.valRender(e,t.dateFormat,a)};break;case"currency":r.cell=function(e){return vn(n,t.data,e,t.thousandSeparator,t.decimalSeparator,a)};break;default:r.cell=function(e){return a(e)}}return n.cellEdit?r.cellEdit=n.cellEdit:n.editValueRender&&(r.cellEdit=function(e,a,r){return n.editValueRender(t.data.get(e),e,a,r)}),n.cellCreate?r.cellCreate=n.cellCreate:n.createValueRender&&(r.cellCreate=function(e,a,r){return n.createValueRender(t.data.get(e),e,a,r)}),n.cellFilter?r.cellFilter=n.cellFilter:n.filterValueRender&&(r.cellFilter=function(e){return n.filterValueRender(t.data.get(e),e)}),r},columnComponentType:function(e,t,n,a,r,i){if(!a.componentType)return e;var o=e,l=a.editValueParser?a.editValueParser:function(e){return e},s=Tn({},r.edit),c=Tn({},r.create),d=Tn({},r.filter);switch(a.componentType){case"currency":case"float":case"number":case"text":var u="float"===a.componentType||"number"===a.componentType?"text":a.componentType,p=a.editValueParser||"float"!==a.componentType?l:function(e){return e.replace(new RegExp("[^\\d"+n.decimalSeparator+"+-]","g"),"")};n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return Rn.cellEdit.apply(Rn,[a,o,e,t,n.grid.id,p,u].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return Rn.cellCreate.apply(Rn,[a,o,e,t,n.grid.id,p,u].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return Rn.cellFilter.apply(Rn,[a,o,t,n.grid.id,p,u].concat(d))});break;case"checkbox":n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return hn.cellEdit.apply(hn,[a,o,e,t,n.grid.id].concat(s))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return hn.cellCreate.apply(hn,[a,o,e,t,n.grid.id].concat(c))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return hn.cellFilter.apply(hn,[a,o,t,n.grid.id,n.intl].concat(d))});break;case"multiselect":var g=a.selectComponentOptions||n.selectComponentOptions.get(o.columnKey),f=a.selectComponentTranslations||{placeholder:n.intl.formatMessage({id:"Grid.FloatingSelect.Select"}),noResultsText:n.intl.formatMessage({id:"Grid.FloatingSelect.NoResults"}),selected:n.intl.formatMessage({id:"Grid.FloatingSelect.Selected"},{n:"<n>"})};n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return un.cellEdit.apply(un,[a,o,e,t,n.grid.id,g,f,l].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return un.cellCreate.apply(un,[a,o,e,t,n.grid.id,g,f,l].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return Dn.cellFilter.apply(Dn,[a,o,t,n.grid.id,g,f,l].concat(d))});break;case"select":var m=a.selectComponentOptions||n.selectComponentOptions.get(o.columnKey),h=a.selectComponentTranslations||{placeholder:n.intl.formatMessage({id:"Grid.FloatingSelect.Select"}),noResultsText:n.intl.formatMessage({id:"Grid.FloatingSelect.NoResults"})};n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return un.cellEdit.apply(un,[a,o,e,t,n.grid.id,m,h,l].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return un.cellCreate.apply(un,[a,o,e,t,n.grid.id,m,h,l].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return un.cellFilter.apply(un,[a,o,t,n.grid.id,m,h,l].concat(d))});break;case"boolean":var C=[{value:!0,label:n.intl.formatMessage({id:"Grid.Yes"})},{value:!1,label:n.intl.formatMessage({id:"Grid.No"})}],v=a.selectComponentTranslations||{placeholder:n.intl.formatMessage({id:"Grid.FloatingSelect.Select"}),noResultsText:n.intl.formatMessage({id:"Grid.FloatingSelect.NoResults"})};n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return gn.cellEdit.apply(gn,[a,o,e,t,n.grid.id,C,v,l].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return gn.cellCreate.apply(gn,[a,o,e,t,n.grid.id,C,v,l].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return gn.cellFilter.apply(gn,[a,o,t,n.grid.id,C,v,l].concat(d))});break;case"date":n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return ln.cellEdit.apply(ln,[a,o,e,t,n.grid.id,n.region,n.dateFormat,l].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return ln.cellCreate.apply(ln,[a,o,e,t,n.grid.id,n.region,n.dateFormat,l].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return ln.cellFilter.apply(ln,[a,o,t,n.grid.id,n.region,n.dateFormat,l].concat(d))})}return o}};n(965);function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wn=a,Gn=(yn=Object(s.connect)(function(e,t){var n=t.grid;return{isBusy:e.datagrid.getIn([n.id,"session","isBusy"],!0),isEditing:e.datagrid.getIn([n.id,"session","isEditing"],!1),isCreating:e.datagrid.getIn([n.id,"session","isCreating"],!1),isFiltering:e.datagrid.getIn([n.id,"config","filteringData","isFiltering"],!1),isColumnSettingsModalOpen:e.datagrid.getIn([n.id,"session","columnSettingsModal","open"],!1),sortColumn:e.datagrid.getIn([n.id,"config","sortingData","sortColumn"],null),sortOrder:e.datagrid.getIn([n.id,"config","sortingData","sortOrder"],null),visibleColumns:e.datagrid.getIn([n.id,"config","visibleColumns"],Object(o.List)()),columnWidths:e.datagrid.getIn([n.id,"config","columnWidths"],Object(o.Map)()),selectedCell:e.datagrid.getIn([n.id,"selectedCell"],Object(o.Map)()),selectedItems:e.datagrid.getIn([n.id,"selectedItems"],Object(o.List)()),data:e.datagrid.getIn([n.id,"data"],Object(o.List)()),editData:e.datagrid.getIn([n.id,"editData"],Object(o.Map)()),createData:e.datagrid.getIn([n.id,"createData"],Object(o.List)()),filterData:e.datagrid.getIn([n.id,"config","filteringData","filterData"],Object(o.Map)()),cellMessages:e.datagrid.getIn([n.id,"cellMessages"],Object(o.Map)()),createCellMessages:e.datagrid.getIn([n.id,"createCellMessages"],Object(o.Map)()),allDataSize:e.datagrid.getIn([n.id,"allData"],Object(o.List)()).size,language:$.a.getLanguage(n,e.user),region:$.a.getRegion(n,e.user),dateFormat:$.a.getDateFormat(n,e.user),thousandSeparator:$.a.getThousandSeparator(n,e.user),decimalSeparator:$.a.getDecimalSeparator(n,e.user),forceRefreshTimestamp:e.datagrid.get("forceRefresh",0),focusType:e.datagrid.getIn([n.id,"session","focusType"],Object(o.Map)())}},wn),en(Sn=Object(c.injectIntl)(Sn=yn((bn=On=function(e){var t,n;function a(t){var n;return Ln(Fn(n=e.call(this,t)||this),"onDocumentClick",function(){n.props.contextMenuItems&&n.setState({contextMenuOpen:!1}),document.removeEventListener("click",n.onDocumentClick)}),Ln(Fn(n),"onColumnResizeEndCallback",function(e,t){n.props.resizeColumn(n.props.grid,t,e)}),Ln(Fn(n),"onCellKeyDown",function(e,t,a,r){if(void 0===r&&(r=!1),n.props.enableArrowNavigation){var i=r?n.createCellRefs:n.cellRefs,o=[Vt.DOWN,Vt.UP,Vt.LEFT,Vt.RIGHT],l=n.props,s=l.columns,c=l.visibleColumns,d=l.grid,u=l.data,p=l.onLastCellTabPress,g=$.a.visibleColumns(s,c),f=function(e){return $.a.getColumnKey(g[e])},m=u.size,h=$.a.getColumnKey(t),C=i[d.id+"_"+h+"_"+e],v=null;switch(C&&(C.selectRef||"object"==typeof C.select)&&(v=C,C=n.getSelectRef(v)),o.includes(a.keyCode)&&"number"===C.type&&a.preventDefault(),a.keyCode){case Vt.ENTER:case Vt.ESC:if(r&&a.keyCode===Vt.ENTER){n.props.addNewItem(d,$.a.getColumnDefaultValues(s)),n.focusToCreateCell=!0;break}C.select();break;case Vt.DOWN:var E=i[d.id+"_"+h+"_"+(e+1)];if(v&&v.selectRef&&!v.selectRef.state.menuIsOpen){if(a.preventDefault(),!E)break;E=n.getSelectRef(E)}n.moveCellFocus(E,e+1,-1);break;case Vt.UP:var A=i[d.id+"_"+h+"_"+(e-1)];if(v&&v.selectRef&&!v.selectRef.state.menuIsOpen){if(a.preventDefault(),!A)break;A=n.getSelectRef(A)}n.moveCellFocus(A,e-1,-1);break;case Vt.TAB:case Vt.RIGHT:case Vt.LEFT:if(a.keyCode===Vt.RIGHT&&"text"===C.type&&C.selectionEnd!==C.value.length)break;if(a.keyCode===Vt.LEFT&&"text"===C.type&&0!==C.selectionStart)break;a.preventDefault();var I=g.findIndex(function(e){return e.valueKeyPath.join("/")===h});if(-1!==I){for(var R=!0,_=null,D=e;R;){if(a.keyCode===Vt.LEFT||a.keyCode===Vt.TAB&&a.shiftKey)if(I-1>=0)I-=1;else{if(!(D-1>=0))break;I=g.length-1,D-=1}else if(I+1<g.length)I+=1;else if(D+1<m)I=0,D+=1;else if(D+1===m){p&&a.keyCode===Vt.TAB&&p(a);break}if((_=i[d.id+"_"+f(I)+"_"+D])||a.keyCode===Vt.LEFT){if(!_&&a.keyCode===Vt.LEFT){for(;I>0&&!_;)I-=1,_=i[d.id+"_"+f(I)+"_"+D];D>0&&!_&&(I=g.length-1,D-=1,_=i[d.id+"_"+f(I)+"_"+D])}}else if(I<=g.length)for(;I<=g.length&&!_;)if(_=i[d.id+"_"+f(I)+"_"+D],I+=1,!_&&I===g.length){if(D+1===m){p&&a.keyCode===Vt.TAB&&p(a);break}I=0,D+=1,_=i[d.id+"_"+f(I)+"_"+D]}R=!!_&&_.disabled}!R&&_&&(("object"==typeof _.select||_.selectRef)&&(_=n.getSelectRef(_)),n.moveCellFocus(_,D,I))}}}}),Ln(Fn(n),"onEditCellKeyDown",function(e,t){return function(a){n.onCellKeyDown(e,t,a)}}),Ln(Fn(n),"onCreateCellKeyDown",function(e,t){return function(a){n.onCellKeyDown(e,t,a,!0)}}),Ln(Fn(n),"onFilterCellValueChange",function(e,t){return function(a){var r;a&&(r=void 0!==a.target?a.target.value:void 0!==a.value?a.value:a);var i=t(r);n.props.filterCellValueChange(n.props.grid,n.props.columns,e,i)}}),Ln(Fn(n),"onCreateCellValueChange",function(e,t,a){return function(r){var i;r&&(i=void 0!==r.target?r.target.value:void 0!==r.value?r.value:r);var o=a(i);n.props.createCellValueChange(n.props.grid,e,t.valueKeyPath,o),t.onCreateValueChange&&t.onCreateValueChange(o,t.valueKeyPath,e),t.onValueMatchChangeValue&&o===t.onValueMatchChangeValue.matchValue&&n.onCreateCellValueChange(e,{valueKeyPath:t.onValueMatchChangeValue.newValueKeyPath},function(e){return e})(t.onValueMatchChangeValue.newValue),t.validators&&n.props.createCellValueValidate(n.props.grid,e,t.valueKeyPath,o,t.validators)}}),Ln(Fn(n),"onEditCellValueChange",function(e,t,a){return function(r){var i,o=n.getDataIdByRowIndex(e);r&&(i=void 0!==r.target?r.target.value:void 0!==r.value?r.value:r);var l=a(i);n.props.editCellValueChange(n.props.grid,o,t.valueKeyPath,l),t.onEditValueChange&&t.onEditValueChange(l,t.valueKeyPath,e,o),t.onValueMatchChangeValue&&l===t.onValueMatchChangeValue.matchValue&&n.onEditCellValueChange(e,{valueKeyPath:t.onValueMatchChangeValue.newValueKeyPath},function(e){return e})(t.onValueMatchChangeValue.newValue),t.validators&&n.props.editCellValueValidate(n.props.grid,o,t.valueKeyPath,l,t.validators)}}),Ln(Fn(n),"onCreateCellBlur",function(e,t,a){return function(r){if(t.onCreateBlur){var i=r&&r.target&&void 0!==r.target.value?r.target.value:n.getEditItemValue(e,t);void 0!==a&&(i=a(i)),t.onCreateBlur(i,e)}}}),Ln(Fn(n),"onEditCellBlur",function(e,t,a){return function(r){if(t.onEditBlur){var i=r&&r.target&&void 0!==r.target.value?r.target.value:n.getEditItemValue(e,t);void 0!==a&&(i=a(i));var o=n.getDataIdByRowIndex(e);t.onEditBlur(i,e,o)}}}),Ln(Fn(n),"onCellFocus",function(e,t,a,r){return function(i){var l=n.props,s=l.cellSelectionChange,c=l.cellSelect,d=l.grid;l.isEditing||("number"===t&&i.target.select(),"edit"===e&&c&&s(d,Object(o.Map)({rowIndex:a,columnKey:r})))}}),Ln(Fn(n),"getSelectRef",function(e){return e?e.select&&e.select.inputRef?e.select.inputRef:e.select&&e.select.select?e.select.select.inputRef:e.selectRef&&e.selectRef.select.select?e.selectRef.select.select.inputRef:e.selectRef.select.inputRef:null}),Ln(Fn(n),"getDataIdByRowIndex",function(e){return n.props.data.getIn([e].concat(n.props.grid.idKeyPath))}),Ln(Fn(n),"getSelectedItemIndex",function(e){if(e){var t=n.props.data.findIndex(function(t){return t.getIn(n.props.grid.idKeyPath)===e});return-1===t?void 0:t}}),Ln(Fn(n),"getEditItemValue",function(e,t,a){void 0===a&&(a=[]);var r,i=n.getDataIdByRowIndex(e),o=n.props.editData.getIn([i].concat(t.valueKeyPath),void 0);if(void 0===o)r=n.props.data.getIn([e].concat(t.valueKeyPath),"");else{if(null===o)return"";switch(t.componentType){case"multiselect":case"select":return a.selectOptions.find(function(e){return e.value===o});case"boolean":return a.find(function(e){return e.value===o});default:return o}}if(null==r||""===r)return"";switch(t.componentType){case"float":return String(r).length>0?String(r).replace(".",n.props.decimalSeparator):r;case"multiselect":case"select":return a.selectOptions.find(function(e){return e.value===r});case"boolean":return a.find(function(e){return e.value===r});default:return r}}),Ln(Fn(n),"getCreateItemValue",function(e,t,a){void 0===a&&(a=[]);var r=n.props.createData.getIn([e].concat(t.valueKeyPath),"");return null===r?"":"select"===t.componentType||"multiselect"===t.componentType?a.selectOptions.find(function(e){return e.value===r}):["boolean"].includes(t.componentType)?a.find(function(e){return e.value===r}):r}),Ln(Fn(n),"getFilterItemValue",function(e,t){void 0===t&&(t=[]);var a=n.props.filterData.get($.a.getColumnKey(e),"");return null===a?"":"select"===e.componentType?t.selectOptions.find(function(e){return e.value===a}):["checkbox","boolean"].includes(e.componentType)?t.find(function(e){return e.value===a}):"multiselect"===e.componentType?a&&a.toJS?a.toJS():a||[]:a}),Ln(Fn(n),"getComponentDisabledState",function(e,t,a){var r=!!t.disableEditing;return!r&&t.disableEditingOnValueMatch&&(r="create"===a?n.getCreateItemValue(e,{valueKeyPath:t.disableEditingOnValueMatch.matchValueKeyPath})===t.disableEditingOnValueMatch.matchValue:n.getEditItemValue(e,{valueKeyPath:t.disableEditingOnValueMatch.matchValueKeyPath})===t.disableEditingOnValueMatch.matchValue),r}),Ln(Fn(n),"getRowClassName",function(e){var t=n.props,a=t.grid,r=t.isCreating,i=t.isEditing,o=t.createData,l=t.selectedItems,s=t.data,c=["oc-datagrid-row"],d=0;return r&&(d=o.size),r?e<=d-1&&c.push("oc-datagrid-row-new"):i&&c.push("oc-datagrid-row-edit"),!r&&!i&&l&&a.idKeyPath&&-1!==l.indexOf(s.getIn([e-d].concat(a.idKeyPath)))&&c.push("is-selected"),n.props.rowClassNameGetter?c.join(" ")+" "+n.props.rowClassNameGetter(e):c.join(" ")}),Ln(Fn(n),"getCellMessages",function(e,t,a){var r,i,o,l={};if(!n.props.grid.idKeyPath||!t.valueKeyPath)return l;if("create"===a)r=n.props.createCellMessages.getIn(["info",e].concat(t.valueKeyPath)),i=n.props.createCellMessages.getIn(["error",e].concat(t.valueKeyPath)),o=n.props.createCellMessages.getIn(["warning",e].concat(t.valueKeyPath));else{var s=n.getDataIdByRowIndex(e);r=n.props.cellMessages.getIn(["info",s].concat(t.valueKeyPath)),i=n.props.cellMessages.getIn(["error",s].concat(t.valueKeyPath)),o=n.props.cellMessages.getIn(["warning",s].concat(t.valueKeyPath))}return r&&(l.infoMessage=r),i&&(l.errorMessage=i),o&&(l.warningMessage=o),l}),Ln(Fn(n),"getScrollToRow",function(){var e;if(n.props.isCreating&&!n.focusToCreateCell)return e;if(n.focusToCreateCell){var t=n.props.createData.size-1;t>=0&&(e=t)}else void 0===(e=n.props.isEditing&&!n.props.scrollInEditMode?n.state.currentRow:n.props.scrollToRow)&&n.props.selectedItems.size>0&&(e=n.getSelectedItemIndex(n.props.selectedItems.first()));return e}),Ln(Fn(n),"setFocusTo",function(e){(n.props.isEditing||n.props.isCreating)&&e&&e.get("type")&&e!==n.prevFocusTo&&(n[e.get("type")]=!0,n.focusToLastRow=e.get("focusToLastRow"),n.prevFocusTo=e)}),Ln(Fn(n),"handleCellSelect",function(e,t,a){return function(){"view"===e&&n.props.cellSelect&&n.props.cellSelectionChange(n.props.grid,Object(o.Map)({rowIndex:t,columnKey:a}))}}),Ln(Fn(n),"handleCreateCellRef",function(e,t){return function(a){var r=$.a.getColumnKey(t),i=!a||a.focus?a:n.getSelectRef(a);n.props.createData.size&&n.props.createData.size===e+1&&n.focusToCreateCell&&!n.getComponentDisabledState(e,t,"create")&&i&&(i.focus(),n.focusToCreateCell=!1),n.props.enableArrowNavigation&&(n.createCellRefs[n.props.grid.id+"_"+r+"_"+e]=a)}}),Ln(Fn(n),"handleEditCellRef",function(e,t){return function(a){var r=$.a.getColumnKey(t);if(n.focusToEditCell&&!n.getComponentDisabledState(e,t,"edit")){var i=n.focusToLastRow&&n.props.data.size>0?n.props.data.size-1:n.getSelectedItemIndex(n.props.selectedItems.first()),o=n.props.selectedCell,l=!a||a.focus?a:n.getSelectRef(a);o.size>0?o.get("rowIndex")===e&&o.get("columnKey")===r&&l&&(l.focus(),n.focusToEditCell=!1,n.focusToLastRow=!1):void 0===i?(n.focusToEditCell=!1,n.focusToLastRow=!1):i===e&&l&&(l.focus(),n.focusToEditCell=!1,n.focusToLastRow=!1)}n.props.enableArrowNavigation&&(n.cellRefs[n.props.grid.id+"_"+r+"_"+e]=a)}}),Ln(Fn(n),"moveCellFocus",function(e,t,a){e&&["text","checkbox"].includes(e.type)&&(-1===t&&-1===a||n.setState({currentColumn:a,currentRow:t}),setTimeout(function(){"checkbox"===e.type&&e.focus(),"text"===e.type&&e.select()},50))}),Ln(Fn(n),"handleSelectAllCheckBoxOnChange",function(){n.props.selectAllItemsChange(n.props.grid)}),Ln(Fn(n),"handleSelectionCheckBoxOnChange",function(e){return function(){n.props.itemSelectionChange(n.props.grid,e,!0,!1)}}),Ln(Fn(n),"generateColumns",function(){var e=n.props,t=e.data,a=e.selectedItems,r=e.dateFormat,o=e.thousandSeparator,l=e.decimalSeparator,s=e.grid,d=e.inlineEdit,u=e.filtering,p=e.region,g=e.intl,m=e.selectComponentOptions,C=e.isCreating,v=e.extraColumn,E=e.rowSelectCheckboxColumn,A=e.showSelectAllCheckbox,I=[],R=String(n.props.tabIndex);v&&I.push({width:v.width||40,isResizable:!!v.isResizable,isSortable:!1,columnKey:"extraColumn",cell:function(e){return i.a.createElement("div",{className:"oc-datagrid-extra-column-cell no-row-select"},v.valueRender(t.get(e),R))},cellEdit:function(e){return v.cellEdit?v.cellEdit(e):null},cellCreate:function(e){return v.cellCreate?v.cellCreate(e):null},cellFilter:function(e){return v.cellFilter?v.cellFilter(e):null}}),E&&I.push({width:40,isResizable:!1,isSortable:!1,columnKey:"selectionCheckbox",header:A&&i.a.createElement(h.a,{id:"ocDatagridSelectAllCheckBox-"+s.id,className:"oc-datagrid-select-all-checkbox-cell no-row-select",checked:0!==t.size&&t.size===a.size,onChange:n.handleSelectAllCheckBoxOnChange,tabIndex:R}),cell:function(e){var r=t.get(e).getIn(s.idKeyPath),o=a.includes(r);return i.a.createElement(h.a,{id:"ocDatagridSelectCheckBox-"+n.props.grid.id+"-"+e,className:"oc-datagrid-select-checkbox-cell no-row-select",checked:o,onChange:n.handleSelectionCheckBoxOnChange(e),tabIndex:R})},cellEdit:function(){return null},cellCreate:function(){return null},cellFilter:function(){return null}});var _=[];return n.props.visibleColumns.forEach(function(e){n.props.columns.forEach(function(t){$.a.getColumnKey(t)===e&&_.push(t)})}),_.forEach(function(e){var a=$.a.getValueEmptyChecker(e),f=Pn.baseColumn(e),h={edit:{getItemValue:n.getEditItemValue,onCellValueChange:n.onEditCellValueChange,onCellBlur:n.onEditCellBlur,onCellFocus:n.onCellFocus,onCellKeyDown:n.onEditCellKeyDown,handleCellRef:n.handleEditCellRef},create:{getItemValue:n.getCreateItemValue,onCellValueChange:n.onCreateCellValueChange,onCellBlur:n.onCreateCellBlur,onCellFocus:n.onCellFocus,onCellKeyDown:n.onCreateCellKeyDown,handleCellRef:n.handleCreateCellRef},filter:{getItemValue:n.getFilterItemValue,onCellValueChange:n.onFilterCellValueChange}},C={data:t,dateFormat:r,thousandSeparator:o,decimalSeparator:l};f=Pn.columnCell(f,C,e,function(n,r){var o=t.getIn([n].concat(e.valueKeyPath));return a(o)?e.isRequired?i.a.createElement(c.FormattedMessage,{id:"Grid.ValueIsMissing"}):"":r?r(o):o});var v=Mn({},C,{grid:s,inlineEdit:d,filtering:u,region:p,intl:g,selectComponentOptions:m});f=Pn.columnComponentType(f,R,v,e,h,n.getComponentDisabledState),I.push(f)}),C&&I.push({width:37,isResizable:!1,columnKey:"removeNewItem",cell:function(){return null},cellEdit:function(){return null},cellCreate:function(e){return i.a.createElement(f.a,{id:"oc-datagrid-new-item-remove-"+s.id+"-"+e,type:"indicator",name:"delete",width:30,height:30,style:{padding:"7px"},onClick:function(){return n.props.removeNewItem(s,e)}})},cellFilter:function(){return null}}),I}),Ln(Fn(n),"isCellEdited",function(e,t,a){if("edit"!==a)return!1;var r=n.getDataIdByRowIndex(e);return!!n.props.editData.getIn([r].concat(t.valueKeyPath))}),Ln(Fn(n),"handleAfterAddItem",function(){n.focusToCreateCell=!0}),Ln(Fn(n),"handleAfterEditPress",function(){n.props.selectedItems.size&&(n.focusToEditCell=!0,n.setState({currentRow:void 0}))}),Ln(Fn(n),"handleAfterValidationError",function(){n.focusToErrorCell=!0}),Ln(Fn(n),"handleRowClick",function(e,t){if(n.props.rowSelect&&!n.props.isCreating&&!n.props.isEditing){(e.ctrlKey||e.shiftKey)&&document.getSelection().removeAllRanges();var a=e.target.parentNode,r=a.className&&a.className.indexOf?a.className:"",i=a.parentNode.className&&a.parentNode.className.indexOf?a.parentNode.className:"",o=a.parentNode.parentNode.className&&a.parentNode.parentNode.className.indexOf?a.parentNode.parentNode.className:"",l=a.parentNode.parentNode.parentNode.className&&a.parentNode.parentNode.parentNode.className.indexOf?a.parentNode.parentNode.parentNode.className:"";-1===r.indexOf("no-row-select")&&-1===i.indexOf("no-row-select")&&-1===o.indexOf("no-row-select")&&-1===l.indexOf("no-row-select")&&n.props.itemSelectionChange(n.props.grid,t,n.props.multiSelect&&e.ctrlKey,n.props.multiSelect&&e.shiftKey)}return n.props.onRowClick&&n.props.onRowClick(e,t,n.props.data.get(t)),!0}),Ln(Fn(n),"handleContextMenu",function(e,t){if(n.props.contextMenuItems){var a=n.props,r=a.itemSelectionChange,i=a.selectedItems,o=a.grid,l=a.data;return e.preventDefault(),e.stopPropagation(),n.setState({contextMenuOpen:!0,contextMenuX:e.clientX,contextMenuY:e.clientY}),i.includes(l.getIn([t].concat(o.idKeyPath)))||r(o,t),document.addEventListener("click",n.onDocumentClick),!1}return!0}),Ln(Fn(n),"handleContextMenuItemClick",function(e,t,n){return function(){e(t,n)}}),Ln(Fn(n),"handleRowHeightGetter",function(e){return n.props.rowHeightGetter(n.props.data.get(e),e)}),Ln(Fn(n),"renderCell",function(e){return function(t){var a,r=n.props,o=r.isCreating,l=r.isEditing,s=r.createData,c=r.selectedCell,u=r.grid,p=t.rowIndex,g=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["rowIndex"]),f="view",m=0;o&&(m=s.size);var h=p-m;o?p<=m-1?e.cellCreate?(a=e.cellCreate(p,n.handleCreateCellRef(p,e),n.onCreateCellKeyDown(p,e)),f="create"):(a=null,f=null):a=e.cell(h,n.handleCreateCellRef(h,e),n.onCreateCellKeyDown(h,e)):l&&e.cellEdit?(a=e.cellEdit(h,n.handleEditCellRef(h,e),n.onEditCellKeyDown(h,e)),f="edit"):a=e.cell(h,n.handleEditCellRef(h,e),n.onEditCellKeyDown(h,e));var C="selectionCheckbox"===g.columnKey||"extraColumn"===g.columnKey;if(("view"===f||"edit"===f||"create"===f)&&!C){var v="create"===f?p:p-m,E=n.getCellMessages(v,e,f),A=n.isCellEdited(v,e,f),I=c.get("rowIndex")===p&&c.get("columnKey")===g.columnKey?"oc-datagrid-cell is-selected":"oc-datagrid-cell";return i.a.createElement(d.Cell,Mn({},g,{className:I,style:e.style,onClick:n.handleCellSelect(f,p,g.columnKey)}),i.a.createElement(Ce,{id:"ocDatagridCell-"+u.id+"-"+g.columnKey+"-"+p,isEdited:A,isError:!!E.errorMessage,isWarning:!!E.warningMessage,infoMessage:E.infoMessage,errorMessage:E.errorMessage,warningMessage:E.warningMessage},a))}return i.a.createElement(d.Cell,Mn({},g,{className:"oc-datagrid-cell",style:e.style}),a)}}),Ln(Fn(n),"renderColumns",function(){var e=n.props,t=e.allDataSize,a=e.grid,r=e.isCreating,o=e.isBusy,l=e.visibleColumns;if(!(t||o||r||a.pagination))return i.a.createElement(d.Column,{columnKey:"dataEmptyColumn",header:i.a.createElement(d.Cell,{style:{textAlign:"center"}},i.a.createElement(c.FormattedMessage,{id:"Grid.NoItems"})),width:10,isResizable:!1,flexGrow:1});if(!l.size)return o?i.a.createElement(d.Column,{columnKey:"dataEmptyColumn",header:i.a.createElement(d.Cell,null," "),width:10,isResizable:!1,flexGrow:1}):i.a.createElement(d.Column,{columnKey:"dataEmptyColumn",header:i.a.createElement(d.Cell,{style:{textAlign:"center"}},i.a.createElement(c.FormattedMessage,{id:"Grid.NoColumns"})),width:10,isResizable:!1,flexGrow:1});var s=n.generateColumns();return 0===s.lenght?null:s.map(function(e){return i.a.createElement(d.Column,{key:e.columnKey,columnKey:e.columnKey,header:i.a.createElement(ce,{id:"ocDatagridHeader-"+n.props.grid.id+"-"+e.columnKey,grid:n.props.grid,columns:n.props.columns,column:e,currentSortColumn:n.props.sortColumn,currentSortOrder:n.props.sortOrder,onSortChange:n.props.sortChange,isBusy:n.props.isBusy,filtering:n.props.isFiltering,width:n.props.columnWidths.get(e.columnKey,e.width)},e.header),cell:n.renderCell(e),width:n.props.columnWidths.get(e.columnKey,e.width),minWidth:e.minWidth,maxWidth:e.maxWidth,isResizable:e.isResizable,flexGrow:e.flexGrow?e.flexGrow:0,fixed:e.fixed,fixedRight:e.fixedRight,allowCellsRecycling:e.allowCellsRecycling})})}),Ln(Fn(n),"renderContextMenu",function(){var e=n.props,t=e.contextMenuItems,a=e.data,r=e.grid,o=e.selectedItems,l=n.state,s=l.contextMenuX,c={display:"block",zIndex:1e4,position:"absolute",top:l.contextMenuY+"px",left:s+"px"},d=a.filter(function(e){return o.includes(e.getIn(r.idKeyPath))});return i.a.createElement("ul",{className:"dropdown-menu oc-datagrid-context-menu open",style:c},t&&t.map&&t.map(function(e,t){var a=e.disabled;return"function"==typeof e.disabled&&(a=e.disabled(o,d)),i.a.createElement(u.a,{key:t,header:e.header,divider:e.divider,disabled:a,title:e.title,onClick:a||!e.onClick?null:n.handleContextMenuItemClick(e.onClick,o,d)},e.value)}))}),n.state={currentRow:0,currentColumn:0,contextMenuOpen:!1,contextMenuX:null,contextMenuY:null},n.cellRefs={},n.createCellRefs={},n.focusToCreateCell=!1,n.focusToEditCell=!1,n.focusToErrorCell=!1,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentWillUnmount=function(){document.removeEventListener("click",this.onDocumentClick),this.props.invalidate(this.props.grid)},r.render=function(){var e,t=g()(((e={"oc-datagrid-container":!0,"with-actionbar":this.props.inlineEdit&&!this.props.disableActionBar,"is-busy":this.props.isBusy,"is-editing":this.props.isEditing,"is-creating":this.props.isCreating})[this.props.className]=!!this.props.className,e));this.setFocusTo(this.props.focusType);var n=null,a=null,r=null;(this.props.actionBar||this.props.inlineEdit||this.props.filtering||this.props.removing)&&!this.props.disableActionBar&&(a=i.a.createElement(ge,{position:"right"},i.a.createElement("div",{className:"oc-datagrid-actionbar-right"},this.props.actionBar),this.props.filtering&&this.props.disableDropdown&&!this.props.disableFilteringControls&&i.a.createElement(De,this.props),this.props.inlineEdit&&i.a.createElement(Ie,Mn({afterAddItem:this.handleAfterAddItem,afterEditPress:this.handleAfterEditPress,afterValidationError:this.handleAfterValidationError},this.props)),(this.props.dropdownMenuItems||this.props.removing||this.props.columnSettings||this.props.filtering&&!this.props.disableDropdown)&&i.a.createElement(Me,this.props))),(this.props.actionBarLeft||this.props.gridHeader)&&(r=i.a.createElement(ge,{position:"left"},i.a.createElement("div",{className:"oc-datagrid-gridheader"},this.props.gridHeader),i.a.createElement("div",{className:"oc-datagrid-actionbar-left"},this.props.actionBarLeft))),(r||a)&&(n=i.a.createElement("div",{className:"oc-datagrid-actionbar-container"},r,a));var o=this.props.rowsCount||0===this.props.rowsCount?this.props.rowsCount:this.props.data.size;return this.props.isCreating&&(o+=this.props.createData.size),this.props.visibleColumns.size||(o=0),i.a.createElement("div",{id:"oc-datagrid-"+this.props.grid.id,className:t,style:this.props.containerStyle},this.props.isBusy&&i.a.createElement(m.a,null),this.state.contextMenuOpen&&this.renderContextMenu(),n,i.a.createElement(O,{id:this.props.grid.id,rowsCount:o,headerHeight:this.props.isFiltering?this.props.headerHeight+this.props.filterRowHeight:this.props.headerHeight,rowHeight:this.props.rowHeight,onColumnResizeEndCallback:this.onColumnResizeEndCallback,isColumnResizing:!1,onRowClick:this.handleRowClick,scrollToColumn:this.props.scrollToColumn||this.state.currentColumn,scrollTop:this.props.scrollTop,scrollToRow:this.getScrollToRow(),onRowDoubleClick:this.props.onRowDoubleClick,onRowMouseDown:this.props.onMouseDown,onRowMouseEnter:this.props.onRowMouseEnter,onRowMouseLeave:this.props.onRowMouseLeave,onScrollStart:this.props.onScrollStart,onScrollEnd:this.props.onScrollEnd,rowClassNameGetter:this.getRowClassName,rowHeightGetter:this.props.rowHeightGetter&&this.handleRowHeightGetter,onContentHeightChange:this.props.onContentHeightChange,onRowContextMenu:this.handleContextMenu},this.renderColumns()),this.props.isColumnSettingsModalOpen&&i.a.createElement(kt,{grid:this.props.grid,columns:this.props.columns,visibleColumns:this.props.visibleColumns,closeColumnSettingsModal:this.props.closeColumnSettingsModal,saveColumnSettings:this.props.saveColumnSettings}),this.props.children)},a}(i.a.PureComponent),Ln(On,"defaultProps",Z),Sn=bn))||Sn)||Sn)||Sn);function kn(e,t){switch(void 0===e&&(e=jt),t.type){case Le.PLATFORM_DATAGRID_INVALIDATE:return e.deleteIn([t.id,"data"]).deleteIn([t.id,"allData"]).deleteIn([t.id,"session"]).deleteIn([t.id,"selectedCell"]).deleteIn([t.id,"editData"]).deleteIn([t.id,"createData"]).deleteIn([t.id,"createCellMessages"]).deleteIn([t.id,"cellMessages"]);case Le.PLATFORM_DATAGRID_FORCE_REFRESH:return e.set("forceRefresh",Date.now());case Le.PLATFORM_DATAGRID_SET_DATA:return e.setIn([t.id,"data"],t.data).setIn([t.id,"allData"],t.data).setIn([t.id,"config"],l.a.fromJS(t.config)).setIn([t.id,"selectedItems"],l.a.fromJS(t.selectedItems)).mergeIn([t.id,"session"],{isEditing:!1,isCreating:!1,isBusy:!1}).deleteIn([t.id,"selectedCell"]).deleteIn([t.id,"editData"]).deleteIn([t.id,"createData"]).deleteIn([t.id,"createCellMessages"]).deleteIn([t.id,"cellMessages"]);case Le.PLATFORM_DATAGRID_BUSY:return e.setIn([t.id,"session","isBusy"],!0);case Le.PLATFORM_DATAGRID_READY:return e.setIn([t.id,"session","isBusy"],!1);case Le.PLATFORM_DATAGRID_APPLY_SORT:return e.setIn([t.id,"data"],t.data).setIn([t.id,"allData"],t.allData);case Le.PLATFORM_DATAGRID_SORT_CHANGE:return e.setIn([t.id,"config","sortingData"],Object(o.Map)({sortColumn:t.sortColumn,sortOrder:t.sortOrder}));case Le.PLATFORM_DATAGRID_RESIZE_COLUMN:return e.setIn([t.id,"config","columnWidths"],t.columnWidths);case Le.PLATFORM_DATAGRID_EDIT:return e.setIn([t.id,"session","isEditing"],!0);case Le.PLATFORM_DATAGRID_CREATE:return e.setIn([t.id,"createData"],Object(o.List)([l.a.fromJS(t.columnDefaultValues)])).deleteIn([t.id,"selectedCell"]).mergeIn([t.id,"session"],{isCreating:!0});case Le.PLATFORM_DATAGRID_ADD_NEW_ITEM:return e.updateIn([t.id,"createData"],Object(o.List)(),function(e){return e.push(l.a.fromJS(t.columnDefaultValues))});case Le.PLATFORM_DATAGRID_REMOVE_ITEM:var n=e.getIn([t.id,"allData"],Object(o.List)()).findIndex(function(e){return e.getIn(t.idKeyPath)===t.rowId}),a=e.getIn([t.id,"data"],Object(o.List)()).findIndex(function(e){return e.getIn(t.idKeyPath)===t.rowId});return e.deleteIn([t.id,"data",a]).deleteIn([t.id,"allData",n]).deleteIn([t.id,"editData",t.rowId]).deleteIn([t.id,"cellMessages","error",t.rowId]).deleteIn([t.id,"cellMessages","info",t.rowId]).deleteIn([t.id,"cellMessages","warning",t.rowId]);case Le.PLATFORM_DATAGRID_SET_FOCUS_TO:return e.setIn([t.id,"session","focusType"],Object(o.Map)({type:t.focusTo,focusToLastRow:t.focusToLastRow}));case Le.PLATFORM_DATAGRID_REMOVE_NEW_ITEM:return e.deleteIn([t.id,"createData",t.index]);case Le.PLATFORM_DATAGRID_REMOVE_NEW_ITEMS:return e.setIn([t.id,"createData"],e.getIn([t.id,"createData"],Object(o.List)()).filter(function(e,n){return-1===t.indexes.indexOf(n)}));case Le.PLATFORM_DATAGRID_CANCEL:return e.mergeIn([t.id,"session"],Object(o.Map)({isEditing:!1,isCreating:!1})).deleteIn([t.id,"editData"]).deleteIn([t.id,"createData"]).deleteIn([t.id,"createCellMessages","error"]).deleteIn([t.id,"cellMessages","error"]);case Le.PLATFORM_DATAGRID_SAVE:return e.setIn([t.id,"session","isBusy"],!0);case Le.PLATFORM_DATAGRID_EXTEND_DATA:var r=e.getIn([t.id,"allData"]),i=t.prepend?t.data.concat(r):r.concat(t.data);return e.setIn([t.id,"data"],i).setIn([t.id,"allData"],i);case Le.PLATFORM_DATAGRID_SAVE_SUCCESS:var s=e.getIn([t.id,"allData"]),c=null;t.savedItems.forEach(function(e){var n=l.a.fromJS(e),a=s.findIndex(function(e){return e.getIn(t.idKeyPath)===n.getIn(t.idKeyPath)});-1===a?(!c&&n.getIn(t.idKeyPath)&&(c=n.getIn(t.idKeyPath)),s=s.push(n)):s=s.mergeDeepIn([a],n)});var d=e.setIn([t.id,"data"],s).setIn([t.id,"allData"],s).mergeIn([t.id,"session"],{isBusy:!1,isEditing:!1,isCreating:!1}).deleteIn([t.id,"editData"]).deleteIn([t.id,"createData"]).deleteIn([t.id,"createCellMessages","error"]).deleteIn([t.id,"cellMessages","error"]);return c&&($.a.saveSelectedItems(t.id,[c]),d=d.setIn([t.id,"selectedItems"],Object(o.List)([c]))),d;case Le.PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS:var u=e.getIn([t.id,"allData"]),p=e.getIn([t.id,"createData"]),g=e.getIn([t.id,"editData"]),f=e.getIn([t.id,"session","isCreating"]);return t.savedItems.forEach(function(e){var n=l.a.fromJS(e),a=u.findIndex(function(e){return e.getIn(t.idKeyPath)===n.getIn(t.idKeyPath)});u=-1===a?u.push(n):u.mergeDeepIn([a],n),f?null!=(a=n.get("rowIndex"))&&(p=p.delete(a)):g=g.delete(n.getIn(t.idKeyPath))}),e.setIn([t.id,"data"],u).setIn([t.id,"allData"],u).setIn([t.id,"createData"],p).setIn([t.id,"editData"],g).setIn([t.id,"session","isBusy"],!1);case Le.PLATFORM_DATAGRID_SAVE_FAIL:return e.setIn([t.id,"session","isBusy"],!1);case Le.PLATFORM_DATAGRID_REMOVE:return e.setIn([t.id,"session","isBusy"],!0);case Le.PLATFORM_DATAGRID_REMOVE_SUCCESS:return e.setIn([t.id,"session","isBusy"],!1).updateIn([t.id,"data"],function(e){return e.filterNot(function(e){return t.removedIds.indexOf(e.getIn(t.idKeyPath))>-1})}).updateIn([t.id,"allData"],function(e){return e.filterNot(function(e){return t.removedIds.indexOf(e.getIn(t.idKeyPath))>-1})}).deleteIn([t.id,"selectedItems"]);case Le.PLATFORM_DATAGRID_REMOVE_FAIL:return e.setIn([t.id,"session","isBusy"],!1);case Le.PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE:return e.setIn([t.id,"editData",t.dataId].concat(t.keyPath),t.value);case Le.PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE:return e.setIn([t.id,"createData",t.rowIndex].concat(t.keyPath),t.value);case Le.PLATFORM_DATAGRID_CELL_SHOW_MESSAGE:return e.setIn([t.id,"cellMessages",t.messageType,t.dataId].concat(t.keyPath),{id:t.messageId,values:t.messageValues});case Le.PLATFORM_DATAGRID_CELL_SHOW_MESSAGES:return e.mergeIn([t.id,"cellMessages"],l.a.fromJS(t.messages));case Le.PLATFORM_DATAGRID_CELL_HIDE_MESSAGE:if(null===t.messageType)return e.deleteIn([t.id,"cellMessages"]);if(null===t.dataId)return e.deleteIn([t.id,"cellMessages",t.messageType]);var m=e.getIn([t.id,"cellMessages",t.messageType,t.dataId]);return m?(t.keyPath&&(m=m.deleteIn(t.keyPath)),0!==m.size&&t.keyPath?e.setIn([t.id,"cellMessages",t.messageType,t.dataId],m):e.deleteIn([t.id,"cellMessages",t.messageType,t.dataId])):e;case Le.PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE:return e.setIn([t.id,"createCellMessages",t.messageType,t.rowIndex].concat(t.keyPath),{id:t.messageId,values:t.messageValues});case Le.PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE:if(null===t.messageType)return e.deleteIn([t.id,"createCellMessages"]);if(null===t.rowIndex)return e.deleteIn([t.id,"createCellMessages",t.messageType]);var h=e.getIn([t.id,"createCellMessages",t.messageType,t.rowIndex]);return h?(t.keyPath&&(h=h.deleteIn(t.keyPath)),0!==h.size&&t.keyPath?e.setIn([t.id,"createCellMessages",t.messageType,t.rowIndex],h):e.deleteIn([t.id,"createCellMessages",t.messageType,t.rowIndex])):e;case Le.PLATFORM_DATAGRID_CELL_SELECTION_CHANGE:return e.setIn([t.id,"selectedCell"],t.selectedCell);case Le.PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE:var C=e.setIn([t.id,"session","lastClickedRowIndex"],t.rowIndex);if(t.shiftPressed){var v=e.getIn([t.id,"session","lastClickedRowIndex"],!1);if(!1!==v){var E=[];if(v<t.rowIndex)for(var A=v;A<=t.rowIndex;A+=1){var I=e.getIn([t.id,"data",A].concat(t.idKeyPath));I&&E.push(I)}else for(var R=t.rowIndex;R<=v;R+=1){var _=e.getIn([t.id,"data",R].concat(t.idKeyPath));_&&E.push(_)}return C.setIn([t.id,"selectedItems"],Object(o.List)(E))}}var D=e.getIn([t.id,"data",t.rowIndex].concat(t.idKeyPath)),T=e.getIn([t.id,"selectedItems"],Object(o.List)()).indexOf(D);return-1===T?t.ctrlPressed?C.updateIn([t.id,"selectedItems"],Object(o.List)(),function(e){return e.push(D)}):C.setIn([t.id,"selectedItems"],Object(o.List)([D])):t.ctrlPressed?C.updateIn([t.id,"selectedItems"],function(e){return e.delete(T)}):C.setIn([t.id,"selectedItems"],Object(o.List)([D]));case Le.PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE:return e.getIn([t.id,"selectedItems"],Object(o.List)()).size===e.getIn([t.id,"data"],Object(o.List)()).size?e.deleteIn([t.id,"selectedItems"]):e.setIn([t.id,"selectedItems"],e.getIn([t.id,"data"],Object(o.List)()).map(function(e){return e.getIn(t.idKeyPath)}));case Le.PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS:return e.deleteIn([t.id,"selectedItems"]);case Le.PLATFORM_DATAGRID_TOGGLE_FILTERING:return t.isFiltering?e.setIn([t.id,"config","filteringData"],Object(o.Map)({isFiltering:!0})):e.setIn([t.id,"config","filteringData"],Object(o.Map)({isFiltering:!1})).setIn([t.id,"data"],e.getIn([t.id,"allData"]));case Le.PLATFORM_DATAGRID_FILTER_DATA_CHANGE:return e.setIn([t.id,"config","filteringData","filterData"],t.filterData);case Le.PLATFORM_DATAGRID_APPLY_FILTERS:return e.setIn([t.id,"data"],t.data);case Le.PLATFORM_DATAGRID_SET_FILTERS:return e.setIn([t.id,"config","filteringData"],t.filteringData);case Le.PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE:var y=e.setIn([t.id,"allData",t.dataId].concat(t.keyPath),t.value);return e.hasIn([t.id,"data",t.dataId].concat(t.keyPath))?y.setIn([t.id,"data",t.dataId].concat(t.keyPath),t.value):y;case Le.PLATFORM_DATAGRID_SET_EDIT_DATA:return e.setIn([t.id,"session","isEditing"],!0).setIn([t.id,"editData"],t.data).setIn([t.id,"cellMessages"],t.cellMessages);case Le.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN:return e.setIn([t.id,"session","columnSettingsModal","open"],!0);case Le.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE:return e.deleteIn([t.id,"session","columnSettingsModal"]);case Le.PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE:return e.setIn([t.id,"config","visibleColumns"],l.a.fromJS(t.columnOrder));case Le.PLATFORM_DATAGRID_SET_PAGE:return e.setIn([t.id,"config","page"],t.page);case Le.PLATFORM_DATAGRID_SET_ROWS_ON_PAGE:return e.setIn([t.id,"config","rowsOnPage"],t.rowsOnPage);default:return e}}n.d(t,"a",function(){return Gn}),n.d(t,"c",function(){return kn}),n.d(t,"b",function(){return a})},4:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(177),o=n.n(i),l=n(178),s=n(6),c=function(e){return e.columnKey||e.valueKeyPath.join("/")},d=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var a=[];return e.forEach(function(e,r){var i=c(e),o=n.indexOf(i);if(!(e.isHidden&&-1===o||t.indexOf(i)>-1)){var l=-1!==o?o:r+1;a.push({columnKey:i,order:l})}}),a.sort(function(e,t){return e.order-t.order}).map(function(e){return e.columnKey})};t.a={getColumnKey:c,getColumnDefaultValues:function(e){var t={};return e.forEach(function(e){void 0!==e.defaultValue&&(t[c(e)]=e.defaultValue)}),t},getCellStyleByCol:function(e){if(e.align)return{textAlign:e.align};if("select"===e.componentType||"multiselect"===e.componentType)return{};switch(e.valueType){case"number":case"float":case"date":return{textAlign:"right"};default:return{}}},isSortable:function(e){return e.valueType&&(e.sortValueGetter||e.valueKeyPath)&&!e.disableSorting},getSortComparator:function(e){if(e.sortComparator)return e.sortComparator;switch(e.valueType){case"text":return function(e,t){return e.localeCompare?e.localeCompare(t):1};case"number":case"float":return function(e,t){return e-t};case"boolean":return function(e,t){return e===t?0:e?-1:1};case"date":return function(e,t){return new Date(e)-new Date(t)};default:return function(e,t){return e.localeCompare?e.localeCompare(t):1}}},getSortValueGetter:function(e){return e.sortValueGetter?e.sortValueGetter:function(t){return t.getIn(e.valueKeyPath)}},getValueEmptyChecker:function(e){if(e.valueEmptyChecker)return e.valueEmptyChecker;if("multiselect"===e.componentType)return function(e){return""===e||null==e||0===e.length};switch(e.valueType){case"number":case"float":return function(e){return""===e||o()(e)||null==e};case"text":case"boolean":case"date":case"select":default:return function(e){return""===e||null==e}}},getFilterMatcher:function(e,t){if(e.filterMatcher)return e.filterMatcher;var n=function(t){return t.getIn(e.valueKeyPath)};if("multiselect"===e.componentType)return function(e,t){var a=n(e);return(t&&t.toJS?t.toJS():t).some(function(e){return e.value===a})};switch(e.valueType){case"number":return function(e,t){var a=n(e);if(""===a||o()(a)||null==a)return!1;var r=parseInt(t,10),i=parseInt(a,10);return r===i||r===-1*i||String(a).includes(t)};case"float":return function(e,t){var a=n(e);if(""===a||o()(a)||null==a)return!1;var r=parseFloat(t.replace(",","."));return r===parseFloat(a)||r===-1*parseFloat(a)||String(a).replace(",",".").includes(t.replace(",","."))};case"date":return function(e,a){return!!r()(n(e)).isValid()&&r()(n(e)).format(t)===r()(a).format(t)};case"boolean":case"text":default:return function(e,t){var a=t;return"[]\\^$.|?*+()".includes(t[0])&&(a="\\"+t),new RegExp(a,"i").test(n(e))}}},loadSelectedItems:function(e){var t=sessionStorage.getItem("oc_grid_selectedItems_"+e.id);if(t&&!e.disableRememberSelectedItems)try{return JSON.parse(t)}catch(e){console.error("Datagrid: error parsing selectedItems from sessionStorage",e)}return[]},loadGridConfig:function(e,t){var n,a,r=e.configStorage||{},i=sessionStorage.getItem("oc_grid_sorting_"+e.id),o=sessionStorage.getItem("oc_grid_filtering_"+e.id),s=localStorage.getItem("oc_grid_isFiltering_"+e.id),c=sessionStorage.getItem("oc_grid_page_"+e.id),u=sessionStorage.getItem("oc_grid_rowsOnPage_"+e.id),p={},g=!1;if(Object(l.isFunction)(r.load)&&(p=r.load()),s){if(!e.disableRememberIsFiltering)try{g=JSON.parse(s)}catch(e){console.error("Datagrid: error parsing isFilteringData from localStorage",e)}}else e.defaultShowFilteringRow&&(g=!0);if(p.hiddenColumns)n=p.hiddenColumns;else{var f=localStorage.getItem("oc_grid_hiddenColumns_"+e.id);if(f)try{n=JSON.parse(f)}catch(e){console.error("Datagrid: error parsing hiddenColumns from localStorage",e)}}if(p.columnOrder)a=p.columnOrder;else{var m=localStorage.getItem("oc_grid_columnOrder_"+e.id);if(m)try{a=JSON.parse(m)}catch(e){console.error("Datagrid: error parsing columnOrder from localStorage",e)}}var h={visibleColumns:d(t,n,a),filteringData:{isFiltering:g}};if(p.columnWidths)h.columnWidths=p.columnWidths;else{var C=localStorage.getItem("oc_grid_columnWidths_"+e.id);if(C&&!e.disableRememberColumnWidths)try{h.columnWidths=JSON.parse(C)}catch(e){console.error("Datagrid: error parsing columnWidths from localStorage",e)}}if(i&&!e.disableRememberSortData)try{h.sortingData=JSON.parse(i)}catch(e){console.error("Datagrid: error parsing sortingData from sessionStorage",e)}if(o&&g&&!e.disableRememberFilterData)try{h.filteringData.filterData=JSON.parse(o)}catch(e){console.error("Datagrid: error parsing filterData from sessionStorage",e)}if(c)try{h.page=JSON.parse(c)}catch(e){console.error("Datagrid: error parsing pagination from sessionStorage",e)}if(u)try{h.rowsOnPage=JSON.parse(u)}catch(e){console.error("Datagrid: error parsing pagination from sessionStorage",e)}return!h.sortingData&&e.defaultSortColumn&&(h.sortingData={sortColumn:e.defaultSortColumn,sortOrder:e.defaultSortOrder||"asc"}),h},saveSelectedItems:function(e,t){return!e.disableRememberSelectedItems&&(sessionStorage.setItem("oc_grid_selectedItems_"+e.id,JSON.stringify(t||[])),!0)},saveColumnWidths:function(e,t){return!e.disableRememberColumnWidths&&(!!t&&(e.configStorage&&Object(l.isFunction)(e.configStorage.save)?e.configStorage.save({columnWidths:t}):localStorage.setItem("oc_grid_columnWidths_"+e.id,JSON.stringify(t)),!0))},saveColumnSettings:function(e,t,n){return!(!t||!n)&&(e.configStorage&&Object(l.isFunction)(e.configStorage.save)?e.configStorage.save({hiddenColumns:t,columnOrder:n}):(localStorage.setItem("oc_grid_hiddenColumns_"+e.id,JSON.stringify(t)),localStorage.setItem("oc_grid_columnOrder_"+e.id,JSON.stringify(n))),!0)},saveSortData:function(e,t){return!e.disableRememberSortData&&(!!t&&(sessionStorage.setItem("oc_grid_sorting_"+e.id,JSON.stringify(t)),!0))},saveFilterData:function(e,t){return!e.disableRememberFilterData&&(!!t&&(sessionStorage.setItem("oc_grid_filtering_"+e.id,JSON.stringify(t)),!0))},saveIsFiltering:function(e,t){return!e.disableRememberIsFiltering&&(void 0!==t&&(localStorage.setItem("oc_grid_isFiltering_"+e.id,JSON.stringify(t)),t||sessionStorage.removeItem("oc_grid_filtering_"+e.id),!0))},savePage:function(e,t){return!!t&&(sessionStorage.setItem("oc_grid_page_"+e.id,JSON.stringify(t)),!0)},saveRowsOnPage:function(e,t){return!!t&&(sessionStorage.setItem("oc_grid_rowsOnPage_"+e.id,JSON.stringify(t)),!0)},checkGridParam:function(e){if(!e)throw new Error("[Grid] Invalid `grid` parameter, update action parameters to new format!");if(!e.id)throw new Error("[Grid] Invalid `grid.id` parameter, update action parameters to new format!");if(!e.idKeyPath)throw new Error("[Grid] Invalid `grid.idKeyPath` parameter, update action parameters to new format!")},checkColumnsParam:function(e){if(!e)throw new Error("[Grid] Invalid `columns` parameter, update action parameters to new format!")},getLanguage:function(e,t){return e.language&&"string"==typeof e.language?e.language:t?t.getIn(["user","language"],"en"):"en"},getRegion:function(e,t){return e.region&&"string"==typeof e.region?e.region:t?t.getIn(["user","region"],"en_GB"):"en_GB"},getDateFormat:function(e,t){return e.dateFormat&&"string"==typeof e.dateFormat?e.dateFormat.toUpperCase():t?t.getIn(["localeFormat","dateFormat"],"L"):"L"},getThousandSeparator:function(e,t){return e.thousandSeparator&&"string"==typeof e.language?e.thousandSeparator:t?t.getIn(["localeFormat","thousandSeparator"],""):""},getDecimalSeparator:function(e,t){return e.decimalSeparator&&"string"==typeof e.language?e.decimalSeparator:t?t.getIn(["localeFormat","decimalSeparator"],"."):"."},normalizeFilteringData:function(e){var t=Object(s.Map)({isFiltering:!1});if(!e)return t;var n=s.Map.isMap(e)?e:Object(s.fromJS)(e),a=n.get("isFiltering",!1),r=n.get("filterData",null);return a&&r&&s.Map.isMap(r)&&(t=t.set("isFiltering",!0).set("filterData",r)),t},visibleColumns:function(e,t){return t?t.map(function(t){return e.find(function(e){return JSON.stringify(e.valueKeyPath.join("/"))===JSON.stringify(t)})}).toJS():e}}},475:function(e,t,n){},477:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E});var a,r=n(0),i=n.n(r),o=n(119),l=n(72),s=n(504),c=n(71),d=n(42),u=n(163),p=n(482),g=n(483),f=n(500),m=n(507);n(2032),n(2033);var h=c.d,C={intl:{locale:"en",messages:f}},v=Object(c.e)(g.a,C,h(Object(c.a)(p.a)));var E=Object(s.hot)(e)(a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return i.a.createElement(d.Provider,{store:v},i.a.createElement(u.IntlProvider,{locale:"en"},i.a.createElement(o.a,null,i.a.createElement(l.b,{path:"/",component:m.a}))))},a}(i.a.Component))||a}).call(this,n(283)(e))},480:function(e,t){},483:function(e,t,n){"use strict";var a=n(163),r=n(71),i=n(26);t.a=Object(r.c)({intl:a.intlReducer,datagrid:i.c})},500:function(e){e.exports={"Common.Search":"Search","Grid.Add":"Add","Grid.Cancel":"Cancel","Grid.DisableActionsMessage":"Finish other tasks before editing","Grid.Delete":"Delete","Grid.Edit":"Edit","Grid.No":"No","Grid.NoItems":"There are no items to show in this grid.","Grid.NoColumns":"There are no columns to show in this grid.","Grid.Save":"Save","Grid.Ok":"OK","Grid.Yes":"Yes","Grid.Checked":"Checked","Grid.UnChecked":"Unchecked","Grid.ValueIsMissing":"Value is missing","Grid.Warning":"Warning","Grid.ShowFilteringRow":"Show filtering row","Grid.ColumnSettings":"Column settings","Grid.ColumnSettings.All":"All","Grid.ColumnSettings.AvailableColumns":"Available columns","Grid.ColumnSettings.Header":"Select columns","Grid.ColumnSettings.SelectedColumns":"Selected columns","Grid.ColumnSettings.SearchTooltip":"Search starts when you have entered enough characters","Grid.FloatingSelect.Select":"Select...","Grid.FloatingSelect.Selected":"{n} selected","Grid.FloatingSelect.NoResults":"No search results","Grid.Pagination.RowsOnPage":"Rows on page:","Grid.Pagination.TotalPlural":"Total {n} rows","Grid.Pagination.TotalSingular":"Total 1 row","Grid.Pagination.TotalOver":"Total {n}+ rows (only the first {n} shown)","Validation.Unique":"Value must be unique","Validation.IsRequired":"Value is required","Validation.MinLength":"Value is too short","Validation.MaxLength":"Value is too long","Validation.MinValue":"Value is too big","Validation.MaxValue":"Value is too small",Warning:"Warning"}},507:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(2040),o=n(2041),l=n(2038),s=n(2044),c=n(119),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var u=function(e){e.styles;var t=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["styles"]);return r.a.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:"45",height:"16",viewBox:"0 0 45 16"},t),r.a.createElement("path",{fillRule:"evenodd",d:"M18.53 12.03h-.02c.009 0 .015.01.024.011h.006l-.01-.01zm.004.011c-.093.001-.327.05-.574.05-.78 0-1.05-.36-1.05-.83V8.13h1.59c.09 0 .16-.08.16-.19v-1.7c0-.09-.08-.17-.16-.17h-1.59V3.96c0-.08-.05-.13-.14-.13h-2.16c-.09 0-.14.05-.14.13v2.17s-1.09.27-1.16.28c-.08.02-.13.09-.13.17v1.36c0 .11.08.19.17.19h1.11v3.28c0 2.44 1.7 2.69 2.86 2.69.53 0 1.17-.17 1.27-.22.06-.02.09-.09.09-.16v-1.5a.177.177 0 0 0-.146-.18zm23.696-2.2c0-1.81-.73-2.05-1.5-1.97-.6.04-1.08.34-1.08.34v3.52s.49.34 1.22.36c1.03.03 1.36-.34 1.36-2.25zm2.43-.16c0 3.43-1.11 4.41-3.05 4.41-1.64 0-2.52-.83-2.52-.83s-.04.46-.09.52c-.03.06-.08.08-.14.08h-1.48c-.1 0-.19-.08-.19-.17l.02-11.11c0-.09.08-.17.17-.17h2.13c.09 0 .17.08.17.17v3.77s.82-.53 2.02-.53l-.01-.02c1.2 0 2.97.45 2.97 3.88zm-8.72-3.61h-2.1c-.11 0-.17.08-.17.19v5.44s-.55.39-1.3.39-.97-.34-.97-1.09V6.25c0-.09-.08-.17-.17-.17h-2.14c-.09 0-.17.08-.17.17v5.11c0 2.2 1.23 2.75 2.92 2.75 1.39 0 2.52-.77 2.52-.77s.05.39.08.45c.02.05.09.09.16.09h1.34c.11 0 .17-.08.17-.17l.02-7.47c0-.09-.08-.17-.19-.17zm-23.7-.01h-2.13c-.09 0-.17.09-.17.2v7.34c0 .2.13.27.3.27h1.92c.2 0 .25-.09.25-.27V6.23c0-.09-.08-.17-.17-.17zm-1.05-3.38c-.77 0-1.38.61-1.38 1.38 0 .77.61 1.38 1.38 1.38.75 0 1.36-.61 1.36-1.38 0-.77-.61-1.38-1.36-1.38zm16.49-.25h-2.11c-.09 0-.17.08-.17.17v4.09h-3.31V2.6c0-.09-.08-.17-.17-.17h-2.13c-.09 0-.17.08-.17.17v11.11c0 .09.09.17.17.17h2.13c.09 0 .17-.08.17-.17V8.96h3.31l-.02 4.75c0 .09.08.17.17.17h2.13c.09 0 .17-.08.17-.17V2.6c0-.09-.08-.17-.17-.17zM8.81 7.35v5.74c0 .04-.01.11-.06.13 0 0-1.25.89-3.31.89-2.49 0-5.44-.78-5.44-5.92S2.58 1.99 5.1 2c2.18 0 3.06.49 3.2.58.04.05.06.09.06.14L7.94 4.5c0 .09-.09.2-.2.17-.36-.11-.9-.33-2.17-.33-1.47 0-3.05.42-3.05 3.73s1.5 3.7 2.58 3.7c.92 0 1.25-.11 1.25-.11v-2.3H4.88c-.11 0-.19-.08-.19-.17V7.35c0-.09.08-.17.19-.17h3.74c.11 0 .19.08.19.17z"}))},p=(n(966),n(1),n(42)),g=n(6),f=(n(32),n(2042)),m=n(2037),h=n(2043),C=n(168),v=n(501),E=n.n(v),A=n(26),I=function(e){var t="",n="",a="L",r=1.1.toLocaleString(e),i=1e3.toLocaleString(e);t=r.substr(1,1),n=i.substr(1,1),isNaN(t)||(t=""),isNaN(n)||(n="");var o=new Date(2017,2,5).toLocaleDateString(e).replace("03","MM").replace("3","M").replace("05","DD").replace("5","D").replace("2017","YYYY");return o.indexOf("M")>-1&&o.indexOf("D")>-1&&o.indexOf("Y")>-1&&(a=o),{dateFormat:a,thousandSeparator:n,decimalSeparator:t}},R=n(57),_=n.n(R),D=n(2),T=n.n(D),y=n(123),S=function(e){var t=e.value;return r.a.createElement("div",{style:{backgroundColor:t,width:"20px",height:"20px"}}," ")};S.defaultProps={value:"#fff"};var O=S,b="Validation.",P=function(e){return""===e||null==e},M=function(e){return P(e)?{valid:!1,message:b+"IsRequired"}:{valid:!0}};var F,L=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={value:t.value},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return r.a.createElement("input",{type:"text",value:this.state.value,onChange:function(t){e.setState({value:t.target.value})},ref:function(t){e.props.setRef(t)},onKeyDown:this.props.onKeyDown,style:{width:"100%"}})},a}(r.a.Component),w={"en-GB":"English (GB)","en-US":"English (US)","fi-FI":"Finnish (FI)","sv-SV":"Swedish (SV)","es-ES":"Spanish (ES)","de-DE":"German (DE)"},G={id:"TestGrid",idKeyPath:["id"],language:"en",dateFormat:"L",decimalSeparator:".",thousandSeparator:","},k={id:"TestPaginationGrid",idKeyPath:["id"],language:"en",dateFormat:"L",decimalSeparator:".",thousandSeparator:",",pagination:!0},j=[{header:"Name",valueKeyPath:["name"],valueType:"text",componentType:"text",isRequired:!0,isLocked:!0,validators:[{unique:!0},{validate:M}]},{header:"Price",valueKeyPath:["price"],valueType:"float",componentType:"currency",isRequired:!0,width:80,validators:[{validate:M}]},{header:"Stock",valueKeyPath:["stock"],valueType:"number",componentType:"number",width:100},{header:"Country",valueKeyPath:["country"],valueType:"text",componentType:"multiselect",selectComponentOptions:y.countries.all.filter(function(e){return e.alpha3}).map(function(e){return{value:e.alpha3,label:e.name}})},{header:"Currency",valueKeyPath:["currency"],valueType:"text",componentType:"select",selectComponentOptions:y.currencies.all.filter(function(e){return!!e.code}).map(function(e){return{value:e.code,label:e.code}})},{header:"Used",valueKeyPath:["isUsed"],valueType:"boolean",componentType:"boolean",width:100},{header:"Checked",valueKeyPath:["isChecked"],valueType:"boolean",componentType:"checkbox",align:"center",width:150},{header:"Modified",valueKeyPath:["modified"],valueType:"date",componentType:"date",width:120},{header:"Custom component",valueKeyPath:["custom"],valueType:"text",componentType:"text",width:100,valueRender:function(e){return e.get("custom")},editValueRender:function(e,t,n,a){return r.a.createElement(L,{setRef:n,onKeyDown:a,value:e.get("custom")})},createValueRender:function(e,t,n,a){return r.a.createElement(L,{setRef:n,onKeyDown:a,value:e.get("custom")})}},{header:"Color",valueKeyPath:["color"],valueRender:function(e){return r.a.createElement(O,{value:e.get("color")})},editValueRender:function(e){return r.a.createElement(O,{value:e.get("color")})},createValueRender:function(){return null},filterValueRender:function(){return null}}],V=function(e){for(var t,n=[],a=1;a<=e;a+=1){var r=y.countries.all[Math.floor(Math.random()*y.countries.all.length)];n.push({id:a,name:_.a.commerce.productName(),price:-1*_.a.commerce.price(),amount:_.a.finance.amount(),stock:_.a.random.number(),country:r.alpha3,currency:r.currencies[0]?r.currencies[0]:"EUR",isUsed:_.a.random.boolean(),isChecked:_.a.random.boolean(),color:_.a.internet.color(),modified:(t=void 0,t=_.a.date.past(),T()(t).format("YYYY-MM-DD[T]HH:mm:ss[Z]")),custom:_.a.lorem.word()})}return n};n(475);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B,z,H,W={cellShowMessage:A.b.cellShowMessage,cellShowMessages:A.b.cellShowMessages,setData:A.b.setData,saveSuccess:A.b.saveSuccess,removeSuccess:A.b.removeSuccess,saveFail:A.b.saveFail,removeFail:A.b.removeFail},q=Object(p.connect)(function(e){return{allData:e.datagrid.getIn([G.id,"allData"],Object(g.List)()),createData:e.datagrid.getIn([G.id,"createData"],Object(g.List)()),editData:e.datagrid.getIn([G.id,"editData"],Object(g.Map)()),selectedItems:e.datagrid.getIn([G.id,"selectedItems"],Object(g.List)()),isEditing:e.datagrid.getIn([G.id,"session","isEditing"],!1)}},W)(F=function(e){var t,n;function a(t){var n;K(N(n=e.call(this,t)||this),"getRegionComponent",function(){var e=n.state.region,t="Region: "+(w[e]||"");return r.a.createElement(f.a,{id:"region-selector",title:t},Object.keys(w).map(function(t){return r.a.createElement(m.a,{eventKey:t,key:t,active:t===e,onSelect:n.handleRegionSelect},w[t])}))}),K(N(n),"handleRegionSelect",function(e){var t=I(e),a=t.dateFormat,r=t.thousandSeparator,i=t.decimalSeparator,o=x({},G,{region:e,dateFormat:a,decimalSeparator:i,thousandSeparator:r});n.setState({gridSettings:o,region:e},function(){n.props.setData(o,j,V(100))})}),K(N(n),"handleWarnClick",function(){n.props.cellShowMessage(G,"warning",3,["stock"],"Warning")}),K(N(n),"handleInfoClick",function(){var e=Object(g.Map)().setIn(["info",1],Object(g.Map)({currency:"Info about currency",modified:"Modified by Yoda"})).setIn(["info",3],Object(g.Map)({currency:"Another info of currency"}));n.props.cellShowMessages(G,e)}),K(N(n),"handleOnSave",function(){var e=n.props,t=e.createData,a=e.editData,r=e.allData,i=[];t.size?i=(i=t.toJS()).map(function(e){return Object.assign(e,{id:E()()})}):a.size&&a.forEach(function(e,t){var n=r.find(function(e){return e.getIn(G.idKeyPath)===t});n&&i.push(n.merge(e))});var o=i;n.props.saveSuccess(G,j,o)}),K(N(n),"handleOnRemove",function(){var e=n.props.selectedItems.toJS();n.props.removeSuccess(G,e)}),K(N(n),"handleContextClick",function(e,t){console.log("Context menu clicked"),console.log("ID's "+e.join(", ")),console.table(t.toSJ())});var a=I("en-GB"),i=a.dateFormat,o=a.thousandSeparator,l=a.decimalSeparator,s=x({},G,{dateFormat:i,decimalSeparator:l,thousandSeparator:o});return n.state={gridSettings:s,region:"en-GB"},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.componentWillMount=function(){this.props.setData(G,j,V(100))},i.render=function(){var e=this.props.isEditing&&0===this.props.editData.size,t=r.a.createElement(h.a,{inline:!0,style:{marginLeft:"20px"}},r.a.createElement(C.a,{onClick:this.handleWarnClick},"Show Warning"),r.a.createElement(C.a,{onClick:this.handleInfoClick},"Show Info"),this.getRegionComponent());return r.a.createElement(A.a,{id:"test-grid",className:"test-grid",grid:this.state.gridSettings,gridHeader:"Example Grid",columns:j,disableActionSave:e,actionBarLeft:t,filtering:!0,columnSettings:!0,inlineEdit:!0,removing:!0,multiSelect:!0,rowSelect:!0,rowSelectCheckboxColumn:!0,enableArrowNavigation:!0,onSave:this.handleOnSave,onRemove:this.handleOnRemove,contextMenuItems:[{value:"Selected items are used",onClick:this.handleContextClick,disabled:function(e,t){return t.count(function(e){return!0===e.get("isUsed",!1)})!==t.size}},{value:"View more details...",onClick:this.handleContextClick}]})},a}(r.a.Component))||F,U=n(4);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={cellShowMessage:A.b.cellShowMessage,cellShowMessages:A.b.cellShowMessages,setData:A.b.setData,saveSuccess:A.b.saveSuccess,removeSuccess:A.b.removeSuccess,saveFail:A.b.saveFail,removeFail:A.b.removeFail},$=[{navLabel:"Default",navKey:1,navPath:"/default",navComponent:q},{navLabel:"Paginated",navKey:2,navPath:"/paginated",navComponent:Object(p.connect)(function(e){return{allData:e.datagrid.getIn([k.id,"allData"],Object(g.List)()),createData:e.datagrid.getIn([k.id,"createData"],Object(g.List)()),editData:e.datagrid.getIn([k.id,"editData"],Object(g.Map)()),selectedItems:e.datagrid.getIn([k.id,"selectedItems"],Object(g.List)()),isEditing:e.datagrid.getIn([k.id,"session","isEditing"],!1)}},Z)((H=z=function(e){var t,n;function a(){var t;X(Y(t=e.call(this)||this),"getRegionComponent",function(){var e=t.state.region,n="Region: "+(w[e]||"");return r.a.createElement(f.a,{id:"region-selector",title:n},Object.keys(w).map(function(n){return r.a.createElement(m.a,{eventKey:n,key:n,active:n===e,onSelect:t.handleRegionSelect},w[n])}))}),X(Y(t),"filter",function(e,t){return Object(g.fromJS)(t).filter(function(t){var n=0;return e.forEach(function(e,a){j.forEach(function(r){if(U.a.getColumnKey(r)===a){var i=t.getIn(r.valueKeyPath);if(i||0===i||!1===i)U.a.getFilterMatcher(r,k.dateFormat)(t,e)&&(n+=1)}})}),n===e.size}).toJS()}),X(Y(t),"sort",function(e,t,n){var a;if(j.forEach(function(t){U.a.getColumnKey(t)===e&&(a=t)}),!a)return!1;var r=U.a.getSortComparator(a),i=U.a.getSortValueGetter(a),o=U.a.getValueEmptyChecker(a);return Object(g.fromJS)(n).sort(function(e,n){var a=i(e),l=i(n);return"asc"===t?o(a)?-1:o(l)?1:r(a,l):o(a)?1:o(l)?-1:r(l,a)}).toJS()}),X(Y(t),"requestData",function(e,n,a,r,i){var o=t.props.totalSize,l=V(o);a&&!a.isEmpty()&&(l=t.filter(a,l)),r&&(l=t.sort(r,i,l)),t.setState({totalSize:l.length}),console.log("offset "+e+" count "+n+" filters "+JSON.stringify(a)+" sortColumn "+r+" sortOder "+i);var s=l.slice(e,e+n);t.props.setData(k,j,s)}),X(Y(t),"handleRegionSelect",function(e){var n=I(e),a=n.dateFormat,r=n.thousandSeparator,i=n.decimalSeparator,o=J({},k,{region:e,dateFormat:a,decimalSeparator:i,thousandSeparator:r});t.setState({gridSettings:o,region:e})}),X(Y(t),"handleWarnClick",function(){t.props.cellShowMessage(k,"warning",3,["float"],"Warning")}),X(Y(t),"handleInfoClick",function(){var e=Object(g.Map)().setIn(["info",1],Object(g.Map)({text:"Text message 1",date:"Date message 1"})).setIn(["info",3],Object(g.Map)({text:"Text message 3"}));t.props.cellShowMessages(k,e)}),X(Y(t),"handleOnSave",function(){var e=t.props,n=e.createData,a=e.editData,r=e.allData,i=[];n.size?i=n.toJS():a.size&&a.forEach(function(e,t){var n=r.find(function(e){return e.getIn(k.idKeyPath)===t});n&&i.push(n.merge(e))});var o=i;t.props.saveSuccess(k,j,o)}),X(Y(t),"handleOnRemove",function(){var e=t.props.selectedItems.toJS();t.props.removeSuccess(k,e)}),X(Y(t),"handleContextClick",function(e,t){console.log("Context menu clicked"),console.log("ID's "+e.join(", ")),console.table(t.toSJ())});var n=I("en-GB"),a=n.dateFormat,i=n.thousandSeparator,o=n.decimalSeparator,l=J({},k,{dateFormat:a,decimalSeparator:o,thousandSeparator:i});return t.state={gridSettings:l,region:"en-GB",totalSize:100},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.pageSize,t=this.state.totalSize,n=this.props.isEditing&&0===this.props.editData.size,a=r.a.createElement(h.a,{inline:!0,style:{marginLeft:"20px"}},r.a.createElement(C.a,{onClick:this.handleWarnClick},"Show Warning"),r.a.createElement(C.a,{onClick:this.handleInfoClick},"Show Info"),this.getRegionComponent());return r.a.createElement(A.a,{id:"test-grid",className:"test-grid",grid:this.state.gridSettings,gridHeader:"Example Grid",columns:j,disableActionSave:n,actionBarLeft:a,filtering:!0,columnSettings:!0,inlineEdit:!0,removing:!0,multiSelect:!0,rowSelect:!0,rowSelectCheckboxColumn:!0,enableArrowNavigation:!0,onSave:this.handleOnSave,onRemove:this.handleOnRemove,contextMenuItems:[{value:"Selected items are used",onClick:this.handleContextClick,disabled:function(e,t){return t.count(function(e){return!0===e.get("isUsed",!1)})!==t.size}},{value:"View more details...",onClick:this.handleContextClick}],pagination:{pageSize:e,totalSize:t,getData:this.requestData}})},a}(r.a.Component),X(z,"defaultProps",{pageSize:50,totalSize:100}),B=H))||B}],Q=n(72),ee=function(){return r.a.createElement(Q.d,null,$.map(function(e){return r.a.createElement(Q.b,{key:e.navKey,path:e.navPath,component:e.navComponent})}),r.a.createElement(Q.b,{path:"*",render:function(){return r.a.createElement(Q.a,{to:$[0].navPath})}}))};t.a=function(){return r.a.createElement(i.a,{fluid:!0},r.a.createElement(o.a,null,r.a.createElement(l.a,{xs:12},r.a.createElement(o.a,null,r.a.createElement(l.a,{xs:2,md:1},r.a.createElement("h3",null,"React Grid")),r.a.createElement(l.a,{xs:8,md:10},r.a.createElement("h3",null,$.map(function(e){var t=e.navKey,n=e.navPath,a=e.navLabel;return r.a.createElement(c.b,{key:t,href:n,to:n,style:{marginRight:"20px"},activeStyle:{fontWeight:"bold"}},a)}))),r.a.createElement(l.a,{xs:2,md:1},r.a.createElement("a",{href:"https://github.com/OpusCapita/react-grid",style:{marginTop:"20px",display:"block"}},r.a.createElement(u,null)))),r.a.createElement(s.a,{style:{height:"100%"}},r.a.createElement(ee,null)))))}},512:function(e,t,n){n(513),e.exports=n(699)},699:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),o=n(477);Object(i.render)(r.a.createElement(o.a,null),document.getElementById("oc-examples"))},714:function(e,t){},720:function(e,t){},827:function(e,t,n){var a={"./af":305,"./af.js":305,"./ar":306,"./ar-dz":307,"./ar-dz.js":307,"./ar-kw":308,"./ar-kw.js":308,"./ar-ly":309,"./ar-ly.js":309,"./ar-ma":310,"./ar-ma.js":310,"./ar-sa":311,"./ar-sa.js":311,"./ar-tn":312,"./ar-tn.js":312,"./ar.js":306,"./az":313,"./az.js":313,"./be":314,"./be.js":314,"./bg":315,"./bg.js":315,"./bm":316,"./bm.js":316,"./bn":317,"./bn.js":317,"./bo":318,"./bo.js":318,"./br":319,"./br.js":319,"./bs":320,"./bs.js":320,"./ca":321,"./ca.js":321,"./cs":322,"./cs.js":322,"./cv":323,"./cv.js":323,"./cy":324,"./cy.js":324,"./da":325,"./da.js":325,"./de":326,"./de-at":327,"./de-at.js":327,"./de-ch":328,"./de-ch.js":328,"./de.js":326,"./dv":329,"./dv.js":329,"./el":330,"./el.js":330,"./en-SG":331,"./en-SG.js":331,"./en-au":332,"./en-au.js":332,"./en-ca":333,"./en-ca.js":333,"./en-gb":334,"./en-gb.js":334,"./en-ie":335,"./en-ie.js":335,"./en-il":336,"./en-il.js":336,"./en-nz":337,"./en-nz.js":337,"./eo":338,"./eo.js":338,"./es":339,"./es-do":340,"./es-do.js":340,"./es-us":341,"./es-us.js":341,"./es.js":339,"./et":342,"./et.js":342,"./eu":343,"./eu.js":343,"./fa":344,"./fa.js":344,"./fi":345,"./fi.js":345,"./fo":346,"./fo.js":346,"./fr":347,"./fr-ca":348,"./fr-ca.js":348,"./fr-ch":349,"./fr-ch.js":349,"./fr.js":347,"./fy":350,"./fy.js":350,"./ga":351,"./ga.js":351,"./gd":352,"./gd.js":352,"./gl":353,"./gl.js":353,"./gom-latn":354,"./gom-latn.js":354,"./gu":355,"./gu.js":355,"./he":356,"./he.js":356,"./hi":357,"./hi.js":357,"./hr":358,"./hr.js":358,"./hu":359,"./hu.js":359,"./hy-am":360,"./hy-am.js":360,"./id":361,"./id.js":361,"./is":362,"./is.js":362,"./it":363,"./it-ch":364,"./it-ch.js":364,"./it.js":363,"./ja":365,"./ja.js":365,"./jv":366,"./jv.js":366,"./ka":367,"./ka.js":367,"./kk":368,"./kk.js":368,"./km":369,"./km.js":369,"./kn":370,"./kn.js":370,"./ko":371,"./ko.js":371,"./ku":372,"./ku.js":372,"./ky":373,"./ky.js":373,"./lb":374,"./lb.js":374,"./lo":375,"./lo.js":375,"./lt":376,"./lt.js":376,"./lv":377,"./lv.js":377,"./me":378,"./me.js":378,"./mi":379,"./mi.js":379,"./mk":380,"./mk.js":380,"./ml":381,"./ml.js":381,"./mn":382,"./mn.js":382,"./mr":383,"./mr.js":383,"./ms":384,"./ms-my":385,"./ms-my.js":385,"./ms.js":384,"./mt":386,"./mt.js":386,"./my":387,"./my.js":387,"./nb":388,"./nb.js":388,"./ne":389,"./ne.js":389,"./nl":390,"./nl-be":391,"./nl-be.js":391,"./nl.js":390,"./nn":392,"./nn.js":392,"./pa-in":393,"./pa-in.js":393,"./pl":394,"./pl.js":394,"./pt":395,"./pt-br":396,"./pt-br.js":396,"./pt.js":395,"./ro":397,"./ro.js":397,"./ru":398,"./ru.js":398,"./sd":399,"./sd.js":399,"./se":400,"./se.js":400,"./si":401,"./si.js":401,"./sk":402,"./sk.js":402,"./sl":403,"./sl.js":403,"./sq":404,"./sq.js":404,"./sr":405,"./sr-cyrl":406,"./sr-cyrl.js":406,"./sr.js":405,"./ss":407,"./ss.js":407,"./sv":408,"./sv.js":408,"./sw":409,"./sw.js":409,"./ta":410,"./ta.js":410,"./te":411,"./te.js":411,"./tet":412,"./tet.js":412,"./tg":413,"./tg.js":413,"./th":414,"./th.js":414,"./tl-ph":415,"./tl-ph.js":415,"./tlh":416,"./tlh.js":416,"./tr":417,"./tr.js":417,"./tzl":418,"./tzl.js":418,"./tzm":419,"./tzm-latn":420,"./tzm-latn.js":420,"./tzm.js":419,"./ug-cn":421,"./ug-cn.js":421,"./uk":422,"./uk.js":422,"./ur":423,"./ur.js":423,"./uz":424,"./uz-latn":425,"./uz-latn.js":425,"./uz.js":424,"./vi":426,"./vi.js":426,"./x-pseudo":427,"./x-pseudo.js":427,"./yo":428,"./yo.js":428,"./zh-cn":429,"./zh-cn.js":429,"./zh-hk":430,"./zh-hk.js":430,"./zh-tw":431,"./zh-tw.js":431};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=827},831:function(e,t,n){},868:function(e,t,n){},871:function(e,t,n){},892:function(e,t,n){},951:function(e,t,n){},965:function(e,t,n){},966:function(e,t,n){}});