!function(e){function t(t){for(var a,o,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)o=l[u],r[o]&&p.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(d&&d(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;i.push([512,1]),n()}({2032:function(e,t,n){e.exports={colorPrimaryOrange:"#EC6608",colorPrimaryYellow:"#FECA1D",colorPrimarAzure:"#67707c",colorBackgroundAside:"#EAEFF3",colorBackgroundMenu:"#3C4A55",colorMain:"#EC6608",colorBlack:"#000000",colorPetrol:"#006070",colorDarkSteel:"#3B4A56",colorSupportGray:"#CCCCCC",colorLightGray:"#D3DADE",colorAttentionRed:"#DD2515",colorAttentionGreen:"#3AA57B",colorYellow:"#FECA1D",colorOrange:"#E66608",colorGreen:"#3AA57B",colorAzure:"#67707C",colorGray:"#CCCCCC",colorRed:"#D82515",colorBlue:"#16AED6",colorViolet:"#943BA3",colorWhite:"#FFFFFF",colorText:"#67707c",colorTextLink:"#EC6608",colorTextDisabled:"#a7a7a7",colorWarning:"#FECA1D",colorSuccess:"#3AA57B",colorError:"#D82515",colorInfo:"#16AED6",colorTooltipText:"#FFFFFF",colorTooltipBackground:"#006070",colorToastText:"#000000",colorToastBackground:"#eaeaea",colorPseudoNormal:"#67707c",colorPseudoFocused:"#FECA1D",colorPseudoHover:"#FECA1D",colorPseudoPressed:"#FECA1D",colorPseudoDisabled:"#a7a7a7",colorContentBackground:"#FFFFFF",colorSiteBackground:"#D3DADE",colorButtonText:"#FFFFFF",colorButtonTextDisabled:"#a7a7a7",colorButtonNormal:"#67707c",colorButtonFocused:"#67707c",colorButtonHover:"#77818c",colorButtonPressed:"#585F68",colorButtonPriorityNormal:"#E66608",colorButtonPriorityFocused:"#E66608",colorButtonPriorityHover:"#ff7517",colorButtonPriorityPressed:"#d35c0b",colorButtonDisabled:"#f0f0f0",colorDatePickerContent:"#E9E9E9",colorSelectHover:"#eff2f4",colorSelectSelected:"#e6e9eb",colorGridText:"#67707c",colorGridBorder:"#D3DADE",colorGridBackground:"#FFFFFF",colorGridStripe:"#D3DADE",colorGridHighlight:"#eff2f4",colorGridSelected:"#e6e9eb",borderRadiusBase:"0",borderRadiusLarge:"0",borderRadiusSmall:"0",heightNavbar:"40px",spaceContent:"1rem",radiusContent:"0.5rem",radiusNavbar:"0",sidemenuColorText:"#FFFFFF",fontWeightLight:"300",fontWeightNormal:"400",fontWeightBold:"700",fontSizeH1:"3.6rem",fontSizeH2:"3rem",fontSizeH3:"2.4rem",fontSizeH4:"1.8rem",fontSizeLarge:"1.8rem",fontSizeMedium:"1.6rem",fontSizeNormal:"1.4rem",fontSizeSmall:"1.2rem",marginContent:"10px"}},2033:function(e,t,n){e.exports=n.p+"favicon.ico"},26:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"TYPES",function(){return Me}),n.d(a,"invalidate",function(){return Fe}),n.d(a,"forceRefresh",function(){return Le}),n.d(a,"setBusy",function(){return we}),n.d(a,"setReady",function(){return Ge}),n.d(a,"applyFilters",function(){return ke}),n.d(a,"setAndApplyFilters",function(){return je}),n.d(a,"filterCellValueChange",function(){return Ve}),n.d(a,"applySort",function(){return xe}),n.d(a,"sortChange",function(){return Ne}),n.d(a,"setData",function(){return Ke}),n.d(a,"setFocusTo",function(){return Be}),n.d(a,"extendData",function(){return ze}),n.d(a,"resizeColumn",function(){return He}),n.d(a,"edit",function(){return We}),n.d(a,"cancel",function(){return qe}),n.d(a,"save",function(){return Ue}),n.d(a,"saveSuccess",function(){return Je}),n.d(a,"savePartialSuccess",function(){return Ye}),n.d(a,"saveFail",function(){return Xe}),n.d(a,"create",function(){return Ze}),n.d(a,"addNewItem",function(){return $e}),n.d(a,"removeItem",function(){return Qe}),n.d(a,"removeNewItem",function(){return et}),n.d(a,"removeNewItems",function(){return tt}),n.d(a,"remove",function(){return nt}),n.d(a,"removeSuccess",function(){return at}),n.d(a,"removeFail",function(){return rt}),n.d(a,"editCellValueChange",function(){return it}),n.d(a,"editCellValueValidate",function(){return ot}),n.d(a,"createCellValueChange",function(){return lt}),n.d(a,"createCellValueValidate",function(){return st}),n.d(a,"cellShowMessage",function(){return ct}),n.d(a,"cellShowMessages",function(){return dt}),n.d(a,"cellHideMessage",function(){return ut}),n.d(a,"createCellShowMessage",function(){return pt}),n.d(a,"createCellHideMessage",function(){return gt}),n.d(a,"cellSelectionChange",function(){return ft}),n.d(a,"itemSelectionChange",function(){return mt}),n.d(a,"selectAllItemsChange",function(){return ht}),n.d(a,"clearSelectedItems",function(){return Ct}),n.d(a,"toggleFiltering",function(){return vt}),n.d(a,"validateEditedRows",function(){return Et}),n.d(a,"removeEmptyCreatedRows",function(){return At}),n.d(a,"validateCreatedRows",function(){return It}),n.d(a,"updateExistingCellValue",function(){return Rt}),n.d(a,"setEditData",function(){return _t}),n.d(a,"openColumnSettingsModal",function(){return Dt}),n.d(a,"closeColumnSettingsModal",function(){return Tt}),n.d(a,"saveColumnSettings",function(){return yt}),n.d(a,"setPage",function(){return St}),n.d(a,"setRowsOnPage",function(){return Ot});var r=n(0),i=n.n(r),o=n(6),l=n.n(o),s=n(42),c=n(12),d=n(35),u=n(2037),p=n(8),g=n.n(p),f=n(504),m=n(509),h=n(90),C=(n(756),n(1)),v=n.n(C),E=n(13),A=n(483),I=n.n(A),R=n(237),_=n.n(R);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=1,O=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return y(T(t=e.call.apply(e,[this].concat(a))||this),"state",{gridWidth:S,gridHeight:S}),y(T(t),"setDimensionsOnState",function(){if(t.isComponentMounted){var e=Object(E.findDOMNode)(T(t)),n=e.offsetWidth,a=e.offsetHeight;t.setState({gridWidth:n||S,gridHeight:a||S})}}),t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentWillMount=function(){var e=this.props.refreshRate;this.setDimensionsOnState=I()(this.setDimensionsOnState,e)},r.componentDidMount=function(){var e=this;this.isComponentMounted=!0,this.setDimensionsOnState(),this.attachResizeEvent(),window.setTimeout(function(){return e.setDimensionsOnState()},500)},r.shouldComponentUpdate=function(e,t){return!_()(this.props,e)||!_()(this.state,t)},r.componentWillUnmount=function(){this.isComponentMounted=!1,window.removeEventListener("resize",this.setDimensionsOnState)},r.getStyle=function(){return D({},this.props.containerStyle,{width:"100%",height:"100%",overflow:"hidden"})},r.attachResizeEvent=function(){window.addEventListener?window.addEventListener("resize",this.setDimensionsOnState,!1):window.attachEvent?window.attachEvent("resize",this.setDimensionsOnState):window.onresize=this.setDimensionsOnState},r.render=function(){var e=this.state,t=e.gridWidth,n=e.gridHeight;return i.a.createElement("div",{className:"oc-datagrid-main-container",style:this.getStyle()},i.a.createElement(d.Table,D({},this.props,{width:t,height:n})))},a}(i.a.Component);y(O,"defaultProps",{containerStyle:{},refreshRate:250});var b=n(46),P=n(32),M=n.n(P),F=v.a.bool,L=v.a.number,w=v.a.string,G=v.a.func,k=v.a.object,j=v.a.node,V=v.a.array,x=v.a.shape,N=v.a.any,K=v.a.oneOfType,B=v.a.arrayOf,z=M.a.list,H=M.a.map,W=M.a.mapOf,q=x({load:G.isRequired,save:G.isRequired}),U=x({id:w.isRequired,idKeyPath:B(w).isRequired,defaultShowFilteringRow:F,defaultSortColumn:w,defaultSortOrder:w,disableRememberColumnWidths:F,disableRememberSortData:F,disableRememberIsFiltering:F,disableRememberFilterData:F,disableRememberSelectedItems:F,language:w,region:w,dateFormat:w,thousandSeparator:w,decimalSeparator:w,configStorage:q,pagination:F}),J=x({header:j,columnKey:w,valueKeyPath:V,valueType:w,valueOptions:x({currencyKeyPath:V,decimals:L,thousandSeparator:w,decimalSeparator:w}),componentType:w,valueRender:G,editValueRender:G,createValueRender:G,filterValueRender:G,cell:G,cellEdit:G,cellCreate:G,cellFilter:G,renderComponentProps:k,editComponentProps:k,createComponentProps:k,filterComponentProps:k,width:L,minWidth:L,maxWidth:L,align:w,fixed:F,fixedRight:F,allowCellsRecycling:F,disableResizing:F,disableEditing:F,disableSorting:F,disableEditingOnValueMatch:x({matchValueKeyPath:V,matchValue:N}),onValueMatchChangeValue:x({matchValue:N,newValueKeyPath:V,newValue:N}),flexGrow:L,valueEmptyChecker:G,sortValueGetter:G,sortComparator:G,filterMatcher:G,defaultValue:N,isRequired:F,isHidden:F,onEditValueChange:G,onCreateValueChange:G,onCreateBlur:G,onEditBlur:G,selectComponentOptions:B(x({value:K([L,w,F]).isRequired,label:K([L,w]).isRequired})),selectComponentTranslations:x({placeholder:w,noResultsText:w,selected:w}),isCreatableSelect:F}),Y=(k.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,G.isRequired,F.isRequired,F.isRequired,F.isRequired,F.isRequired,K([w,L]),z.isRequired,H.isRequired,H.isRequired,z.isRequired,z.isRequired,H.isRequired,z.isRequired,H.isRequired,H.isRequired,H.isRequired,w.isRequired,w.isRequired,w.isRequired,w.isRequired,L.isRequired,U.isRequired,B(J.isRequired).isRequired,B(x({id:w,title:j,icon:j,onClick:G,disabled:K([F,G])})),W(B(x({value:K([L,w,F]).isRequired,label:K([L,w]).isRequired}))),x({placeholder:w.isRequired,noResultsText:w.isRequired,selected:w.isRequired}),x({messageId:w,messageValues:x({})}),x({width:w,valueRender:G,cellEdit:G,cellCreate:G,cellFilter:G,isResizable:F}),B(x({value:j,onClick:G,title:w,header:F,disabled:K([F,G]),divider:F})),H.isRequired,x({pageSize:L.isRequired,totalSize:L.isRequired,getData:G.isRequired}),{cellSelect:!1,columnSettings:!1,children:void 0,containerStyle:{},disableActionSave:!1,enableArrowNavigation:!1,headerHeight:40,filterRowHeight:40,rowHeight:40,onSave:function(){},onRemove:function(){},onCancel:function(){},showSelectAllCheckbox:!0,tabIndex:1,disableFilteringControls:!1,className:"",scrollInEditMode:!1}),X=n(5);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(){var e=ae(["\n  flex: 1 0 content;\n  white-space: nowrap;\n  margin-left: ",";\n"]);return ee=function(){return e},e}function te(){var e=ae(["\n  flex: 0 1 content;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return te=function(){return e},e}function ne(){var e=ae(["\n  /* Mystical 17px comes from 2*8px paddings of public_fixedDataTableCell_cellContent plus 1px border width */\n  width: ",";\n  display: inline-flex;\n  flex-wrap: nowrap;\n"]);return ne=function(){return e},e}function ae(e,t){return t||(t=e.slice(0)),e.raw=t,e}var re=b.a.div(ne(),function(e){return"calc("+e.width+"px - 17px)"}),ie=b.a.span(te()),oe=b.a.span(ee(),function(e){return e.children?"5px":"0"}),le=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return Q($(t=e.call.apply(e,[this].concat(a))||this),"onSortChange",function(e){if("public_fixedDataTableCell_cellContent"!==e.target.className&&"public_fixedDataTableCell_cellContent"!==e.target.parentElement.className)return!1;if(!X.a.isSortable(t.props.column))return!1;if(t.props.isBusy)return!1;e.preventDefault();var n=t.props.currentSortColumn===X.a.getColumnKey(t.props.column)&&"asc"===t.props.currentSortOrder?"desc":"asc";return t.props.onSortChange&&t.props.onSortChange(t.props.grid,t.props.columns,t.props.column,n),!0}),Q($(t),"getFilteringComponent",function(e,t){return e?i.a.createElement("div",{className:"oc-datagrid-row-filter"},t.cellFilter()):null}),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.children,n=(e.grid,e.currentSortColumn),a=e.currentSortOrder,r=(e.columns,e.column),o=(e.onSortChange,e.isBusy),l=e.filtering,s=e.width,c=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["children","grid","currentSortColumn","currentSortOrder","columns","column","onSortChange","isBusy","filtering","width"]),u=g()({"oc-datagrid-cell-header":!0,clickable:!o&&X.a.isSortable(this.props.column)}),p=r.isRequired?"*":"",f=n===X.a.getColumnKey(r)&&a?""+p+("desc"===a?" ↓":" ↑"):p;return i.a.createElement(d.Cell,Z({className:u,onClick:this.onSortChange},c),i.a.createElement(re,{width:s},i.a.createElement(ie,{width:s},t),i.a.createElement(oe,null,f)),this.getFilteringComponent(l,r))},a}(i.a.PureComponent);Q(le,"defaultProps",{children:"",currentSortOrder:null,currentSortColumn:null});n(831);var se,ce,de,ue=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e,t=g()(((e={"oc-datagrid-actionbar":!0})[this.props.position]=!!this.props.position,e));return i.a.createElement("div",{className:t},this.props.children)},a}(i.a.PureComponent);de={children:null,position:"right"},(ce="defaultProps")in(se=ue)?Object.defineProperty(se,ce,{value:de,enumerable:!0,configurable:!0,writable:!0}):se[ce]=de;var pe=n(167),ge=n(2035),fe=n(2048);var me=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.children,n=e.id,a=e.isEdited,r=e.isError,o=e.isWarning,l=e.infoMessage,s=e.errorMessage,d=e.warningMessage,u={overlay:i.a.createElement(ge.a,{id:"Tooltip_"+n,style:{display:"none"}})},p=s||d||l;if(p){var f="tooltip";r?f="error tooltip":o&&(f="warning tooltip"),u={placement:"top",overlay:i.a.createElement(ge.a,{id:"Tooltip_"+n,bsClass:f},p.id?i.a.createElement(c.FormattedMessage,{id:p.id,values:p.values}):i.a.createElement("span",null,p))}}var m=g()({"oc-datagrid-tooltip":!0,edited:a,error:r,warning:o&&!r,info:l&&!r&&!o});return i.a.createElement(fe.a,u,i.a.createElement("div",{id:n,className:m},t))},a}(i.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(me,"defaultProps",{children:null,isEdited:!1,isError:!1,isWarning:!1,infoMessage:null,errorMessage:null,warningMessage:null});n(868);function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return ve(Ce(t=e.call.apply(e,[this].concat(a))||this),"handleSaveButtonClick",function(){var e=!0;t.props.isEditing&&(e=t.props.validateEditedRows(t.props.grid,t.props.columns)),e&&t.props.isCreating&&(e=t.props.validateCreatedRows(t.props.grid,t.props.columns)),e?t.props.save(t.props.grid,t.props.onSave):t.props.afterValidationError()}),ve(Ce(t),"handleCancelButtonClick",function(){t.props.cancel(t.props.grid),t.props.onCancel()}),ve(Ce(t),"handleAddButtonClick",function(){t.props.addNewItem(t.props.grid,X.a.getColumnDefaultValues(t.props.columns)),t.props.afterAddItem()}),ve(Ce(t),"handleEditButtonClick",function(){t.props.disableActions||(t.props.edit(t.props.grid),t.props.afterEditPress(),t.props.onEditClick&&t.props.onEditClick())}),ve(Ce(t),"handleCreateButtonClick",function(){t.props.disableActions||(t.props.onAddClick?t.props.onAddClick():(t.props.create(t.props.grid,X.a.getColumnDefaultValues(t.props.columns)),t.props.afterAddItem()))}),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.disableActions,n=e.disableActionsMessage,a=e.disableActionSave,r=e.grid,o=e.inlineAdd,l=e.isBusy,s=e.isCreating,d=e.isEditing,u=e.tabIndex,p=e.data;if(s||d)return i.a.createElement("div",{className:"oc-datagrid-inline-edit-controls"},i.a.createElement(pe.a,{disabled:l||t||a,onClick:this.handleSaveButtonClick,tabIndex:u+1,id:"oc-datagrid-controls-save-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Save"})),i.a.createElement(pe.a,{disabled:l||t,onClick:this.handleCancelButtonClick,tabIndex:u+2,id:"oc-datagrid-controls-cancel-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Cancel"})),s&&i.a.createElement(pe.a,{disabled:l||t,onClick:this.handleAddButtonClick,tabIndex:u+3,id:"oc-datagrid-controls-add-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Add"})));var g={};t&&n&&(g={infoMessage:{id:n.messageId,values:n.messageValues}});var f=p.size>=1;return i.a.createElement("div",{className:"oc-datagrid-inline-edit-controls"},i.a.createElement(me,he({id:"oc-datagrid-controls-tooltip-"+r.id},g),i.a.createElement(pe.a,{disabled:l||!f,onClick:this.handleEditButtonClick,id:"oc-datagrid-controls-edit-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Edit"})),o&&i.a.createElement(pe.a,{disabled:l,onClick:this.handleCreateButtonClick,id:"oc-datagrid-controls-create-"+r.id},i.a.createElement(c.FormattedMessage,{id:"Grid.Add"}))))},a}(i.a.PureComponent);ve(Ee,"defaultProps",{disableActions:!1,disableActionsMessage:{messageId:"Grid.DisableActionsMessage"},disableActionSave:!1,inlineAdd:!0,onAddClick:null,onEditClick:null,tabIndex:1});var Ae=n(2036);n(871);function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return Ie(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(a))||this),"toggleFiltering",function(){t.props.toggleFiltering(t.props.grid)}),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return i.a.createElement("div",{className:"oc-datagrid-filtering-controls"},i.a.createElement(Ae.a,{checked:this.props.isFiltering,disabled:this.props.isBusy||this.props.isCreating||this.props.isEditing,onChange:this.toggleFiltering,inline:!0},i.a.createElement(c.FormattedMessage,{id:"Grid.ShowFilteringRow"})))},a}(i.a.PureComponent);Ie(Re,"defaultProps",{toggleFiltering:function(){}});var _e=n(174),De=n(507);n(892);function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(){var e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["\n  color: ",";\n  margin: ",";\n  padding: ",";\n  transform: rotate(",");\n"]);return Se=function(){return e},e}var Oe=Object(b.a)(_e.b)(Se(),function(e){return e.color},function(e){return e.margin||0},function(e){return e.padding||0},function(e){return e.rotate?e.rotate+"deg":""}),be=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return ye(Te(t=e.call.apply(e,[this].concat(a))||this),"handleRemoveClick",function(){t.props.selectedItems.size>0&&t.props.onRemove()}),ye(Te(t),"handleToggleFilteringClick",function(){t.props.toggleFiltering(t.props.grid)}),ye(Te(t),"handleColumnSettingsClick",function(){t.props.openColumnSettingsModal(t.props.grid)}),t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.isBusy||this.props.isCreating||this.props.isEditing||this.props.disableActions,t=[];return this.props.filtering&&t.push({id:this.props.grid.id+"-menu-item-filtering",title:i.a.createElement(c.FormattedMessage,{id:"Grid.ShowFilteringRow"}),icon:this.props.isFiltering?i.a.createElement(Oe,{color:"#3AA57B",size:20}):i.a.createElement(Oe,{rotate:"180",color:"#67707C",size:20}),onClick:this.handleToggleFilteringClick}),this.props.dropdownMenuItems&&this.props.dropdownMenuItems.length&&(t=t.concat(this.props.dropdownMenuItems)),this.props.columnSettings&&t.push({id:this.props.grid.id+"-menu-item-column-settings",title:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings"}),onClick:this.handleColumnSettingsClick}),this.props.removing&&t.push({id:this.props.grid.id+"-menu-item-delete",title:i.a.createElement(c.FormattedMessage,{id:"Grid.Delete"}),disabled:!this.props.selectedItems.has(0),onClick:this.handleRemoveClick}),i.a.createElement(De.a,{id:this.props.grid.id,disabled:e,menuItems:t})},a}(i.a.PureComponent);ye(be,"defaultProps",{filtering:!1,removing:!1,columnSettings:!1,dropdownMenuItems:[],disableActions:!1});var Pe,Me={PLATFORM_DATAGRID_INVALIDATE:"PLATFORM_DATAGRID_INVALIDATE",PLATFORM_DATAGRID_BUSY:"PLATFORM_DATAGRID_BUSY",PLATFORM_DATAGRID_READY:"PLATFORM_DATAGRID_READY",PLATFORM_DATAGRID_SET_DATA:"PLATFORM_DATAGRID_SET_DATA",PLATFORM_DATAGRID_APPLY_SORT:"PLATFORM_DATAGRID_APPLY_SORT",PLATFORM_DATAGRID_SORT_CHANGE:"PLATFORM_DATAGRID_SORT_CHANGE",PLATFORM_DATAGRID_RESIZE_COLUMN:"PLATFORM_DATAGRID_RESIZE_COLUMN",PLATFORM_DATAGRID_EDIT:"PLATFORM_DATAGRID_EDIT",PLATFORM_DATAGRID_CANCEL:"PLATFORM_DATAGRID_CANCEL",PLATFORM_DATAGRID_SAVE:"PLATFORM_DATAGRID_SAVE",PLATFORM_DATAGRID_EXTEND_DATA:"PLATFORM_DATAGRID_EXTEND_DATA",PLATFORM_DATAGRID_SAVE_SUCCESS:"PLATFORM_DATAGRID_SAVE_SUCCESS",PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS:"PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS",PLATFORM_DATAGRID_SAVE_FAIL:"PLATFORM_DATAGRID_SAVE_FAIL",PLATFORM_DATAGRID_CREATE:"PLATFORM_DATAGRID_CREATE",PLATFORM_DATAGRID_ADD_NEW_ITEM:"PLATFORM_DATAGRID_ADD_NEW_ITEM",PLATFORM_DATAGRID_REMOVE_ITEM:"PLATFORM_DATAGRID_REMOVE_ITEM",PLATFORM_DATAGRID_REMOVE_NEW_ITEM:"PLATFORM_DATAGRID_REMOVE_NEW_ITEM",PLATFORM_DATAGRID_REMOVE_NEW_ITEMS:"PLATFORM_DATAGRID_REMOVE_NEW_ITEMS",PLATFORM_DATAGRID_REMOVE:"PLATFORM_DATAGRID_REMOVE",PLATFORM_DATAGRID_REMOVE_SUCCESS:"PLATFORM_DATAGRID_REMOVE_SUCCESS",PLATFORM_DATAGRID_REMOVE_FAIL:"PLATFORM_DATAGRID_REMOVE_FAIL",PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE:"PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE",PLATFORM_DATAGRID_CELL_SHOW_MESSAGE:"PLATFORM_DATAGRID_CELL_SHOW_MESSAGE",PLATFORM_DATAGRID_CELL_SHOW_MESSAGES:"PLATFORM_DATAGRID_CELL_SHOW_MESSAGES",PLATFORM_DATAGRID_CELL_HIDE_MESSAGE:"PLATFORM_DATAGRID_CELL_HIDE_MESSAGE",PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE:"PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE",PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE:"PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE",PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE:"PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE",PLATFORM_DATAGRID_CREATE_CELL_VALUE_VALIDATE:"PLATFORM_DATAGRID_CREATE_CELL_VALUE_VALIDATE",PLATFORM_DATAGRID_CELL_SELECTION_CHANGE:"PLATFORM_DATAGRID_CELL_SELECTION_CHANGE",PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE:"PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE",PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE:"PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE",PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS:"PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS",PLATFORM_DATAGRID_TOGGLE_FILTERING:"PLATFORM_DATAGRID_TOGGLE_FILTERING",PLATFORM_DATAGRID_FILTER_DATA_CHANGE:"PLATFORM_DATAGRID_FILTER_DATA_CHANGE",PLATFORM_DATAGRID_APPLY_FILTERS:"PLATFORM_DATAGRID_APPLY_FILTERS",PLATFORM_DATAGRID_SET_FILTERS:"PLATFORM_DATAGRID_SET_FILTERS",PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE:"PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE",PLATFORM_DATAGRID_SET_EDIT_DATA:"PLATFORM_DATAGRID_SET_EDIT_DATA",PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN:"PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN",PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE:"PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE",PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE:"PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE",PLATFORM_DATAGRID_FORCE_REFRESH:"PLATFORM_DATAGRID_FORCE_REFRESH",PLATFORM_DATAGRID_SET_FOCUS_TO:"PLATFORM_DATAGRID_SET_FOCUS_TO",PLATFORM_DATAGRID_SET_PAGE:"PLATFORM_DATAGRID_SET_PAGE",PLATFORM_DATAGRID_SET_ROWS_ON_PAGE:"PLATFORM_DATAGRID_SET_ROWS_ON_PAGE"},Fe=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_INVALIDATE,id:e.id})}},Le=function(){return function(e){setTimeout(function(){if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)}},1),e({type:Me.PLATFORM_DATAGRID_FORCE_REFRESH})}},we=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_BUSY,id:e.id})}},Ge=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_READY,id:e.id})}},ke=function(e,t){return function(n,a){if(X.a.checkGridParam(e),!t||!t.forEach)return!1;var r=a().datagrid.get(e.id);if(!r)return!1;var i,l=r.getIn(["config","filteringData","filterData"],Object(o.Map)()),s=r.get("allData");if(we(e)(n),e.pagination)return!0;if(l.isEmpty())i=s;else{var c=X.a.getDateFormat(e,a().user);i=s.filter(function(e){var n=0;return l.forEach(function(a,r){t.forEach(function(t){if(X.a.getColumnKey(t)===r){var i=e.getIn(t.valueKeyPath);if(i||0===i||!1===i)X.a.getFilterMatcher(t,c)(e,a)&&(n+=1)}})}),n===l.size})}return n({type:Me.PLATFORM_DATAGRID_APPLY_FILTERS,id:e.id,data:i}),Ge(e)(n),!0}},je=function(e,t,n){return function(a){var r=X.a.normalizeFilteringData(n);return X.a.saveFilterData(e,r.get("filterData")),a({type:Me.PLATFORM_DATAGRID_SET_FILTERS,id:e.id,filteringData:r}),a(ke(e,t)),!0}},Ve=function(e,t,n,a){return function(r,i){X.a.checkGridParam(e);var l,s=i().datagrid.getIn([e.id,"config","filteringData","filterData"],Object(o.Map)()),c=X.a.getColumnKey(n);l=X.a.getValueEmptyChecker(n)(a)?s.delete(c):s.set(c,a),X.a.saveFilterData(e,l),r({type:Me.PLATFORM_DATAGRID_FILTER_DATA_CHANGE,id:e.id,filterData:l}),ke(e,t)(r,i)}},xe=function(e,t){return function(n,a){if(X.a.checkGridParam(e),!t||!t.forEach)return!1;var r=a().datagrid.get(e.id);if(!r)return!1;var i=r.getIn(["config","sortingData"]);if(!i)return!1;var o=i.get("sortColumn");if(!o)return!1;var l,s=i.get("sortOrder","asc");if(t.forEach(function(e){X.a.getColumnKey(e)===o&&(l=e)}),!l)return!1;if(we(e)(n),e.pagination)return!0;var c,d=r.get("allData"),u=X.a.getSortComparator(l),p=X.a.getSortValueGetter(l),g=X.a.getValueEmptyChecker(l),f=d.sort(function(e,t){var n=p(e),a=p(t);return"asc"===s?g(n)?-1:g(a)?1:u(n,a):g(n)?1:g(a)?-1:u(a,n)});return c=r.getIn(["config","filteringData","isFiltering"],!1)?r.get("data").sort(function(e,t){var n=p(e),a=p(t);return"asc"===s?g(n)?-1:g(a)?1:u(n,a):g(n)?1:g(a)?-1:u(a,n)}):f,n({type:Me.PLATFORM_DATAGRID_APPLY_SORT,id:e.id,data:c,allData:f}),Ge(e)(n),!0}},Ne=function(e,t,n,a){return function(r,i){X.a.checkGridParam(e);var o=a||"asc",l=X.a.getColumnKey(n);X.a.saveSortData(e,{sortColumn:l,sortOrder:o}),r({type:Me.PLATFORM_DATAGRID_SORT_CHANGE,id:e.id,sortColumn:l,sortOrder:o}),xe(e,t)(r,i)}},Ke=function(e,t,n){return function(a,r){X.a.checkGridParam(e),X.a.checkColumnsParam(t);var i=X.a.loadGridConfig(e,t),s=l.a.Iterable.isIterable(n)?n:l.a.fromJS(n),c=X.a.loadSelectedItems(e).filter(function(t){return!!s.find(function(n){return n.getIn(e.idKeyPath)===t})});if(a({type:Me.PLATFORM_DATAGRID_SET_DATA,id:e.id,data:s,config:i,selectedItems:c}),e.pagination){var d=r().datagrid.get(e.id);if(!d)return!1;d.getIn(["config","filteringData","filterData"],Object(o.Map)()).isEmpty()||a({type:Me.PLATFORM_DATAGRID_APPLY_FILTERS,id:e.id,data:s}),d.getIn(["config","sortingData"])&&a({type:Me.PLATFORM_DATAGRID_APPLY_SORT,id:e.id,data:s,allData:s})}else ke(e,t)(a,r),xe(e,t)(a,r);return!0}},Be=function(e,t,n){return void 0===n&&(n=!1),function(a){X.a.checkGridParam(e),a({type:Me.PLATFORM_DATAGRID_SET_FOCUS_TO,focusTo:t,focusToLastRow:n,id:e.id})}},ze=function(e,t,n,a){return void 0===a&&(a=!1),function(r,i){X.a.checkGridParam(e);var o=l.a.Iterable.isIterable(n)?n:l.a.fromJS(n);r({type:Me.PLATFORM_DATAGRID_EXTEND_DATA,id:e.id,data:o,prepend:a}),ke(e,t)(r,i),xe(e,t)(r,i)}},He=function(e,t,n){return function(a,r){X.a.checkGridParam(e);var i=r().datagrid.getIn([e.id,"config","columnWidths"],Object(o.Map)()).set(t,n);X.a.saveColumnWidths(e,i),a({type:Me.PLATFORM_DATAGRID_RESIZE_COLUMN,id:e.id,columnWidths:i})}},We=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_EDIT,id:e.id})}},qe=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_CANCEL,id:e.id})}},Ue=function(e,t){return void 0===t&&(t=function(){}),function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_SAVE,id:e.id}),t()}},Je=function(e,t,n){return function(a,r){X.a.checkGridParam(e),a({type:Me.PLATFORM_DATAGRID_SAVE_SUCCESS,id:e.id,idKeyPath:e.idKeyPath,savedItems:n}),ke(e,t)(a,r),xe(e,t)(a,r)}},Ye=function(e,t,n){return function(a,r){X.a.checkGridParam(e),a({type:Me.PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS,id:e.id,idKeyPath:e.idKeyPath,savedItems:n}),ke(e,t)(a,r),xe(e,t)(a,r)}},Xe=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_SAVE_FAIL,id:e.id})}},Ze=function(e,t){return function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_CREATE,id:e.id,columnDefaultValues:t})}},$e=function(e,t){return function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_ADD_NEW_ITEM,id:e.id,columnDefaultValues:t})}},Qe=function(e,t){return function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_REMOVE_ITEM,id:e.id,idKeyPath:e.idKeyPath,rowId:t})}},et=function(e,t){return function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_REMOVE_NEW_ITEM,id:e.id,index:t})}},tt=function(e,t){return function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_REMOVE_NEW_ITEMS,id:e.id,indexes:t})}},nt=function(e,t){return void 0===t&&(t=function(){}),function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_REMOVE,id:e.id}),t()}},at=function(e,t){return function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_REMOVE_SUCCESS,id:e.id,idKeyPath:e.idKeyPath,removedIds:t})}},rt=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_REMOVE_FAIL,id:e.id})}},it=function(e,t,n,a){return function(r){X.a.checkGridParam(e),r({type:Me.PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE,id:e.id,dataId:t,keyPath:n,value:a})}},ot=function(e,t,n,a,r){return void 0===r&&(r=[]),function(i,l){X.a.checkGridParam(e);var s={valid:!0};return r.forEach(function(r){if(s.valid)if(r.unique){if(""!==a||null!==a||void 0!==a){var i=l().datagrid.get(e.id),c=i.get("editData"),d=i.get("allData");c&&c.forEach(function(t,n){var a=d.findIndex(function(t){return t.getIn(e.idKeyPath)===n});-1!==a&&(d=d.mergeDeepIn([a],t))}),d.find(function(r){return(!e.idKeyPath.length||r.getIn(e.idKeyPath)!==t)&&r.getIn(n)===a})&&(s={valid:!1,message:"Validation.Unique"})}}else if(r.validateWithRowData){var u=l().datagrid.get(e.id),p=u.getIn(["editData",t],Object(o.Map)()),g=u.get("allData").find(function(n){return n.getIn(e.idKeyPath)===t});if(g){g=g.mergeDeep(p);var f=r.params?Object.values(r.params):[];s=r.validateWithRowData.apply(r,[a,g].concat(f))}}else{var m=r.params?Object.values(r.params):[];s=r.validate.apply(r,[a].concat(m)),r.params&&(s.messageValues=r.params)}}),s.valid?i({type:Me.PLATFORM_DATAGRID_CELL_HIDE_MESSAGE,id:e.id,messageType:"error",dataId:t,keyPath:n}):i({type:Me.PLATFORM_DATAGRID_CELL_SHOW_MESSAGE,id:e.id,messageType:"error",dataId:t,keyPath:n,messageId:s.message,messageValues:s.messageValues}),s.valid}},lt=function(e,t,n,a){return function(r){X.a.checkGridParam(e),r({type:Me.PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE,id:e.id,rowIndex:t,keyPath:n,value:a})}},st=function(e,t,n,a,r){return void 0===r&&(r=[]),function(i,o){X.a.checkGridParam(e);var l={valid:!0};return r.forEach(function(r){if(l.valid)if(r.unique)""===a&&null===a&&void 0===a||(o().datagrid.getIn([e.id,"allData"]).find(function(e){return e.getIn(n)===a})?l={valid:!1,message:"Validation.Unique"}:o().datagrid.getIn([e.id,"createData"]).find(function(e,r){return r!==t&&e.getIn(n)===a})&&(l={valid:!1,message:"Validation.Unique"}));else if(r.validateWithRowData){var i=o().datagrid.getIn([e.id,"createData",t]),s=r.params?Object.values(r.params):[];l=r.validateWithRowData.apply(r,[a,i].concat(s))}else{var c=r.params?Object.values(r.params):[];l=r.validate.apply(r,[a].concat(c)),r.params&&(l.messageValues=r.params)}}),l.valid?i({type:Me.PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE,id:e.id,messageType:"error",rowIndex:t,keyPath:n}):i({type:Me.PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE,id:e.id,messageType:"error",rowIndex:t,keyPath:n,messageId:l.message,messageValues:l.messageValues}),l.valid}},ct=function(e,t,n,a,r,i){return function(o){X.a.checkGridParam(e),o({type:Me.PLATFORM_DATAGRID_CELL_SHOW_MESSAGE,id:e.id,messageType:t,dataId:n,keyPath:a,messageId:r,messageValues:i})}},dt=function(e,t){return function(n){X.a.checkGridParam(e),n({type:Me.PLATFORM_DATAGRID_CELL_SHOW_MESSAGES,id:e.id,messages:t})}},ut=function(e,t,n,a){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===a&&(a=null),function(r){X.a.checkGridParam(e),r({type:Me.PLATFORM_DATAGRID_CELL_HIDE_MESSAGE,id:e.id,messageType:t,dataId:n,keyPath:a})}},pt=function(e,t,n,a,r,i){return function(o){X.a.checkGridParam(e),o({type:Me.PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE,id:e.id,messageType:t,rowIndex:n,keyPath:a,messageId:r,messageValues:i})}},gt=function(e,t,n,a){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===a&&(a=null),function(r){X.a.checkGridParam(e),r({type:Me.PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE,id:e.id,messageType:t,rowIndex:n,keyPath:a})}},ft=function(e,t){return void 0===t&&(t=null),function(n){X.a.checkGridParam(e),n({selectedCell:t,id:e.id,type:Me.PLATFORM_DATAGRID_CELL_SELECTION_CHANGE})}},mt=function(e,t,n,a){return void 0===n&&(n=!1),void 0===a&&(a=!1),function(r,i){X.a.checkGridParam(e),r({type:Me.PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE,id:e.id,rowIndex:t,idKeyPath:e.idKeyPath,ctrlPressed:n,shiftPressed:a}),X.a.saveSelectedItems(e,i().datagrid.getIn([e.id,"selectedItems"]))}},ht=function(e){return function(t,n){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE,id:e.id,idKeyPath:e.idKeyPath}),X.a.saveSelectedItems(e,n().datagrid.getIn([e.id,"selectedItems"]))}},Ct=function(e){return function(t,n){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS,id:e.id}),X.a.saveSelectedItems(e,n().datagrid.getIn([e.id,"selectedItems"]))}},vt=function(e){return function(t,n){X.a.checkGridParam(e);var a=!n().datagrid.getIn([e.id,"config","filteringData","isFiltering"],!1);X.a.saveIsFiltering(e,a),t({type:Me.PLATFORM_DATAGRID_TOGGLE_FILTERING,id:e.id,isFiltering:a})}},Et=function(e,t){return function(n,a){X.a.checkGridParam(e);var r=a().datagrid.get(e.id),i=r.get("editData",Object(o.Map)()),l=!0;return i.forEach(function(i,o){t.forEach(function(t){var s=i.getIn(t.valueKeyPath);void 0===s&&(s=r.get("allData").find(function(t){return t.getIn(e.idKeyPath)===o}).getIn(t.valueKeyPath));var c=ot(e,o,t.valueKeyPath,s,t.validators)(n,a);l&&!c&&(l=!1)})}),l}},At=function(e,t){return function(n,a){X.a.checkGridParam(e);var r=a().datagrid.getIn([e.id,"createData"],Object(o.Map)()),i=[];r.forEach(function(e,n){var a=!0;t.forEach(function(t){var n=e.getIn(t.valueKeyPath);void 0!==n&&""!==n&&null!==n&&(a=!1)}),a&&i.push(n)}),i.length>0&&tt(e,i)(n)}},It=function(e,t){return function(n,a){X.a.checkGridParam(e),At(e,t)(n,a);var r=a().datagrid.getIn([e.id,"createData"],Object(o.Map)()),i=!0;return r.forEach(function(r,o){t.forEach(function(t){var l=r.getIn(t.valueKeyPath),s=st(e,o,t.valueKeyPath,l,t.validators)(n,a);i&&!s&&(i=!1)})}),i}},Rt=function(e,t,n,a){return function(r){X.a.checkGridParam(e),r({type:Me.PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE,id:e.id,dataId:t,keyPath:n,value:a})}},_t=function(e,t,n){return void 0===n&&(n=Object(o.Map)()),function(a){X.a.checkGridParam(e),a({data:t,cellMessages:n,id:e.id,type:Me.PLATFORM_DATAGRID_SET_EDIT_DATA})}},Dt=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN,id:e.id})}},Tt=function(e){return function(t){X.a.checkGridParam(e),t({type:Me.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE,id:e.id})}},yt=function(e,t,n){return function(a){X.a.checkGridParam(e),X.a.saveColumnSettings(e,t,n),a({type:Me.PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE,id:e.id,columnOrder:n})}},St=function(e,t){return function(n){X.a.savePage(e,t),n({page:t,id:e.id,type:Me.PLATFORM_DATAGRID_SET_PAGE})}},Ot=function(e,t){return function(n){X.a.saveRowsOnPage(e,t),n({rowsOnPage:t,id:e.id,type:Me.PLATFORM_DATAGRID_SET_ROWS_ON_PAGE})}},bt=n(2045),Pt=n(505),Mt={getAvailableColumns:function(e){return e.map(function(e){var t=X.a.getColumnKey(e),n=e.header;return{isLocked:e.isLocked,label:n,value:t}})},getSelectedColumns:function(e,t){var n=[];return t.forEach(function(t){e.forEach(function(e){if(X.a.getColumnKey(e)===t){var a=e.header,r=e.isLocked;n.push({isLocked:r,label:a,value:t})}})}),n},getHiddenColumns:function(e,t){var n=[];return e.forEach(function(e){-1===t.findIndex(function(t){return t.value===e.value})&&n.push(e.value)}),n},getColumnOrders:function(e){return e.map(function(e){return e.value})}};function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=Object(c.injectIntl)(Pe=function(e){var t,n;function a(t){var n;Lt(Ft(n=e.call(this,t)||this),"handleCancelClick",function(){n.props.closeColumnSettingsModal(n.props.grid)}),Lt(Ft(n),"handleOkClick",function(){var e=Mt.getHiddenColumns(n.state.availableColumns,n.state.selectedColumns),t=Mt.getColumnOrders(n.state.selectedColumns);n.props.saveColumnSettings(n.props.grid,e,t),n.props.closeColumnSettingsModal(n.props.grid)}),Lt(Ft(n),"handleSelectionChange",function(e){n.setState({allSelected:e.allSelected,selectedColumns:e.selectedData.toJS()})});var a=Mt.getAvailableColumns(t.columns),r=Mt.getSelectedColumns(t.columns,t.visibleColumns);return n.state={availableColumns:a,selectedColumns:r,allSelected:a.length===r.length},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return i.a.createElement(bt.a,{bsSize:"large",dialogClassName:"oc-datagrid-column-settings-modal","aria-labelledby":"oc-datagrid-column-settings-modal",show:!0,onHide:this.handleCancelClick},i.a.createElement(bt.a.Header,null,i.a.createElement(bt.a.Title,null,i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.Header"}))),i.a.createElement(bt.a.Body,null,i.a.createElement(Pt.a,{allSelected:this.state.allSelected,availableData:Object(o.List)(this.state.availableColumns),id:"ocDatagridColumnSettings-"+this.props.grid.id,onChange:this.handleSelectionChange,selectedData:Object(o.List)(this.state.selectedColumns),searchPlaceholder:this.props.intl.formatMessage({id:"Common.Search"}),translations:{allLabel:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.All"}),availableListLabel:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.AvailableColumns"}),selectedListLabel:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.SelectedColumns"}),searchTooltip:i.a.createElement(c.FormattedMessage,{id:"Grid.ColumnSettings.SearchTooltip"})}})),i.a.createElement(bt.a.Footer,null,i.a.createElement(pe.a,{id:"ocDatagridColumnSettings-"+this.props.grid.id+"-ok-button",bsStyle:"primary",onClick:this.handleOkClick},i.a.createElement(c.FormattedMessage,{id:"Grid.Ok"})),i.a.createElement(pe.a,{id:"ocDatagridColumnSettings-"+this.props.grid.id+"-cancel-button",onClick:this.handleCancelClick},i.a.createElement(c.FormattedMessage,{id:"Grid.Cancel"}))))},a}(i.a.PureComponent))||Pe,Gt=Object(o.Map)(),kt={TAB:9,ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,ESC:27},jt=n(89),Vt=n(511);n(951);function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(){var e=qt(["\n  min-width: 60px;\n"]);return Bt=function(){return e},e}function zt(){var e=qt(["\n  padding: 0 1rem;\n"]);return zt=function(){return e},e}function Ht(){var e=qt(["\n  display: flex;\n  align-items: center;\n"]);return Ht=function(){return e},e}function Wt(){var e=qt(["\n  align-items: center;\n  display: flex;\n  padding: 1rem;\n  height: auto;\n  justify-content: space-between;\n  width: 100%;\n  flex: 0 0 auto;\n"]);return Wt=function(){return e},e}function qt(e,t){return t||(t=e.slice(0)),e.raw=t,e}var Ut=[{label:"10",value:10},{label:"25",value:25},{label:"50",value:50},{label:"75",value:75},{label:"100",value:100}],Jt=b.a.div(Wt()),Yt=b.a.div(Ht()),Xt=b.a.span(zt()),Zt=Object(b.a)(jt.a)(Bt()),$t=function(e){var t,n,a,r;return t=Object(s.connect)(function(e,t){var n=t.grid;return{filterData:e.datagrid.getIn([n.id,"config","filteringData","filterData"],Object(o.Map)()),isCreating:e.datagrid.getIn([n.id,"session","isCreating"],!1),isEditing:e.datagrid.getIn([n.id,"session","isEditing"],!1),page:e.datagrid.getIn([n.id,"config","page"]),rowsOnPage:e.datagrid.getIn([n.id,"config","rowsOnPage"]),sortColumn:e.datagrid.getIn([n.id,"config","sortingData","sortColumn"],n.defaultSortColumn),sortOrder:e.datagrid.getIn([n.id,"config","sortingData","sortOrder"],n.defaultSortOrder)}},function(e){return{setPage:function(t,n){return e(St(t,n))},setRowsOnPage:function(t,n){return e(Ot(t,n))}}}),Object(c.injectIntl)(n=t((r=a=function(t){var n,a;function r(n){var a;Kt(Nt(a=t.call(this,n)||this),"componentDidUpdate",function(e){var t=a.props,n=t.filterData,r=t.pagination,i=t.page,o=t.rowsOnPage,l=t.sortColumn,s=t.sortOrder;r&&!n.equals(e.filterData)&&i>1?a.gotoPage(1):!r||n.equals(e.filterData)&&i===e.page&&o===e.rowsOnPage&&l===e.sortColumn&&s===e.sortOrder||a.requestData()}),Kt(Nt(a),"getSelectedRowsOnPageOption",function(){var e=a.props,t=e.rowsOnPage;return e.rowsOnPageOptions.find(function(e){return e.value===t})}),Kt(Nt(a),"requestData",function(){var e=a.props,t=e.filterData,n=e.pagination,r=e.page,i=e.rowsOnPage,o=e.sortColumn,l=e.sortOrder,s=(r-1)*i;n.getData(s,i,t,o,l)}),Kt(Nt(a),"gotoPage",function(e){var t=a.props.grid;a.props.setPage(t,e)}),Kt(Nt(a),"handleRowsOnPageChange",function(e){var t=a.props,n=t.grid,r=t.page,i=t.pagination,o=e.value;a.props.setRowsOnPage(n,o),r>Math.ceil(i.totalSize/o)&&a.gotoPage(1)}),Kt(Nt(a),"renderTotalCount",function(){var e,t=a.props,n=t.intl,r=t.pagination,o=r.totalLimit,l=r.totalSize;switch(l){case 1:e=n.formatMessage({id:"Grid.Pagination.TotalSingular"});break;case o:e=n.formatMessage({id:"Grid.Pagination.TotalOver"},{n:l});break;default:e=n.formatMessage({id:"Grid.Pagination.TotalPlural"},{n:l})}return i.a.createElement("span",null,e)}),Kt(Nt(a),"render",function(){for(var t=a.props,n=t.children,r=t.grid,l=t.intl,s=t.isCreating,c=t.isEditing,d=t.page,u=t.pagination,p=t.rowsOnPage,g=t.rowsOnPageOptions,f=u&&u.totalSize>0&&p>0?Math.ceil(u.totalSize/p):1,m=[],h=1;h<=f;h++)m.push(h);return u?i.a.createElement(e,xt({},a.props,{grid:xt({},r,{pagination:!0})}),n,i.a.createElement(Jt,{className:"footer"},a.renderTotalCount(),i.a.createElement(Vt.a,{disabled:s||c,goToItem:a.gotoPage,id:"listPaginationItems",itemId:d,itemIds:Object(o.List)(m),typeable:!0}),i.a.createElement(Yt,null,i.a.createElement(Xt,null,l.formatMessage({id:"Grid.Pagination.RowsOnPage"})),i.a.createElement(Zt,{isCrearable:!1,isDisabled:s||c,onChange:a.handleRowsOnPageChange,options:g,value:a.getSelectedRowsOnPageOption()})))):i.a.createElement(e,a.props)});var r=n.grid,l=n.pagination,s=n.rowsOnPageOptions,c=n.rowsOnPage;if(l&&s&&s.length>0){var d=s.find(function(e){return e.value===l.pageSize})||s[0];d&&d.value!==c&&n.setRowsOnPage(r,d.value)}return a}return a=t,(n=r).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,r}(i.a.PureComponent),Kt(a,"defaultProps",{children:null,page:1,pagination:void 0,rowsOnPage:void 0,rowsOnPageOptions:Ut,sortColumn:void 0,sortOrder:void 0}),n=r))||n)||n},Qt=n(2),en=n.n(Qt),tn=n(508);function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var an=function(e){return i.a.createElement(tn.a,e)},rn={valRender:function(e,t,n){return n(e,function(e){return function(e,t){return en()(e,t,!0).isValid()}(e,t)?en.a.utc(e,t).format(t):(n=e,en()(n).isValid()?en.a.utc(e).format(t):i.a.createElement(c.FormattedMessage,{id:"Grid.InvalidDate"}));var n})},cellEdit:function(e,t,n,a,r,i,o,l,s,c){var d=nn({className:"oc-data-grid-date",dateFormat:o,locale:i,value:s.getItemValue(n,e),onChange:s.onCellValueChange(n,e,l),inputRef:s.handleCellRef(n,e),inputProps:{tabIndex:a,id:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,onKeyDown:s.onCellKeyDown(n,e),onBlur:s.onCellBlur(n,e),onFocus:s.onCellFocus("edit",e.componentType,n,t.columnKey),style:t.style},disabled:c(n,e,"edit")},e.editComponentProps);return an(nn({},d))},cellCreate:function(e,t,n,a,r,i,o,l,s,c){var d=nn({className:"oc-data-grid-date",dateFormat:o,locale:i,value:s.getItemValue(n,e),onChange:s.onCellValueChange(n,e,l),inputRef:s.handleCellRef(n,e),inputProps:{tabIndex:a,id:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,onKeyDown:s.onCellKeyDown(n,e),onBlur:s.onCellBlur(n,e),onFocus:s.onCellFocus("create",e.componentType,n,t.columnKey),style:t.style},disabled:c(n,e,"create")},e.createComponentProps);return an(nn({},d))},cellFilter:function(e,t,n,a,r,i,o,l){var s=nn({className:"oc-data-grid-date",dateFormat:i,value:l.getItemValue(e),onChange:l.onCellValueChange(e,o),locale:r,inputProps:{tabIndex:n,id:"ocDatagridFilterInput-"+a+"-"+t.columnKey,style:t.style}},e.filterComponentProps);return an(nn({},s))}};function on(){return(on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ln=function(e){return i.a.createElement(jt.a,e)},sn=function(e){return i.a.createElement(jt.b,e)},cn={cellEdit:function(e,t,n,a,r,i,o,l,s,c){var d=e.editSelectOptionsMod&&i?e.editSelectOptionsMod(i.slice(),n,e):i,u=on({name:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,options:d,value:s.getItemValue(n,e,{selectOptions:i}),onChange:s.onCellValueChange(n,e,l),onBlur:s.onCellBlur(n,e),onFocus:s.onCellFocus("edit",e.componentType,n,t.columnKey),onKeyDown:s.onCellKeyDown(n,e),isSearchable:i&&i.length>9,isClearable:!e.isRequired,backSpaceRemovesValue:!1,tabSelectsValue:!1,openMenuOnFocus:!1,ref:s.handleCellRef(n,e),isDisabled:c(n,e,"edit"),tabIndex:a},e.editComponentProps,o);return e.isCreatableSelect?sn(on({},u)):ln(on({},u))},cellCreate:function(e,t,n,a,r,i,o,l,s,c){var d=e.createSelectOptionsMod&&i?e.createSelectOptionsMod(i.slice(),n,e):i,u=on({name:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,options:d,value:s.getItemValue(n,e,{selectOptions:i}),onChange:s.onCellValueChange(n,e,l),onBlur:s.onCellBlur(n,e),onKeyDown:s.onCellKeyDown(n,e),onFocus:s.onCellFocus("create",e.componentType,n,t.columnKey),isSearchable:i&&i.length>9,isClearable:!e.isRequired,backspaceRemovesValue:!1,tabSelectsValue:!1,openMenuOnFocus:!1,ref:s.handleCellRef(n,e),isDisabled:c(n,e,"create"),tabIndex:a},e.createComponentProps,o);return e.isCreatableSelect?sn(on({},u)):ln(on({},u))},cellFilter:function(e,t,n,a,r,i,o,l){var s=e.filterSelectOptionsMod&&r?e.filterSelectOptionsMod(r.slice(),e):r,c=on({name:"ocDatagridFilterInput-"+a+"-"+t.columnKey,options:s,value:l.getItemValue(e,{selectOptions:r}),onChange:l.onCellValueChange(e,o),isSearchable:r&&r.length>9,isClearable:!0,tabSelectsValue:!1,tabIndex:n},e.filterComponentProps,i);return ln(on({},c))}};function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var un={valRender:function(e,t,n){return n(t,function(t){return i.a.createElement(c.FormattedMessage,dn({id:t?"Grid.Yes":"Grid.No"},e.renderComponentProps))})},cellEdit:function(e,t,n,a,r,i,o,l,s,c){var d=dn({name:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,options:i,value:s.getItemValue(n,e,i),onChange:s.onCellValueChange(n,e,l),onBlur:s.onCellBlur(n,e),onFocus:s.onCellFocus("edit",e.componentType,n,t.columnKey),onKeyDown:s.onCellKeyDown(n,e),isSearchable:!1,isClearable:!e.isRequired,backSpaceRemovesValue:!1,tabSelectsValue:!1,openMenuOnFocus:!1,isDisabled:c(n,e,"edit"),ref:s.handleCellRef(n,e),tabIndex:a},e.editComponentProps,o);return ln(dn({},d))},cellCreate:function(e,t,n,a,r,i,o,l,s,c){var d=dn({name:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,options:i,value:s.getItemValue(n,e,i),onChange:s.onCellValueChange(n,e,l),onBlur:s.onCellBlur(n,e),onKeyDown:s.onCellKeyDown(n,e),isSearchable:!1,isClearable:!e.isRequired,backspaceRemovesValue:!1,tabSelectsValue:!1,openOnFocus:!0,ref:s.handleCellRef(n,e),isDisabled:c(n,e,"create"),tabIndex:a},e.createComponentProps,o);return ln(dn({},d))},cellFilter:function(e,t,n,a,r,i,o,l){var s=dn({name:"ocDatagridFilterInput-"+a+"-"+t.columnKey,options:r,value:l.getItemValue(e,r),onChange:l.onCellValueChange(e,o),isSearchable:!1,isClearable:!0,tabSelectsValue:!1,openMenuOnFocus:!1,tabIndex:n},e.filterComponentProps,i);return ln(dn({},s))}};function pn(){return(pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var gn=function(e){return i.a.createElement(h.a,e)},fn={valRender:function(e,t){return t(e,function(e){return e?i.a.createElement(_e.a,{size:20}):null})},cellEdit:function(e,t,n,a,r,i){var o,l=pn({id:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,tabIndex:a,checked:i.getItemValue(n,e)||!1,onChange:i.onCellValueChange(n,e,(o=n,function(){return!i.getItemValue(o,e)})),onKeyDown:i.onCellKeyDown(n,e),onBlur:i.onCellBlur(n,e),onFocus:i.onCellFocus("edit",e.componentType,n,t.columnKey),inputRef:i.handleCellRef(n,e)},e.editComponentProps);return gn(l)},cellCreate:function(e,t,n,a,r,i){var o,l=pn({id:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,tabIndex:a,checked:i.getItemValue(n,e)||!1,onChange:i.onCellValueChange(n,e,(o=n,function(){return!i.getItemValue(o,e)})),onKeyDown:i.onCellKeyDown(n,e),onBlur:i.onCellBlur(n,e),inputRef:i.handleCellRef(n,e)},e.createComponentProps);return gn(l)},cellFilter:function(e,t,n,a,r,i){var o=[{value:!0,label:r.formatMessage({id:"Grid.Checked"})},{value:!1,label:r.formatMessage({id:"Grid.UnChecked"})}],l=e.selectComponentTranslations||{placeholder:r.formatMessage({id:"Grid.FloatingSelect.Select"}),noResultsText:r.formatMessage({id:"Grid.FloatingSelect.NoResults"})},s=pn({name:"ocDatagridFilterInput-"+a+"-"+t.columnKey,options:o,value:i.getItemValue(e,o),onChange:i.onCellValueChange(e,function(e){return e}),isSearchable:!1,isClearable:!0,tabSelectsValue:!1,openMenuOnFocus:!0,tabIndex:n},e.filterComponentProps,l);return ln(pn({},s))}},mn=n(510),hn=function(e,t,n,a,r,i){var o=e.valueOptions&&(e.valueOptions.currencyKeyPath||["currency"]);return i(n,function(i){return Object(mn.a)(i,{currency:t.getIn([n].concat(o)),decimals:e.valueOptions&&e.valueOptions.decimals,thousandSeparator:e.valueOptions&&(e.valueOptions.thousandSeparator||a),decimalSeparator:e.valueOptions&&(e.valueOptions.decimalSeparator||r)})})},Cn=n(2046);function vn(){return(vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var En=function(e){return i.a.createElement(Cn.a,e)},An={numberValRender:function(e,t,n){return n(t,function(t){return i.a.createElement(c.FormattedNumber,vn({value:t},e.renderComponentProps))})},cellEdit:function(e,t,n,a,r,i,o,l,s){var c=vn({id:"ocDatagridEditInput-"+r+"-"+t.columnKey+"-"+n,style:t.style,tabIndex:a,type:o,value:l.getItemValue(n,e),onBlur:l.onCellBlur(n,e),onKeyDown:l.onCellKeyDown(n,e),inputRef:l.handleCellRef(n,e),disabled:s(n,e,"edit"),onChange:l.onCellValueChange(n,e,i),onFocus:l.onCellFocus("edit",e.componentType,n,t.columnKey)},e.editComponentProps);return En(vn({},c))},cellCreate:function(e,t,n,a,r,i,o,l,s){var c=vn({id:"ocDatagridCreateInput-"+r+"-"+t.columnKey+"-"+n,style:t.style,tabIndex:a,type:o||e.componentType,value:l.getItemValue(n,e),onBlur:l.onCellBlur(n,e),onKeyDown:l.onCellKeyDown(n,e,!1),inputRef:l.handleCellRef(n,e),disabled:s(n,e,"create"),onChange:l.onCellValueChange(n,e,i),onFocus:l.onCellFocus("create",e.componentType,n,t.columnKey)},e.createComponentProps);return En(vn({},c))},cellFilter:function(e,t,n,a,r,i,o){var l=vn({id:"ocDatagridFilterInput-"+a+"-"+t.columnKey,style:t.style,tabIndex:n,type:i,value:o.getItemValue(e),onChange:o.onCellValueChange(e,r)},e.filterComponentProps);return En(vn({},l))}};function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Rn={cellFilter:function(e,t,n,a,r,o,l,s){var c,d=e.filterSelectOptionsMod&&r?e.filterSelectOptionsMod(r.slice(),e):r,u=s.getItemValue(e,{selectOptions:r}),p=d.map(function(e){return u&&u.some(function(t){return e.value===t.value})?In({},e,{checked:!0}):e}),g=In({},e.filterComponentProps,o,{components:{MultiValueContainer:(c=o.selected,function(e){return e.selectProps.value&&0===e.selectProps.value.findIndex(function(t){return t.value===e.data.value})?i.a.createElement("span",null,c.replace("<n>",e.selectProps.value.length)):null}),Option:function(e){var t=e.data,n=t.checked,a=t.label,r=e.innerProps;return i.a.createElement("span",r,i.a.createElement(h.a,{onChange:function(){},label:a,checked:n}))}},hideSelectedOptions:!1,isSearchable:r&&r.length>9,isClearable:!0,isMulti:!0,name:"ocDatagridFilterInput-"+a+"-"+t.columnKey,onChange:s.onCellValueChange(e,l),options:p,tabSelectsValue:!1,tabIndex:n,value:u,closeMenuOnSelect:!1});return i.a.createElement(jt.a,g)}};function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Dn,Tn,yn,Sn,On={baseColumn:function(e){var t={header:e.header,columnKey:X.a.getColumnKey(e),width:e.width||0===e.width?e.width:200,minWidth:e.minWidth||0===e.minWidth?e.minWidth:40,maxWidth:e.maxWidth,isResizable:!e.disableResizing,fixed:!!e.fixed,fixedRight:!!e.fixedRight,allowCellsRecycling:!!e.allowCellsRecycling,disableSorting:!!e.disableSorting,isRequired:!!e.isRequired,componentType:e.componentType,style:X.a.getCellStyleByCol(e)};return e.valueKeyPath&&(t.valueKeyPath=e.valueKeyPath),e.flexGrow&&(t.flexGrow=e.flexGrow),e.valueType&&(t.valueType=e.valueType),e.sortComparator&&(t.sortComparator=e.sortComparator),e.sortValueGetter&&(t.sortValueGetter=e.sortValueGetter),t},columnCell:function(e,t,n,a){var r=e;if(n.cell)r.cell=n.cell;else if(n.valueRender)r.cell=function(e){return n.valueRender(t.data.get(e),e)};else switch(n.valueType){case"number":case"float":r.cell=function(e){return An.numberValRender(n,e,a)};break;case"boolean":r.cell=function(e){return un.valRender(n,e,a)};break;case"checkbox":r.cell=function(e){return fn.valRender(e,a)};break;case"date":r.cell=function(e){return rn.valRender(e,t.dateFormat,a)};break;case"currency":r.cell=function(e){return hn(n,t.data,e,t.thousandSeparator,t.decimalSeparator,a)};break;default:r.cell=function(e){return a(e)}}return n.cellEdit?r.cellEdit=n.cellEdit:n.editValueRender&&(r.cellEdit=function(e,a,r){return n.editValueRender(t.data.get(e),e,a,r)}),n.cellCreate?r.cellCreate=n.cellCreate:n.createValueRender&&(r.cellCreate=function(e,a,r){return n.createValueRender(t.data.get(e),e,a,r)}),n.cellFilter?r.cellFilter=n.cellFilter:n.filterValueRender&&(r.cellFilter=function(e){return n.filterValueRender(t.data.get(e),e)}),r},columnComponentType:function(e,t,n,a,r,i){if(!a.componentType)return e;var o=e,l=a.editValueParser?a.editValueParser:function(e){return e},s=_n({},r.edit),c=_n({},r.create),d=_n({},r.filter);switch(a.componentType){case"float":case"number":case"text":var u="float"===a.componentType||"number"===a.componentType?"text":a.componentType,p=a.editValueParser||"float"!==a.componentType?l:function(e){return e.replace(new RegExp("[^\\d"+n.decimalSeparator+"+-]","g"),"")};n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return An.cellEdit.apply(An,[a,o,e,t,n.grid.id,p,u].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return An.cellCreate.apply(An,[a,o,e,t,n.grid.id,p,u].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return An.cellFilter.apply(An,[a,o,t,n.grid.id,p,u].concat(d))});break;case"checkbox":n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return fn.cellEdit.apply(fn,[a,o,e,t,n.grid.id].concat(s))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return fn.cellCreate.apply(fn,[a,o,e,t,n.grid.id].concat(c))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return fn.cellFilter.apply(fn,[a,o,t,n.grid.id,n.intl].concat(d))});break;case"multiselect":var g=a.selectComponentOptions||n.selectComponentOptions.get(o.columnKey),f=a.selectComponentTranslations||{placeholder:n.intl.formatMessage({id:"Grid.FloatingSelect.Select"}),noResultsText:n.intl.formatMessage({id:"Grid.FloatingSelect.NoResults"}),selected:n.intl.formatMessage({id:"Grid.FloatingSelect.Selected"},{n:"<n>"})};n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return cn.cellEdit.apply(cn,[a,o,e,t,n.grid.id,g,f,l].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return cn.cellCreate.apply(cn,[a,o,e,t,n.grid.id,g,f,l].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return Rn.cellFilter.apply(Rn,[a,o,t,n.grid.id,g,f,l].concat(d))});break;case"select":var m=a.selectComponentOptions||n.selectComponentOptions.get(o.columnKey),h=a.selectComponentTranslations||{placeholder:n.intl.formatMessage({id:"Grid.FloatingSelect.Select"}),noResultsText:n.intl.formatMessage({id:"Grid.FloatingSelect.NoResults"})};n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return cn.cellEdit.apply(cn,[a,o,e,t,n.grid.id,m,h,l].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return cn.cellCreate.apply(cn,[a,o,e,t,n.grid.id,m,h,l].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return cn.cellFilter.apply(cn,[a,o,t,n.grid.id,m,h,l].concat(d))});break;case"boolean":var C=[{value:!0,label:n.intl.formatMessage({id:"Grid.Yes"})},{value:!1,label:n.intl.formatMessage({id:"Grid.No"})}],v=a.selectComponentTranslations||{placeholder:n.intl.formatMessage({id:"Grid.FloatingSelect.Select"}),noResultsText:n.intl.formatMessage({id:"Grid.FloatingSelect.NoResults"})};n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return un.cellEdit.apply(un,[a,o,e,t,n.grid.id,C,v,l].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return un.cellCreate.apply(un,[a,o,e,t,n.grid.id,C,v,l].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return un.cellFilter.apply(un,[a,o,t,n.grid.id,C,v,l].concat(d))});break;case"date":n.inlineEdit&&!o.cellEdit&&(o.cellEdit=function(e){return rn.cellEdit.apply(rn,[a,o,e,t,n.grid.id,n.region,n.dateFormat,l].concat(s,[i]))}),n.inlineEdit&&!o.cellCreate&&(o.cellCreate=function(e){return rn.cellCreate.apply(rn,[a,o,e,t,n.grid.id,n.region,n.dateFormat,l].concat(c,[i]))}),n.filtering&&!o.cellFilter&&(o.cellFilter=function(){return rn.cellFilter.apply(rn,[a,o,t,n.grid.id,n.region,n.dateFormat,l].concat(d))})}return o}};n(965);function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn=a,Ln=(Dn=Object(s.connect)(function(e,t){var n=t.grid;return{isBusy:e.datagrid.getIn([n.id,"session","isBusy"],!0),isEditing:e.datagrid.getIn([n.id,"session","isEditing"],!1),isCreating:e.datagrid.getIn([n.id,"session","isCreating"],!1),isFiltering:e.datagrid.getIn([n.id,"config","filteringData","isFiltering"],!1),isColumnSettingsModalOpen:e.datagrid.getIn([n.id,"session","columnSettingsModal","open"],!1),sortColumn:e.datagrid.getIn([n.id,"config","sortingData","sortColumn"],null),sortOrder:e.datagrid.getIn([n.id,"config","sortingData","sortOrder"],null),visibleColumns:e.datagrid.getIn([n.id,"config","visibleColumns"],Object(o.List)()),columnWidths:e.datagrid.getIn([n.id,"config","columnWidths"],Object(o.Map)()),selectedCell:e.datagrid.getIn([n.id,"selectedCell"],Object(o.Map)()),selectedItems:e.datagrid.getIn([n.id,"selectedItems"],Object(o.List)()),data:e.datagrid.getIn([n.id,"data"],Object(o.List)()),editData:e.datagrid.getIn([n.id,"editData"],Object(o.Map)()),createData:e.datagrid.getIn([n.id,"createData"],Object(o.List)()),filterData:e.datagrid.getIn([n.id,"config","filteringData","filterData"],Object(o.Map)()),cellMessages:e.datagrid.getIn([n.id,"cellMessages"],Object(o.Map)()),createCellMessages:e.datagrid.getIn([n.id,"createCellMessages"],Object(o.Map)()),allDataSize:e.datagrid.getIn([n.id,"allData"],Object(o.List)()).size,language:X.a.getLanguage(n,e.user),region:X.a.getRegion(n,e.user),dateFormat:X.a.getDateFormat(n,e.user),thousandSeparator:X.a.getThousandSeparator(n,e.user),decimalSeparator:X.a.getDecimalSeparator(n,e.user),forceRefreshTimestamp:e.datagrid.get("forceRefresh",0),focusType:e.datagrid.getIn([n.id,"session","focusType"],Object(o.Map)())}},Fn),$t(Tn=Object(c.injectIntl)(Tn=Dn((Sn=yn=function(e){var t,n;function a(t){var n;return Mn(Pn(n=e.call(this,t)||this),"onDocumentClick",function(){n.props.contextMenuItems&&n.setState({contextMenuOpen:!1}),document.removeEventListener("click",n.onDocumentClick)}),Mn(Pn(n),"onColumnResizeEndCallback",function(e,t){n.props.resizeColumn(n.props.grid,t,e)}),Mn(Pn(n),"onCellKeyDown",function(e,t,a,r){if(void 0===r&&(r=!1),n.props.enableArrowNavigation){var i=r?n.createCellRefs:n.cellRefs,o=[kt.DOWN,kt.UP,kt.LEFT,kt.RIGHT],l=n.props,s=l.columns,c=l.visibleColumns,d=l.grid,u=l.data,p=l.onLastCellTabPress,g=X.a.visibleColumns(s,c),f=function(e){return X.a.getColumnKey(g[e])},m=u.size,h=X.a.getColumnKey(t),C=i[d.id+"_"+h+"_"+e],v=null;switch(C&&(C.selectRef||"object"==typeof C.select)&&(v=C,C=n.getSelectRef(v)),o.includes(a.keyCode)&&"number"===C.type&&a.preventDefault(),a.keyCode){case kt.ENTER:case kt.ESC:if(r&&a.keyCode===kt.ENTER){n.props.addNewItem(d,X.a.getColumnDefaultValues(s)),n.focusToCreateCell=!0;break}C.select();break;case kt.DOWN:var E=i[d.id+"_"+h+"_"+(e+1)];if(v&&v.selectRef&&!v.selectRef.state.menuIsOpen){if(a.preventDefault(),!E)break;E=n.getSelectRef(E)}n.moveCellFocus(E,e+1,-1);break;case kt.UP:var A=i[d.id+"_"+h+"_"+(e-1)];if(v&&v.selectRef&&!v.selectRef.state.menuIsOpen){if(a.preventDefault(),!A)break;A=n.getSelectRef(A)}n.moveCellFocus(A,e-1,-1);break;case kt.TAB:case kt.RIGHT:case kt.LEFT:if(a.keyCode===kt.RIGHT&&"text"===C.type&&C.selectionEnd!==C.value.length)break;if(a.keyCode===kt.LEFT&&"text"===C.type&&0!==C.selectionStart)break;a.preventDefault();var I=g.findIndex(function(e){return e.valueKeyPath.join("/")===h});if(-1!==I){for(var R=!0,_=null,D=e;R;){if(a.keyCode===kt.LEFT||a.keyCode===kt.TAB&&a.shiftKey)if(I-1>=0)I-=1;else{if(!(D-1>=0))break;I=g.length-1,D-=1}else if(I+1<g.length)I+=1;else if(D+1<m)I=0,D+=1;else if(D+1===m){p&&a.keyCode===kt.TAB&&p(a);break}if((_=i[d.id+"_"+f(I)+"_"+D])||a.keyCode===kt.LEFT){if(!_&&a.keyCode===kt.LEFT){for(;I>0&&!_;)I-=1,_=i[d.id+"_"+f(I)+"_"+D];D>0&&!_&&(I=g.length-1,D-=1,_=i[d.id+"_"+f(I)+"_"+D])}}else if(I<=g.length)for(;I<=g.length&&!_;)if(_=i[d.id+"_"+f(I)+"_"+D],I+=1,!_&&I===g.length){if(D+1===m){p&&a.keyCode===kt.TAB&&p(a);break}I=0,D+=1,_=i[d.id+"_"+f(I)+"_"+D]}R=!!_&&_.disabled}!R&&_&&(("object"==typeof _.select||_.selectRef)&&(_=n.getSelectRef(_)),n.moveCellFocus(_,D,I))}}}}),Mn(Pn(n),"onEditCellKeyDown",function(e,t){return function(a){n.onCellKeyDown(e,t,a)}}),Mn(Pn(n),"onCreateCellKeyDown",function(e,t){return function(a){n.onCellKeyDown(e,t,a,!0)}}),Mn(Pn(n),"onFilterCellValueChange",function(e,t){return function(a){var r;a&&(r=void 0!==a.target?a.target.value:void 0!==a.value?a.value:a);var i=t(r);n.props.filterCellValueChange(n.props.grid,n.props.columns,e,i)}}),Mn(Pn(n),"onCreateCellValueChange",function(e,t,a){return function(r){var i;r&&(i=void 0!==r.target?r.target.value:void 0!==r.value?r.value:r);var o=a(i);n.props.createCellValueChange(n.props.grid,e,t.valueKeyPath,o),t.onCreateValueChange&&t.onCreateValueChange(o,t.valueKeyPath,e),t.onValueMatchChangeValue&&o===t.onValueMatchChangeValue.matchValue&&n.onCreateCellValueChange(e,{valueKeyPath:t.onValueMatchChangeValue.newValueKeyPath},function(e){return e})(t.onValueMatchChangeValue.newValue),t.validators&&n.props.createCellValueValidate(n.props.grid,e,t.valueKeyPath,o,t.validators)}}),Mn(Pn(n),"onEditCellValueChange",function(e,t,a){return function(r){var i,o=n.getDataIdByRowIndex(e);r&&(i=void 0!==r.target?r.target.value:void 0!==r.value?r.value:r);var l=a(i);n.props.editCellValueChange(n.props.grid,o,t.valueKeyPath,l),t.onEditValueChange&&t.onEditValueChange(l,t.valueKeyPath,e,o),t.onValueMatchChangeValue&&l===t.onValueMatchChangeValue.matchValue&&n.onEditCellValueChange(e,{valueKeyPath:t.onValueMatchChangeValue.newValueKeyPath},function(e){return e})(t.onValueMatchChangeValue.newValue),t.validators&&n.props.editCellValueValidate(n.props.grid,o,t.valueKeyPath,l,t.validators)}}),Mn(Pn(n),"onCreateCellBlur",function(e,t,a){return function(r){if(t.onCreateBlur){var i=r&&r.target&&void 0!==r.target.value?r.target.value:n.getEditItemValue(e,t);void 0!==a&&(i=a(i)),t.onCreateBlur(i,e)}}}),Mn(Pn(n),"onEditCellBlur",function(e,t,a){return function(r){if(t.onEditBlur){var i=r&&r.target&&void 0!==r.target.value?r.target.value:n.getEditItemValue(e,t);void 0!==a&&(i=a(i));var o=n.getDataIdByRowIndex(e);t.onEditBlur(i,e,o)}}}),Mn(Pn(n),"onCellFocus",function(e,t,a,r){return function(i){var l=n.props,s=l.cellSelectionChange,c=l.cellSelect,d=l.grid;l.isEditing||("number"===t&&i.target.select(),"edit"===e&&c&&s(d,Object(o.Map)({rowIndex:a,columnKey:r})))}}),Mn(Pn(n),"getSelectRef",function(e){return e?e.select&&e.select.inputRef?e.select.inputRef:e.select&&e.select.select?e.select.select.inputRef:e.selectRef&&e.selectRef.select.select?e.selectRef.select.select.inputRef:e.selectRef.select.inputRef:null}),Mn(Pn(n),"getDataIdByRowIndex",function(e){return n.props.data.getIn([e].concat(n.props.grid.idKeyPath))}),Mn(Pn(n),"getSelectedItemIndex",function(e){if(e){var t=n.props.data.findIndex(function(t){return t.getIn(n.props.grid.idKeyPath)===e});return-1===t?void 0:t}}),Mn(Pn(n),"getEditItemValue",function(e,t,a){void 0===a&&(a=[]);var r,i=n.getDataIdByRowIndex(e),o=n.props.editData.getIn([i].concat(t.valueKeyPath),void 0);if(void 0===o)r=n.props.data.getIn([e].concat(t.valueKeyPath),"");else{if(null===o)return"";switch(t.componentType){case"multiselect":case"select":return a.selectOptions.find(function(e){return e.value===o});case"boolean":return a.find(function(e){return e.value===o});default:return o}}if(null==r||""===r)return"";switch(t.componentType){case"float":return String(r).length>0?String(r).replace(".",n.props.decimalSeparator):r;case"multiselect":case"select":return a.selectOptions.find(function(e){return e.value===r});case"boolean":return a.find(function(e){return e.value===r});default:return r}}),Mn(Pn(n),"getCreateItemValue",function(e,t,a){void 0===a&&(a=[]);var r=n.props.createData.getIn([e].concat(t.valueKeyPath),"");return null===r?"":"select"===t.componentType||"multiselect"===t.componentType?a.selectOptions.find(function(e){return e.value===r}):["boolean"].includes(t.componentType)?a.find(function(e){return e.value===r}):r}),Mn(Pn(n),"getFilterItemValue",function(e,t){void 0===t&&(t=[]);var a=n.props.filterData.get(X.a.getColumnKey(e),"");return null===a?"":"select"===e.componentType?t.selectOptions.find(function(e){return e.value===a}):["checkbox","boolean"].includes(e.componentType)?t.find(function(e){return e.value===a}):"multiselect"===e.componentType?a&&a.toJS?a.toJS():a||[]:a}),Mn(Pn(n),"getComponentDisabledState",function(e,t,a){var r=!!t.disableEditing;return!r&&t.disableEditingOnValueMatch&&(r="create"===a?n.getCreateItemValue(e,{valueKeyPath:t.disableEditingOnValueMatch.matchValueKeyPath})===t.disableEditingOnValueMatch.matchValue:n.getEditItemValue(e,{valueKeyPath:t.disableEditingOnValueMatch.matchValueKeyPath})===t.disableEditingOnValueMatch.matchValue),r}),Mn(Pn(n),"getRowClassName",function(e){var t=n.props,a=t.grid,r=t.isCreating,i=t.isEditing,o=t.createData,l=t.selectedItems,s=t.data,c=["oc-datagrid-row"],d=0;return r&&(d=o.size),r?e<=d-1&&c.push("oc-datagrid-row-new"):i&&c.push("oc-datagrid-row-edit"),!r&&!i&&l&&a.idKeyPath&&-1!==l.indexOf(s.getIn([e-d].concat(a.idKeyPath)))&&c.push("is-selected"),n.props.rowClassNameGetter?c.join(" ")+" "+n.props.rowClassNameGetter(e):c.join(" ")}),Mn(Pn(n),"getCellMessages",function(e,t,a){var r,i,o,l={};if(!n.props.grid.idKeyPath||!t.valueKeyPath)return l;if("create"===a)r=n.props.createCellMessages.getIn(["info",e].concat(t.valueKeyPath)),i=n.props.createCellMessages.getIn(["error",e].concat(t.valueKeyPath)),o=n.props.createCellMessages.getIn(["warning",e].concat(t.valueKeyPath));else{var s=n.getDataIdByRowIndex(e);r=n.props.cellMessages.getIn(["info",s].concat(t.valueKeyPath)),i=n.props.cellMessages.getIn(["error",s].concat(t.valueKeyPath)),o=n.props.cellMessages.getIn(["warning",s].concat(t.valueKeyPath))}return r&&(l.infoMessage=r),i&&(l.errorMessage=i),o&&(l.warningMessage=o),l}),Mn(Pn(n),"getScrollToRow",function(){var e;if(n.props.isCreating&&!n.focusToCreateCell)return e;if(n.focusToCreateCell){var t=n.props.createData.size-1;t>=0&&(e=t)}else void 0===(e=n.props.isEditing&&!n.props.scrollInEditMode?n.state.currentRow:n.props.scrollToRow)&&n.props.selectedItems.size>0&&(e=n.getSelectedItemIndex(n.props.selectedItems.first()));return e}),Mn(Pn(n),"setFocusTo",function(e){(n.props.isEditing||n.props.isCreating)&&e&&e.get("type")&&e!==n.prevFocusTo&&(n[e.get("type")]=!0,n.focusToLastRow=e.get("focusToLastRow"),n.prevFocusTo=e)}),Mn(Pn(n),"handleCellSelect",function(e,t,a){return function(){"view"===e&&n.props.cellSelect&&n.props.cellSelectionChange(n.props.grid,Object(o.Map)({rowIndex:t,columnKey:a}))}}),Mn(Pn(n),"handleCreateCellRef",function(e,t){return function(a){var r=X.a.getColumnKey(t),i=!a||a.focus?a:n.getSelectRef(a);n.props.createData.size&&n.props.createData.size===e+1&&n.focusToCreateCell&&!n.getComponentDisabledState(e,t,"create")&&i&&(i.focus(),n.focusToCreateCell=!1),n.props.enableArrowNavigation&&(n.createCellRefs[n.props.grid.id+"_"+r+"_"+e]=a)}}),Mn(Pn(n),"handleEditCellRef",function(e,t){return function(a){var r=X.a.getColumnKey(t);if(n.focusToEditCell&&!n.getComponentDisabledState(e,t,"edit")){var i=n.focusToLastRow&&n.props.data.size>0?n.props.data.size-1:n.getSelectedItemIndex(n.props.selectedItems.first()),o=n.props.selectedCell,l=!a||a.focus?a:n.getSelectRef(a);o.size>0?o.get("rowIndex")===e&&o.get("columnKey")===r&&l&&(l.focus(),n.focusToEditCell=!1,n.focusToLastRow=!1):void 0===i?(n.focusToEditCell=!1,n.focusToLastRow=!1):i===e&&l&&(l.focus(),n.focusToEditCell=!1,n.focusToLastRow=!1)}n.props.enableArrowNavigation&&(n.cellRefs[n.props.grid.id+"_"+r+"_"+e]=a)}}),Mn(Pn(n),"moveCellFocus",function(e,t,a){e&&["text","checkbox"].includes(e.type)&&(-1===t&&-1===a||n.setState({currentColumn:a,currentRow:t}),setTimeout(function(){"checkbox"===e.type&&e.focus(),"text"===e.type&&e.select()},50))}),Mn(Pn(n),"handleSelectAllCheckBoxOnChange",function(){n.props.selectAllItemsChange(n.props.grid)}),Mn(Pn(n),"handleSelectionCheckBoxOnChange",function(e){return function(){n.props.itemSelectionChange(n.props.grid,e,!0,!1)}}),Mn(Pn(n),"generateColumns",function(){var e=n.props,t=e.data,a=e.selectedItems,r=e.dateFormat,o=e.thousandSeparator,l=e.decimalSeparator,s=e.grid,d=e.inlineEdit,u=e.filtering,p=e.region,g=e.intl,m=e.selectComponentOptions,C=e.isCreating,v=e.extraColumn,E=e.rowSelectCheckboxColumn,A=e.showSelectAllCheckbox,I=[],R=String(n.props.tabIndex);v&&I.push({width:v.width||40,isResizable:!!v.isResizable,isSortable:!1,columnKey:"extraColumn",cell:function(e){return i.a.createElement("div",{className:"oc-datagrid-extra-column-cell no-row-select"},v.valueRender(t.get(e),R))},cellEdit:function(e){return v.cellEdit?v.cellEdit(e):null},cellCreate:function(e){return v.cellCreate?v.cellCreate(e):null},cellFilter:function(e){return v.cellFilter?v.cellFilter(e):null}}),E&&I.push({width:40,isResizable:!1,isSortable:!1,columnKey:"selectionCheckbox",header:A&&i.a.createElement(h.a,{id:"ocDatagridSelectAllCheckBox-"+s.id,className:"oc-datagrid-select-all-checkbox-cell no-row-select",checked:0!==t.size&&t.size===a.size,onChange:n.handleSelectAllCheckBoxOnChange,tabIndex:R}),cell:function(e){var r=t.get(e).getIn(s.idKeyPath),o=a.includes(r);return i.a.createElement(h.a,{id:"ocDatagridSelectCheckBox-"+n.props.grid.id+"-"+e,className:"oc-datagrid-select-checkbox-cell no-row-select",checked:o,onChange:n.handleSelectionCheckBoxOnChange(e),tabIndex:R})},cellEdit:function(){return null},cellCreate:function(){return null},cellFilter:function(){return null}});var _=[];return n.props.visibleColumns.forEach(function(e){n.props.columns.forEach(function(t){X.a.getColumnKey(t)===e&&_.push(t)})}),_.forEach(function(e){var a=X.a.getValueEmptyChecker(e),f=On.baseColumn(e),h={edit:{getItemValue:n.getEditItemValue,onCellValueChange:n.onEditCellValueChange,onCellBlur:n.onEditCellBlur,onCellFocus:n.onCellFocus,onCellKeyDown:n.onEditCellKeyDown,handleCellRef:n.handleEditCellRef},create:{getItemValue:n.getCreateItemValue,onCellValueChange:n.onCreateCellValueChange,onCellBlur:n.onCreateCellBlur,onCellFocus:n.onCellFocus,onCellKeyDown:n.onCreateCellKeyDown,handleCellRef:n.handleCreateCellRef},filter:{getItemValue:n.getFilterItemValue,onCellValueChange:n.onFilterCellValueChange}},C={data:t,dateFormat:r,thousandSeparator:o,decimalSeparator:l};f=On.columnCell(f,C,e,function(n,r){var o=t.getIn([n].concat(e.valueKeyPath));return a(o)?e.isRequired?i.a.createElement(c.FormattedMessage,{id:"Grid.ValueIsMissing"}):"":r?r(o):o});var v=bn({},C,{grid:s,inlineEdit:d,filtering:u,region:p,intl:g,selectComponentOptions:m});f=On.columnComponentType(f,R,v,e,h,n.getComponentDisabledState),I.push(f)}),C&&I.push({width:37,isResizable:!1,columnKey:"removeNewItem",cell:function(){return null},cellEdit:function(){return null},cellCreate:function(e){return i.a.createElement(f.a,{id:"oc-datagrid-new-item-remove-"+s.id+"-"+e,type:"indicator",name:"delete",width:30,height:30,style:{padding:"7px"},onClick:function(){return n.props.removeNewItem(s,e)}})},cellFilter:function(){return null}}),I}),Mn(Pn(n),"isCellEdited",function(e,t,a){if("edit"!==a)return!1;var r=n.getDataIdByRowIndex(e);return!!n.props.editData.getIn([r].concat(t.valueKeyPath))}),Mn(Pn(n),"handleAfterAddItem",function(){n.focusToCreateCell=!0}),Mn(Pn(n),"handleAfterEditPress",function(){n.props.selectedItems.size&&(n.focusToEditCell=!0,n.setState({currentRow:void 0}))}),Mn(Pn(n),"handleAfterValidationError",function(){n.focusToErrorCell=!0}),Mn(Pn(n),"handleRowClick",function(e,t){if(n.props.rowSelect&&!n.props.isCreating&&!n.props.isEditing){(e.ctrlKey||e.shiftKey)&&document.getSelection().removeAllRanges();var a=e.target.parentNode,r=a.className&&a.className.indexOf?a.className:"",i=a.parentNode.className&&a.parentNode.className.indexOf?a.parentNode.className:"",o=a.parentNode.parentNode.className&&a.parentNode.parentNode.className.indexOf?a.parentNode.parentNode.className:"",l=a.parentNode.parentNode.parentNode.className&&a.parentNode.parentNode.parentNode.className.indexOf?a.parentNode.parentNode.parentNode.className:"";-1===r.indexOf("no-row-select")&&-1===i.indexOf("no-row-select")&&-1===o.indexOf("no-row-select")&&-1===l.indexOf("no-row-select")&&n.props.itemSelectionChange(n.props.grid,t,n.props.multiSelect&&e.ctrlKey,n.props.multiSelect&&e.shiftKey)}return n.props.onRowClick&&n.props.onRowClick(e,t,n.props.data.get(t)),!0}),Mn(Pn(n),"handleContextMenu",function(e,t){if(n.props.contextMenuItems){var a=n.props,r=a.itemSelectionChange,i=a.selectedItems,o=a.grid,l=a.data;return e.preventDefault(),e.stopPropagation(),n.setState({contextMenuOpen:!0,contextMenuX:e.clientX,contextMenuY:e.clientY}),i.includes(l.getIn([t].concat(o.idKeyPath)))||r(o,t),document.addEventListener("click",n.onDocumentClick),!1}return!0}),Mn(Pn(n),"handleContextMenuItemClick",function(e,t,n){return function(){e(t,n)}}),Mn(Pn(n),"handleRowHeightGetter",function(e){return n.props.rowHeightGetter(n.props.data.get(e),e)}),Mn(Pn(n),"renderCell",function(e){return function(t){var a,r=n.props,o=r.isCreating,l=r.isEditing,s=r.createData,c=r.selectedCell,u=r.grid,p=t.rowIndex,g=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["rowIndex"]),f="view",m=0;o&&(m=s.size);var h=p-m;o?p<=m-1?e.cellCreate?(a=e.cellCreate(p,n.handleCreateCellRef(p,e),n.onCreateCellKeyDown(p,e)),f="create"):(a=null,f=null):a=e.cell(h,n.handleCreateCellRef(h,e),n.onCreateCellKeyDown(h,e)):l&&e.cellEdit?(a=e.cellEdit(h,n.handleEditCellRef(h,e),n.onEditCellKeyDown(h,e)),f="edit"):a=e.cell(h,n.handleEditCellRef(h,e),n.onEditCellKeyDown(h,e));var C="selectionCheckbox"===g.columnKey||"extraColumn"===g.columnKey;if(("view"===f||"edit"===f||"create"===f)&&!C){var v="create"===f?p:p-m,E=n.getCellMessages(v,e,f),A=n.isCellEdited(v,e,f),I=c.get("rowIndex")===p&&c.get("columnKey")===g.columnKey?"oc-datagrid-cell is-selected":"oc-datagrid-cell";return i.a.createElement(d.Cell,bn({},g,{className:I,style:e.style,onClick:n.handleCellSelect(f,p,g.columnKey)}),i.a.createElement(me,{id:"ocDatagridCell-"+u.id+"-"+g.columnKey+"-"+p,isEdited:A,isError:!!E.errorMessage,isWarning:!!E.warningMessage,infoMessage:E.infoMessage,errorMessage:E.errorMessage,warningMessage:E.warningMessage},a))}return i.a.createElement(d.Cell,bn({},g,{className:"oc-datagrid-cell",style:e.style}),a)}}),Mn(Pn(n),"renderColumns",function(){var e=n.props,t=e.allDataSize,a=e.grid,r=e.isCreating,o=e.isBusy,l=e.visibleColumns;if(!(t||o||r||a.pagination))return i.a.createElement(d.Column,{columnKey:"dataEmptyColumn",header:i.a.createElement(d.Cell,{style:{textAlign:"center"}},i.a.createElement(c.FormattedMessage,{id:"Grid.NoItems"})),width:10,isResizable:!1,flexGrow:1});if(!l.size)return o?i.a.createElement(d.Column,{columnKey:"dataEmptyColumn",header:i.a.createElement(d.Cell,null," "),width:10,isResizable:!1,flexGrow:1}):i.a.createElement(d.Column,{columnKey:"dataEmptyColumn",header:i.a.createElement(d.Cell,{style:{textAlign:"center"}},i.a.createElement(c.FormattedMessage,{id:"Grid.NoColumns"})),width:10,isResizable:!1,flexGrow:1});var s=n.generateColumns();return 0===s.lenght?null:s.map(function(e){return i.a.createElement(d.Column,{key:e.columnKey,columnKey:e.columnKey,header:i.a.createElement(le,{id:"ocDatagridHeader-"+n.props.grid.id+"-"+e.columnKey,grid:n.props.grid,columns:n.props.columns,column:e,currentSortColumn:n.props.sortColumn,currentSortOrder:n.props.sortOrder,onSortChange:n.props.sortChange,isBusy:n.props.isBusy,filtering:n.props.isFiltering,width:n.props.columnWidths.get(e.columnKey,e.width)},e.header),cell:n.renderCell(e),width:n.props.columnWidths.get(e.columnKey,e.width),minWidth:e.minWidth,maxWidth:e.maxWidth,isResizable:e.isResizable,flexGrow:e.flexGrow?e.flexGrow:0,fixed:e.fixed,fixedRight:e.fixedRight,allowCellsRecycling:e.allowCellsRecycling})})}),Mn(Pn(n),"renderContextMenu",function(){var e=n.props,t=e.contextMenuItems,a=e.data,r=e.grid,o=e.selectedItems,l=n.state,s=l.contextMenuX,c={display:"block",zIndex:1e4,position:"absolute",top:l.contextMenuY+"px",left:s+"px"},d=a.filter(function(e){return o.includes(e.getIn(r.idKeyPath))});return i.a.createElement("ul",{className:"dropdown-menu oc-datagrid-context-menu open",style:c},t&&t.map&&t.map(function(e,t){var a=e.disabled;return"function"==typeof e.disabled&&(a=e.disabled(o,d)),i.a.createElement(u.a,{key:t,header:e.header,divider:e.divider,disabled:a,title:e.title,onClick:a||!e.onClick?null:n.handleContextMenuItemClick(e.onClick,o,d)},e.value)}))}),n.state={currentRow:0,currentColumn:0,contextMenuOpen:!1,contextMenuX:null,contextMenuY:null},n.cellRefs={},n.createCellRefs={},n.focusToCreateCell=!1,n.focusToEditCell=!1,n.focusToErrorCell=!1,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentWillUnmount=function(){document.removeEventListener("click",this.onDocumentClick),this.props.invalidate(this.props.grid)},r.render=function(){var e,t=g()(((e={"oc-datagrid-container":!0,"with-actionbar":this.props.inlineEdit&&!this.props.disableActionBar,"is-busy":this.props.isBusy,"is-editing":this.props.isEditing,"is-creating":this.props.isCreating})[this.props.className]=!!this.props.className,e));this.setFocusTo(this.props.focusType);var n=null,a=null,r=null;(this.props.actionBar||this.props.inlineEdit||this.props.filtering||this.props.removing)&&!this.props.disableActionBar&&(a=i.a.createElement(ue,{position:"right"},i.a.createElement("div",{className:"oc-datagrid-actionbar-right"},this.props.actionBar),this.props.filtering&&this.props.disableDropdown&&!this.props.disableFilteringControls&&i.a.createElement(Re,this.props),this.props.inlineEdit&&i.a.createElement(Ee,bn({afterAddItem:this.handleAfterAddItem,afterEditPress:this.handleAfterEditPress,afterValidationError:this.handleAfterValidationError},this.props)),(this.props.dropdownMenuItems||this.props.removing||this.props.columnSettings||this.props.filtering&&!this.props.disableDropdown)&&i.a.createElement(be,this.props))),(this.props.actionBarLeft||this.props.gridHeader)&&(r=i.a.createElement(ue,{position:"left"},i.a.createElement("div",{className:"oc-datagrid-gridheader"},this.props.gridHeader),i.a.createElement("div",{className:"oc-datagrid-actionbar-left"},this.props.actionBarLeft))),(r||a)&&(n=i.a.createElement("div",{className:"oc-datagrid-actionbar-container"},r,a));var o=this.props.rowsCount||0===this.props.rowsCount?this.props.rowsCount:this.props.data.size;return this.props.isCreating&&(o+=this.props.createData.size),this.props.visibleColumns.size||(o=0),i.a.createElement("div",{id:"oc-datagrid-"+this.props.grid.id,className:t,style:this.props.containerStyle},this.props.isBusy&&i.a.createElement(m.a,null),this.state.contextMenuOpen&&this.renderContextMenu(),n,i.a.createElement(O,{id:this.props.grid.id,rowsCount:o,headerHeight:this.props.isFiltering?this.props.headerHeight+this.props.filterRowHeight:this.props.headerHeight,rowHeight:this.props.rowHeight,onColumnResizeEndCallback:this.onColumnResizeEndCallback,isColumnResizing:!1,onRowClick:this.handleRowClick,scrollToColumn:this.props.scrollToColumn||this.state.currentColumn,scrollTop:this.props.scrollTop,scrollToRow:this.getScrollToRow(),onRowDoubleClick:this.props.onRowDoubleClick,onRowMouseDown:this.props.onMouseDown,onRowMouseEnter:this.props.onRowMouseEnter,onRowMouseLeave:this.props.onRowMouseLeave,onScrollStart:this.props.onScrollStart,onScrollEnd:this.props.onScrollEnd,rowClassNameGetter:this.getRowClassName,rowHeightGetter:this.props.rowHeightGetter&&this.handleRowHeightGetter,onContentHeightChange:this.props.onContentHeightChange,onRowContextMenu:this.handleContextMenu},this.renderColumns()),this.props.isColumnSettingsModalOpen&&i.a.createElement(wt,{grid:this.props.grid,columns:this.props.columns,visibleColumns:this.props.visibleColumns,closeColumnSettingsModal:this.props.closeColumnSettingsModal,saveColumnSettings:this.props.saveColumnSettings}),this.props.children)},a}(i.a.PureComponent),Mn(yn,"defaultProps",Y),Tn=Sn))||Tn)||Tn)||Tn);function wn(e,t){switch(void 0===e&&(e=Gt),t.type){case Me.PLATFORM_DATAGRID_INVALIDATE:return e.deleteIn([t.id,"data"]).deleteIn([t.id,"allData"]).deleteIn([t.id,"session"]).deleteIn([t.id,"selectedCell"]).deleteIn([t.id,"editData"]).deleteIn([t.id,"createData"]).deleteIn([t.id,"createCellMessages"]).deleteIn([t.id,"cellMessages"]);case Me.PLATFORM_DATAGRID_FORCE_REFRESH:return e.set("forceRefresh",Date.now());case Me.PLATFORM_DATAGRID_SET_DATA:return e.setIn([t.id,"data"],t.data).setIn([t.id,"allData"],t.data).setIn([t.id,"config"],l.a.fromJS(t.config)).setIn([t.id,"selectedItems"],l.a.fromJS(t.selectedItems)).mergeIn([t.id,"session"],{isEditing:!1,isCreating:!1,isBusy:!1}).deleteIn([t.id,"selectedCell"]).deleteIn([t.id,"editData"]).deleteIn([t.id,"createData"]).deleteIn([t.id,"createCellMessages"]).deleteIn([t.id,"cellMessages"]);case Me.PLATFORM_DATAGRID_BUSY:return e.setIn([t.id,"session","isBusy"],!0);case Me.PLATFORM_DATAGRID_READY:return e.setIn([t.id,"session","isBusy"],!1);case Me.PLATFORM_DATAGRID_APPLY_SORT:return e.setIn([t.id,"data"],t.data).setIn([t.id,"allData"],t.allData);case Me.PLATFORM_DATAGRID_SORT_CHANGE:return e.setIn([t.id,"config","sortingData"],Object(o.Map)({sortColumn:t.sortColumn,sortOrder:t.sortOrder}));case Me.PLATFORM_DATAGRID_RESIZE_COLUMN:return e.setIn([t.id,"config","columnWidths"],t.columnWidths);case Me.PLATFORM_DATAGRID_EDIT:return e.setIn([t.id,"session","isEditing"],!0);case Me.PLATFORM_DATAGRID_CREATE:return e.setIn([t.id,"createData"],Object(o.List)([l.a.fromJS(t.columnDefaultValues)])).deleteIn([t.id,"selectedCell"]).mergeIn([t.id,"session"],{isCreating:!0});case Me.PLATFORM_DATAGRID_ADD_NEW_ITEM:return e.updateIn([t.id,"createData"],Object(o.List)(),function(e){return e.push(l.a.fromJS(t.columnDefaultValues))});case Me.PLATFORM_DATAGRID_REMOVE_ITEM:var n=e.getIn([t.id,"allData"],Object(o.List)()).findIndex(function(e){return e.getIn(t.idKeyPath)===t.rowId}),a=e.getIn([t.id,"data"],Object(o.List)()).findIndex(function(e){return e.getIn(t.idKeyPath)===t.rowId});return e.deleteIn([t.id,"data",a]).deleteIn([t.id,"allData",n]).deleteIn([t.id,"editData",t.rowId]).deleteIn([t.id,"cellMessages","error",t.rowId]).deleteIn([t.id,"cellMessages","info",t.rowId]).deleteIn([t.id,"cellMessages","warning",t.rowId]);case Me.PLATFORM_DATAGRID_SET_FOCUS_TO:return e.setIn([t.id,"session","focusType"],Object(o.Map)({type:t.focusTo,focusToLastRow:t.focusToLastRow}));case Me.PLATFORM_DATAGRID_REMOVE_NEW_ITEM:return e.deleteIn([t.id,"createData",t.index]);case Me.PLATFORM_DATAGRID_REMOVE_NEW_ITEMS:return e.setIn([t.id,"createData"],e.getIn([t.id,"createData"],Object(o.List)()).filter(function(e,n){return-1===t.indexes.indexOf(n)}));case Me.PLATFORM_DATAGRID_CANCEL:return e.mergeIn([t.id,"session"],Object(o.Map)({isEditing:!1,isCreating:!1})).deleteIn([t.id,"editData"]).deleteIn([t.id,"createData"]).deleteIn([t.id,"createCellMessages","error"]).deleteIn([t.id,"cellMessages","error"]);case Me.PLATFORM_DATAGRID_SAVE:return e.setIn([t.id,"session","isBusy"],!0);case Me.PLATFORM_DATAGRID_EXTEND_DATA:var r=e.getIn([t.id,"allData"]),i=t.prepend?t.data.concat(r):r.concat(t.data);return e.setIn([t.id,"data"],i).setIn([t.id,"allData"],i);case Me.PLATFORM_DATAGRID_SAVE_SUCCESS:var s=e.getIn([t.id,"allData"]),c=null;t.savedItems.forEach(function(e){var n=l.a.fromJS(e),a=s.findIndex(function(e){return e.getIn(t.idKeyPath)===n.getIn(t.idKeyPath)});-1===a?(!c&&n.getIn(t.idKeyPath)&&(c=n.getIn(t.idKeyPath)),s=s.push(n)):s=s.mergeDeepIn([a],n)});var d=e.setIn([t.id,"data"],s).setIn([t.id,"allData"],s).mergeIn([t.id,"session"],{isBusy:!1,isEditing:!1,isCreating:!1}).deleteIn([t.id,"editData"]).deleteIn([t.id,"createData"]).deleteIn([t.id,"createCellMessages","error"]).deleteIn([t.id,"cellMessages","error"]);return c&&(X.a.saveSelectedItems(t.id,[c]),d=d.setIn([t.id,"selectedItems"],Object(o.List)([c]))),d;case Me.PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS:var u=e.getIn([t.id,"allData"]),p=e.getIn([t.id,"createData"]),g=e.getIn([t.id,"editData"]),f=e.getIn([t.id,"session","isCreating"]);return t.savedItems.forEach(function(e){var n=l.a.fromJS(e),a=u.findIndex(function(e){return e.getIn(t.idKeyPath)===n.getIn(t.idKeyPath)});u=-1===a?u.push(n):u.mergeDeepIn([a],n),f?null!=(a=n.get("rowIndex"))&&(p=p.delete(a)):g=g.delete(n.getIn(t.idKeyPath))}),e.setIn([t.id,"data"],u).setIn([t.id,"allData"],u).setIn([t.id,"createData"],p).setIn([t.id,"editData"],g).setIn([t.id,"session","isBusy"],!1);case Me.PLATFORM_DATAGRID_SAVE_FAIL:return e.setIn([t.id,"session","isBusy"],!1);case Me.PLATFORM_DATAGRID_REMOVE:return e.setIn([t.id,"session","isBusy"],!0);case Me.PLATFORM_DATAGRID_REMOVE_SUCCESS:return e.setIn([t.id,"session","isBusy"],!1).updateIn([t.id,"data"],function(e){return e.filterNot(function(e){return t.removedIds.indexOf(e.getIn(t.idKeyPath))>-1})}).updateIn([t.id,"allData"],function(e){return e.filterNot(function(e){return t.removedIds.indexOf(e.getIn(t.idKeyPath))>-1})}).deleteIn([t.id,"selectedItems"]);case Me.PLATFORM_DATAGRID_REMOVE_FAIL:return e.setIn([t.id,"session","isBusy"],!1);case Me.PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE:return e.setIn([t.id,"editData",t.dataId].concat(t.keyPath),t.value);case Me.PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE:return e.setIn([t.id,"createData",t.rowIndex].concat(t.keyPath),t.value);case Me.PLATFORM_DATAGRID_CELL_SHOW_MESSAGE:return e.setIn([t.id,"cellMessages",t.messageType,t.dataId].concat(t.keyPath),{id:t.messageId,values:t.messageValues});case Me.PLATFORM_DATAGRID_CELL_SHOW_MESSAGES:return e.mergeIn([t.id,"cellMessages"],l.a.fromJS(t.messages));case Me.PLATFORM_DATAGRID_CELL_HIDE_MESSAGE:if(null===t.messageType)return e.deleteIn([t.id,"cellMessages"]);if(null===t.dataId)return e.deleteIn([t.id,"cellMessages",t.messageType]);var m=e.getIn([t.id,"cellMessages",t.messageType,t.dataId]);return m?(t.keyPath&&(m=m.deleteIn(t.keyPath)),0!==m.size&&t.keyPath?e.setIn([t.id,"cellMessages",t.messageType,t.dataId],m):e.deleteIn([t.id,"cellMessages",t.messageType,t.dataId])):e;case Me.PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE:return e.setIn([t.id,"createCellMessages",t.messageType,t.rowIndex].concat(t.keyPath),{id:t.messageId,values:t.messageValues});case Me.PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE:if(null===t.messageType)return e.deleteIn([t.id,"createCellMessages"]);if(null===t.rowIndex)return e.deleteIn([t.id,"createCellMessages",t.messageType]);var h=e.getIn([t.id,"createCellMessages",t.messageType,t.rowIndex]);return h?(t.keyPath&&(h=h.deleteIn(t.keyPath)),0!==h.size&&t.keyPath?e.setIn([t.id,"createCellMessages",t.messageType,t.rowIndex],h):e.deleteIn([t.id,"createCellMessages",t.messageType,t.rowIndex])):e;case Me.PLATFORM_DATAGRID_CELL_SELECTION_CHANGE:return e.setIn([t.id,"selectedCell"],t.selectedCell);case Me.PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE:var C=e.setIn([t.id,"session","lastClickedRowIndex"],t.rowIndex);if(t.shiftPressed){var v=e.getIn([t.id,"session","lastClickedRowIndex"],!1);if(!1!==v){var E=[];if(v<t.rowIndex)for(var A=v;A<=t.rowIndex;A+=1){var I=e.getIn([t.id,"data",A].concat(t.idKeyPath));I&&E.push(I)}else for(var R=t.rowIndex;R<=v;R+=1){var _=e.getIn([t.id,"data",R].concat(t.idKeyPath));_&&E.push(_)}return C.setIn([t.id,"selectedItems"],Object(o.List)(E))}}var D=e.getIn([t.id,"data",t.rowIndex].concat(t.idKeyPath)),T=e.getIn([t.id,"selectedItems"],Object(o.List)()).indexOf(D);return-1===T?t.ctrlPressed?C.updateIn([t.id,"selectedItems"],Object(o.List)(),function(e){return e.push(D)}):C.setIn([t.id,"selectedItems"],Object(o.List)([D])):t.ctrlPressed?C.updateIn([t.id,"selectedItems"],function(e){return e.delete(T)}):C.setIn([t.id,"selectedItems"],Object(o.List)([D]));case Me.PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE:return e.getIn([t.id,"selectedItems"],Object(o.List)()).size===e.getIn([t.id,"data"],Object(o.List)()).size?e.deleteIn([t.id,"selectedItems"]):e.setIn([t.id,"selectedItems"],e.getIn([t.id,"data"],Object(o.List)()).map(function(e){return e.getIn(t.idKeyPath)}));case Me.PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS:return e.deleteIn([t.id,"selectedItems"]);case Me.PLATFORM_DATAGRID_TOGGLE_FILTERING:return t.isFiltering?e.setIn([t.id,"config","filteringData"],Object(o.Map)({isFiltering:!0})):e.setIn([t.id,"config","filteringData"],Object(o.Map)({isFiltering:!1})).setIn([t.id,"data"],e.getIn([t.id,"allData"]));case Me.PLATFORM_DATAGRID_FILTER_DATA_CHANGE:return e.setIn([t.id,"config","filteringData","filterData"],t.filterData);case Me.PLATFORM_DATAGRID_APPLY_FILTERS:return e.setIn([t.id,"data"],t.data);case Me.PLATFORM_DATAGRID_SET_FILTERS:return e.setIn([t.id,"config","filteringData"],t.filteringData);case Me.PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE:var y=e.setIn([t.id,"allData",t.dataId].concat(t.keyPath),t.value);return e.hasIn([t.id,"data",t.dataId].concat(t.keyPath))?y.setIn([t.id,"data",t.dataId].concat(t.keyPath),t.value):y;case Me.PLATFORM_DATAGRID_SET_EDIT_DATA:return e.setIn([t.id,"session","isEditing"],!0).setIn([t.id,"editData"],t.data).setIn([t.id,"cellMessages"],t.cellMessages);case Me.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN:return e.setIn([t.id,"session","columnSettingsModal","open"],!0);case Me.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE:return e.deleteIn([t.id,"session","columnSettingsModal"]);case Me.PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE:return e.setIn([t.id,"config","visibleColumns"],l.a.fromJS(t.columnOrder));case Me.PLATFORM_DATAGRID_SET_PAGE:return e.setIn([t.id,"config","page"],t.page);case Me.PLATFORM_DATAGRID_SET_ROWS_ON_PAGE:return e.setIn([t.id,"config","rowsOnPage"],t.rowsOnPage);default:return e}}n.d(t,"a",function(){return Ln}),n.d(t,"c",function(){return wn}),n.d(t,"b",function(){return a})},473:function(e,t,n){},475:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E});var a,r=n(0),i=n.n(r),o=n(119),l=n(72),s=n(503),c=n(71),d=n(42),u=n(162),p=n(480),g=n(481),f=n(499),m=n(506);n(2032),n(2033);var h=c.d,C={intl:{locale:"en",messages:f}},v=Object(c.e)(g.a,C,h(Object(c.a)(p.a)));var E=Object(s.hot)(e)(a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return i.a.createElement(d.Provider,{store:v},i.a.createElement(u.IntlProvider,{locale:"en"},i.a.createElement(o.a,null,i.a.createElement(l.b,{path:"/",component:m.a}))))},a}(i.a.Component))||a}).call(this,n(281)(e))},478:function(e,t){},481:function(e,t,n){"use strict";var a=n(162),r=n(71),i=n(26);t.a=Object(r.c)({intl:a.intlReducer,datagrid:i.c})},499:function(e){e.exports={"Common.Search":"Search","Grid.Add":"Add","Grid.Cancel":"Cancel","Grid.DisableActionsMessage":"Finish other tasks before editing","Grid.Delete":"Delete","Grid.Edit":"Edit","Grid.No":"No","Grid.NoItems":"There are no items to show in this grid.","Grid.NoColumns":"There are no columns to show in this grid.","Grid.Save":"Save","Grid.Ok":"OK","Grid.Yes":"Yes","Grid.Checked":"Checked","Grid.UnChecked":"Unchecked","Grid.ValueIsMissing":"Value is missing","Grid.Warning":"Warning","Grid.ShowFilteringRow":"Show filtering row","Grid.ColumnSettings":"Column settings","Grid.ColumnSettings.All":"All","Grid.ColumnSettings.AvailableColumns":"Available columns","Grid.ColumnSettings.Header":"Select columns","Grid.ColumnSettings.SelectedColumns":"Selected columns","Grid.ColumnSettings.SearchTooltip":"Search starts when you have entered enough characters","Grid.FloatingSelect.Select":"Select...","Grid.FloatingSelect.Selected":"{n} selected","Grid.FloatingSelect.NoResults":"No search results","Grid.Pagination.RowsOnPage":"Rows on page:","Grid.Pagination.TotalPlural":"Total {n} rows","Grid.Pagination.TotalSingular":"Total 1 row","Grid.Pagination.TotalOver":"Total {n}+ rows (only the first {n} shown)","Validation.Unique":"Value must be unique","Validation.IsRequired":"Value is required","Validation.MinLength":"Value is too short","Validation.MaxLength":"Value is too long","Validation.MinValue":"Value is too big","Validation.MaxValue":"Value is too small",Warning:"Warning"}},5:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(484),o=n.n(i),l=n(175),s=n(6),c=function(e){return e.columnKey||e.valueKeyPath.join("/")},d=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var a=[];return e.forEach(function(e,r){var i=c(e),o=n.indexOf(i);if(!(e.isHidden&&-1===o||t.indexOf(i)>-1)){var l=-1!==o?o:r+1;a.push({columnKey:i,order:l})}}),a.sort(function(e,t){return e.order-t.order}).map(function(e){return e.columnKey})};t.a={getColumnKey:c,getColumnDefaultValues:function(e){var t={};return e.forEach(function(e){void 0!==e.defaultValue&&(t[c(e)]=e.defaultValue)}),t},getCellStyleByCol:function(e){if(e.align)return{textAlign:e.align};if("select"===e.componentType||"multiselect"===e.componentType)return{};switch(e.valueType){case"number":case"float":case"currency":case"date":return{textAlign:"right"};default:return{}}},isSortable:function(e){return e.valueType&&(e.sortValueGetter||e.valueKeyPath)&&!e.disableSorting},getSortComparator:function(e){if(e.sortComparator)return e.sortComparator;switch(e.valueType){case"text":return function(e,t){return e.localeCompare?e.localeCompare(t):1};case"number":case"float":case"currency":return function(e,t){return e-t};case"boolean":return function(e,t){return e===t?0:e?-1:1};case"date":return function(e,t){return new Date(e)-new Date(t)};default:return function(e,t){return e.localeCompare?e.localeCompare(t):1}}},getSortValueGetter:function(e){return e.sortValueGetter?e.sortValueGetter:function(t){return t.getIn(e.valueKeyPath)}},getValueEmptyChecker:function(e){if(e.valueEmptyChecker)return e.valueEmptyChecker;if("multiselect"===e.componentType)return function(e){return""===e||null==e||0===e.length};switch(e.valueType){case"number":case"float":case"currency":return function(e){return""===e||o()(e)||null==e};case"text":case"boolean":case"date":case"select":default:return function(e){return""===e||null==e}}},getFilterMatcher:function(e,t){if(e.filterMatcher)return e.filterMatcher;var n=function(t){return t.getIn(e.valueKeyPath)};if("multiselect"===e.componentType)return function(e,t){var a=n(e);return(t&&t.toJS?t.toJS():t).some(function(e){return e.value===a})};switch(e.valueType){case"number":return function(e,t){return parseInt(n(e),10)===parseInt(t,10)};case"float":case"currency":return function(e,t){var a=n(e);return a&&a.includes(t)};case"date":return function(e,a){return!!r()(n(e)).isValid()&&r()(n(e)).format(t)===r()(a).format(t)};case"boolean":case"select":return function(e,t){return n(e)===t};case"text":default:return function(e,t){var a=t;return"[]\\^$.|?*+()".includes(t[0])&&(a="\\"+t),new RegExp(a,"i").test(n(e))}}},loadSelectedItems:function(e){var t=sessionStorage.getItem("oc_grid_selectedItems_"+e.id);if(t&&!e.disableRememberSelectedItems)try{return JSON.parse(t)}catch(e){console.error("Datagrid: error parsing selectedItems from sessionStorage",e)}return[]},loadGridConfig:function(e,t){var n,a,r=e.configStorage||{},i=sessionStorage.getItem("oc_grid_sorting_"+e.id),o=sessionStorage.getItem("oc_grid_filtering_"+e.id),s=localStorage.getItem("oc_grid_isFiltering_"+e.id),c=sessionStorage.getItem("oc_grid_page_"+e.id),u=sessionStorage.getItem("oc_grid_rowsOnPage_"+e.id),p={},g=!1;if(Object(l.isFunction)(r.load)&&(p=r.load()),s){if(!e.disableRememberIsFiltering)try{g=JSON.parse(s)}catch(e){console.error("Datagrid: error parsing isFilteringData from localStorage",e)}}else e.defaultShowFilteringRow&&(g=!0);if(p.hiddenColumns)n=p.hiddenColumns;else{var f=localStorage.getItem("oc_grid_hiddenColumns_"+e.id);if(f)try{n=JSON.parse(f)}catch(e){console.error("Datagrid: error parsing hiddenColumns from localStorage",e)}}if(p.columnOrder)a=p.columnOrder;else{var m=localStorage.getItem("oc_grid_columnOrder_"+e.id);if(m)try{a=JSON.parse(m)}catch(e){console.error("Datagrid: error parsing columnOrder from localStorage",e)}}var h={visibleColumns:d(t,n,a),filteringData:{isFiltering:g}};if(p.columnWidths)h.columnWidths=p.columnWidths;else{var C=localStorage.getItem("oc_grid_columnWidths_"+e.id);if(C&&!e.disableRememberColumnWidths)try{h.columnWidths=JSON.parse(C)}catch(e){console.error("Datagrid: error parsing columnWidths from localStorage",e)}}if(i&&!e.disableRememberSortData)try{h.sortingData=JSON.parse(i)}catch(e){console.error("Datagrid: error parsing sortingData from sessionStorage",e)}if(o&&g&&!e.disableRememberFilterData)try{h.filteringData.filterData=JSON.parse(o)}catch(e){console.error("Datagrid: error parsing filterData from sessionStorage",e)}if(c)try{h.page=JSON.parse(c)}catch(e){console.error("Datagrid: error parsing pagination from sessionStorage",e)}if(u)try{h.rowsOnPage=JSON.parse(u)}catch(e){console.error("Datagrid: error parsing pagination from sessionStorage",e)}return!h.sortingData&&e.defaultSortColumn&&(h.sortingData={sortColumn:e.defaultSortColumn,sortOrder:e.defaultSortOrder||"asc"}),h},saveSelectedItems:function(e,t){return!e.disableRememberSelectedItems&&(sessionStorage.setItem("oc_grid_selectedItems_"+e.id,JSON.stringify(t||[])),!0)},saveColumnWidths:function(e,t){return!e.disableRememberColumnWidths&&(!!t&&(e.configStorage&&Object(l.isFunction)(e.configStorage.save)?e.configStorage.save({columnWidths:t}):localStorage.setItem("oc_grid_columnWidths_"+e.id,JSON.stringify(t)),!0))},saveColumnSettings:function(e,t,n){return!(!t||!n)&&(e.configStorage&&Object(l.isFunction)(e.configStorage.save)?e.configStorage.save({hiddenColumns:t,columnOrder:n}):(localStorage.setItem("oc_grid_hiddenColumns_"+e.id,JSON.stringify(t)),localStorage.setItem("oc_grid_columnOrder_"+e.id,JSON.stringify(n))),!0)},saveSortData:function(e,t){return!e.disableRememberSortData&&(!!t&&(sessionStorage.setItem("oc_grid_sorting_"+e.id,JSON.stringify(t)),!0))},saveFilterData:function(e,t){return!e.disableRememberFilterData&&(!!t&&(sessionStorage.setItem("oc_grid_filtering_"+e.id,JSON.stringify(t)),!0))},saveIsFiltering:function(e,t){return!e.disableRememberIsFiltering&&(void 0!==t&&(localStorage.setItem("oc_grid_isFiltering_"+e.id,JSON.stringify(t)),t||sessionStorage.removeItem("oc_grid_filtering_"+e.id),!0))},savePage:function(e,t){return!!t&&(sessionStorage.setItem("oc_grid_page_"+e.id,JSON.stringify(t)),!0)},saveRowsOnPage:function(e,t){return!!t&&(sessionStorage.setItem("oc_grid_rowsOnPage_"+e.id,JSON.stringify(t)),!0)},checkGridParam:function(e){if(!e)throw new Error("[Grid] Invalid `grid` parameter, update action parameters to new format!");if(!e.id)throw new Error("[Grid] Invalid `grid.id` parameter, update action parameters to new format!");if(!e.idKeyPath)throw new Error("[Grid] Invalid `grid.idKeyPath` parameter, update action parameters to new format!")},checkColumnsParam:function(e){if(!e)throw new Error("[Grid] Invalid `columns` parameter, update action parameters to new format!")},getLanguage:function(e,t){return e.language&&"string"==typeof e.language?e.language:t?t.getIn(["user","language"],"en"):"en"},getRegion:function(e,t){return e.region&&"string"==typeof e.region?e.region:t?t.getIn(["user","region"],"en_GB"):"en_GB"},getDateFormat:function(e,t){return e.dateFormat&&"string"==typeof e.dateFormat?e.dateFormat.toUpperCase():t?t.getIn(["localeFormat","dateFormat"],"L"):"L"},getThousandSeparator:function(e,t){return e.thousandSeparator&&"string"==typeof e.language?e.thousandSeparator:t?t.getIn(["localeFormat","thousandSeparator"],""):""},getDecimalSeparator:function(e,t){return e.decimalSeparator&&"string"==typeof e.language?e.decimalSeparator:t?t.getIn(["localeFormat","decimalSeparator"],"."):"."},normalizeFilteringData:function(e){var t=Object(s.Map)({isFiltering:!1});if(!e)return t;var n=s.Map.isMap(e)?e:Object(s.fromJS)(e),a=n.get("isFiltering",!1),r=n.get("filterData",null);return a&&r&&s.Map.isMap(r)&&(t=t.set("isFiltering",!0).set("filterData",r)),t},visibleColumns:function(e,t){return t?t.map(function(t){return e.find(function(e){return JSON.stringify(e.valueKeyPath.join("/"))===JSON.stringify(t)})}).toJS():e}}},506:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(2040),o=n(2041),l=n(2038),s=n(2044),c=n(119),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var u=function(e){e.styles;var t=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["styles"]);return r.a.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:"45",height:"16",viewBox:"0 0 45 16"},t),r.a.createElement("path",{fillRule:"evenodd",d:"M18.53 12.03h-.02c.009 0 .015.01.024.011h.006l-.01-.01zm.004.011c-.093.001-.327.05-.574.05-.78 0-1.05-.36-1.05-.83V8.13h1.59c.09 0 .16-.08.16-.19v-1.7c0-.09-.08-.17-.16-.17h-1.59V3.96c0-.08-.05-.13-.14-.13h-2.16c-.09 0-.14.05-.14.13v2.17s-1.09.27-1.16.28c-.08.02-.13.09-.13.17v1.36c0 .11.08.19.17.19h1.11v3.28c0 2.44 1.7 2.69 2.86 2.69.53 0 1.17-.17 1.27-.22.06-.02.09-.09.09-.16v-1.5a.177.177 0 0 0-.146-.18zm23.696-2.2c0-1.81-.73-2.05-1.5-1.97-.6.04-1.08.34-1.08.34v3.52s.49.34 1.22.36c1.03.03 1.36-.34 1.36-2.25zm2.43-.16c0 3.43-1.11 4.41-3.05 4.41-1.64 0-2.52-.83-2.52-.83s-.04.46-.09.52c-.03.06-.08.08-.14.08h-1.48c-.1 0-.19-.08-.19-.17l.02-11.11c0-.09.08-.17.17-.17h2.13c.09 0 .17.08.17.17v3.77s.82-.53 2.02-.53l-.01-.02c1.2 0 2.97.45 2.97 3.88zm-8.72-3.61h-2.1c-.11 0-.17.08-.17.19v5.44s-.55.39-1.3.39-.97-.34-.97-1.09V6.25c0-.09-.08-.17-.17-.17h-2.14c-.09 0-.17.08-.17.17v5.11c0 2.2 1.23 2.75 2.92 2.75 1.39 0 2.52-.77 2.52-.77s.05.39.08.45c.02.05.09.09.16.09h1.34c.11 0 .17-.08.17-.17l.02-7.47c0-.09-.08-.17-.19-.17zm-23.7-.01h-2.13c-.09 0-.17.09-.17.2v7.34c0 .2.13.27.3.27h1.92c.2 0 .25-.09.25-.27V6.23c0-.09-.08-.17-.17-.17zm-1.05-3.38c-.77 0-1.38.61-1.38 1.38 0 .77.61 1.38 1.38 1.38.75 0 1.36-.61 1.36-1.38 0-.77-.61-1.38-1.36-1.38zm16.49-.25h-2.11c-.09 0-.17.08-.17.17v4.09h-3.31V2.6c0-.09-.08-.17-.17-.17h-2.13c-.09 0-.17.08-.17.17v11.11c0 .09.09.17.17.17h2.13c.09 0 .17-.08.17-.17V8.96h3.31l-.02 4.75c0 .09.08.17.17.17h2.13c.09 0 .17-.08.17-.17V2.6c0-.09-.08-.17-.17-.17zM8.81 7.35v5.74c0 .04-.01.11-.06.13 0 0-1.25.89-3.31.89-2.49 0-5.44-.78-5.44-5.92S2.58 1.99 5.1 2c2.18 0 3.06.49 3.2.58.04.05.06.09.06.14L7.94 4.5c0 .09-.09.2-.2.17-.36-.11-.9-.33-2.17-.33-1.47 0-3.05.42-3.05 3.73s1.5 3.7 2.58 3.7c.92 0 1.25-.11 1.25-.11v-2.3H4.88c-.11 0-.19-.08-.19-.17V7.35c0-.09.08-.17.19-.17h3.74c.11 0 .19.08.19.17z"}))},p=(n(966),n(1),n(42)),g=n(6),f=(n(32),n(2042)),m=n(2037),h=n(2043),C=n(167),v=n(500),E=n.n(v),A=n(26),I=function(e){var t="",n="",a="L",r=1.1.toLocaleString(e),i=1e3.toLocaleString(e);t=r.substr(1,1),n=i.substr(1,1),isNaN(t)||(t=""),isNaN(n)||(n="");var o=new Date(2017,2,5).toLocaleDateString(e).replace("03","MM").replace("3","M").replace("05","DD").replace("5","D").replace("2017","YYYY");return o.indexOf("M")>-1&&o.indexOf("D")>-1&&o.indexOf("Y")>-1&&(a=o),{dateFormat:a,thousandSeparator:n,decimalSeparator:t}},R=n(49),_=n.n(R),D=n(2),T=n.n(D),y=n(178),S=function(e){var t=e.value;return r.a.createElement("div",{style:{backgroundColor:t,width:"20px",height:"20px"}}," ")};S.defaultProps={value:"#fff"};var O=S,b="Validation.",P=function(e){return""===e||null==e},M=function(e){return P(e)?{valid:!1,message:b+"IsRequired"}:{valid:!0}};var F,L=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={value:t.value},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return r.a.createElement("input",{type:"text",value:this.state.value,onChange:function(t){e.setState({value:t.target.value})},ref:function(t){e.props.setRef(t)},onKeyDown:this.props.onKeyDown,style:{width:"100%"}})},a}(r.a.Component),w={"en-GB":"English (GB)","fi-FI":"Finnish (FI)"},G={id:"TestGrid",idKeyPath:["id"],defaultSortColumn:"name",defaultSortOrder:"desc",language:"en",dateFormat:"L",decimalSeparator:".",thousandSeparator:","},k={id:"TestPaginationGrid",idKeyPath:["id"],defaultSortColumn:"country",defaultSortOrder:"desc",language:"en",dateFormat:"L",decimalSeparator:".",thousandSeparator:",",pagination:!0},j=y.countries.all.filter(function(e){return e.alpha3}).map(function(e){return{value:e.alpha3,label:e.name}}),V=y.countries.all.filter(function(e){return e.alpha3&&e.currencies&&e.currencies.length>=1}).map(function(e){return{value:e.alpha3,label:e.currencies[0]}}),x=[{header:"Name",valueKeyPath:["name"],valueType:"text",componentType:"text",isRequired:!0,isLocked:!0,validators:[{unique:!0},{validate:M}]},{header:"Price",valueKeyPath:["price"],valueType:"currency",componentType:"float",isRequired:!0,width:80,validators:[{validate:M}]},{header:"Stock",valueKeyPath:["stock"],valueType:"number",componentType:"number",width:100},{header:"Country",valueKeyPath:["country"],valueType:"text",componentType:"multiselect",selectComponentOptions:j,valueRender:function(e){var t=j.find(function(t){return t.value===e.get("country")});return t?t.label:null}},{header:"Currency",valueKeyPath:["currency"],valueType:"text",componentType:"select",selectComponentOptions:V,valueRender:function(e){var t=V.find(function(t){return t.value===e.get("country")});return t?t.label:null}},{header:"Used",valueKeyPath:["isUsed"],valueType:"boolean",componentType:"boolean",width:100},{header:"Checked",valueKeyPath:["isChecked"],valueType:"checkbox",componentType:"checkbox",align:"center",width:100},{header:"Modified",valueKeyPath:["modified"],valueType:"date",componentType:"date",width:120},{header:"Custom component",valueKeyPath:["custom"],valueType:"text",componentType:"text",width:100,valueRender:function(e){return e.get("custom")},editValueRender:function(e,t,n,a){return r.a.createElement(L,{setRef:n,onKeyDown:a,value:e.get("custom")})},createValueRender:function(e,t,n,a){return r.a.createElement(L,{setRef:n,onKeyDown:a,value:e.get("custom")})}},{header:"Color",valueKeyPath:["color"],valueRender:function(e){return r.a.createElement(O,{value:e.get("color")})},editValueRender:function(e){return r.a.createElement(O,{value:e.get("color")})},createValueRender:function(){return null},filterValueRender:function(){return null}}],N=function(e){for(var t,n,a=[],r=1;r<=e;r+=1)a.push({id:r,name:_.a.commerce.productName(),price:_.a.commerce.price(),amount:_.a.finance.amount(),stock:_.a.random.number(),country:(n=void 0,n=_.a.address.countryCode(),y.countries[n].alpha3.toUpperCase()),isUsed:_.a.random.boolean(),isChecked:_.a.random.boolean(),color:_.a.internet.color(),modified:(t=void 0,t=_.a.date.past(),T()(t).format("YYYY-MM-DD[T]HH:mm:ss[Z]")),custom:_.a.lorem.word()});return a};n(473);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H,W,q,U={cellShowMessage:A.b.cellShowMessage,cellShowMessages:A.b.cellShowMessages,setData:A.b.setData,saveSuccess:A.b.saveSuccess,removeSuccess:A.b.removeSuccess,saveFail:A.b.saveFail,removeFail:A.b.removeFail},J=Object(p.connect)(function(e){return{allData:e.datagrid.getIn([G.id,"allData"],Object(g.List)()),createData:e.datagrid.getIn([G.id,"createData"],Object(g.List)()),editData:e.datagrid.getIn([G.id,"editData"],Object(g.Map)()),selectedItems:e.datagrid.getIn([G.id,"selectedItems"],Object(g.List)()),isEditing:e.datagrid.getIn([G.id,"session","isEditing"],!1)}},U)(F=function(e){var t,n;function a(){var t;z(B(t=e.call(this)||this),"getRegionComponent",function(){var e=t.state.region,n="Region: "+(w[e]||"");return r.a.createElement(f.a,{id:"region-selector",title:n},Object.keys(w).map(function(n){return r.a.createElement(m.a,{eventKey:n,key:n,active:n===e,onSelect:t.handleRegionSelect},w[n])}))}),z(B(t),"handleRegionSelect",function(e){var n=I(e),a=n.dateFormat,r=n.thousandSeparator,i=n.decimalSeparator,o=K({},G,{region:e,dateFormat:a,decimalSeparator:i,thousandSeparator:r});t.setState({gridSettings:o,region:e})}),z(B(t),"handleWarnClick",function(){t.props.cellShowMessage(G,"warning",3,["float"],"Warning")}),z(B(t),"handleInfoClick",function(){var e=Object(g.Map)().setIn(["info",1],Object(g.Map)({text:"Text message 1",date:"Date message 1"})).setIn(["info",3],Object(g.Map)({text:"Text message 3"}));t.props.cellShowMessages(G,e)}),z(B(t),"handleOnSave",function(){var e=t.props,n=e.createData,a=e.editData,r=e.allData,i=[];n.size?i=(i=n.toJS()).map(function(e){return Object.assign(e,{id:E()()})}):a.size&&a.forEach(function(e,t){var n=r.find(function(e){return e.getIn(G.idKeyPath)===t});n&&i.push(n.merge(e))});var o=i;t.props.saveSuccess(G,x,o)}),z(B(t),"handleOnRemove",function(){var e=t.props.selectedItems.toJS();t.props.removeSuccess(G,e)}),z(B(t),"handleContextClick",function(e,t){console.log("Context menu clicked"),console.log("ID's "+e.join(", ")),console.table(t.toSJ())});var n=I("en-GB"),a=n.dateFormat,i=n.thousandSeparator,o=n.decimalSeparator,l=K({},G,{dateFormat:a,decimalSeparator:o,thousandSeparator:i});return t.state={gridSettings:l,region:"en-GB"},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.componentWillMount=function(){this.props.setData(G,x,N(100))},i.render=function(){var e=this.props.isEditing&&0===this.props.editData.size,t=r.a.createElement(h.a,{inline:!0,style:{marginLeft:"20px"}},r.a.createElement(C.a,{onClick:this.handleWarnClick},"Show Warning"),r.a.createElement(C.a,{onClick:this.handleInfoClick},"Show Info"),this.getRegionComponent());return r.a.createElement(A.a,{id:"test-grid",className:"test-grid",grid:this.state.gridSettings,gridHeader:"Example Grid",columns:x,disableActionSave:e,actionBarLeft:t,filtering:!0,columnSettings:!0,inlineEdit:!0,removing:!0,multiSelect:!0,rowSelect:!0,rowSelectCheckboxColumn:!0,enableArrowNavigation:!0,onSave:this.handleOnSave,onRemove:this.handleOnRemove,contextMenuItems:[{value:"Selected items are used",onClick:this.handleContextClick,disabled:function(e,t){return t.count(function(e){return!0===e.get("isUsed",!1)})!==t.size}},{value:"View more details...",onClick:this.handleContextClick}]})},a}(r.a.Component))||F,Y=n(5);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q={cellShowMessage:A.b.cellShowMessage,cellShowMessages:A.b.cellShowMessages,setData:A.b.setData,saveSuccess:A.b.saveSuccess,removeSuccess:A.b.removeSuccess,saveFail:A.b.saveFail,removeFail:A.b.removeFail},ee=[{navLabel:"Default",navKey:1,navPath:"/default",navComponent:J},{navLabel:"Paginated",navKey:2,navPath:"/paginated",navComponent:Object(p.connect)(function(e){return{allData:e.datagrid.getIn([k.id,"allData"],Object(g.List)()),createData:e.datagrid.getIn([k.id,"createData"],Object(g.List)()),editData:e.datagrid.getIn([k.id,"editData"],Object(g.Map)()),selectedItems:e.datagrid.getIn([k.id,"selectedItems"],Object(g.List)()),isEditing:e.datagrid.getIn([k.id,"session","isEditing"],!1)}},Q)((q=W=function(e){var t,n;function a(){var t;$(Z(t=e.call(this)||this),"getRegionComponent",function(){var e=t.state.region,n="Region: "+(w[e]||"");return r.a.createElement(f.a,{id:"region-selector",title:n},Object.keys(w).map(function(n){return r.a.createElement(m.a,{eventKey:n,key:n,active:n===e,onSelect:t.handleRegionSelect},w[n])}))}),$(Z(t),"filter",function(e,t){return Object(g.fromJS)(t).filter(function(t){var n=0;return e.forEach(function(e,a){x.forEach(function(r){if(Y.a.getColumnKey(r)===a){var i=t.getIn(r.valueKeyPath);if(i||0===i||!1===i)Y.a.getFilterMatcher(r,k.dateFormat)(t,e)&&(n+=1)}})}),n===e.size}).toJS()}),$(Z(t),"sort",function(e,t,n){var a;if(x.forEach(function(t){Y.a.getColumnKey(t)===e&&(a=t)}),!a)return!1;var r=Y.a.getSortComparator(a),i=Y.a.getSortValueGetter(a),o=Y.a.getValueEmptyChecker(a);return Object(g.fromJS)(n).sort(function(e,n){var a=i(e),l=i(n);return"asc"===t?o(a)?-1:o(l)?1:r(a,l):o(a)?1:o(l)?-1:r(l,a)}).toJS()}),$(Z(t),"requestData",function(e,n,a,r,i){var o=t.props.totalSize,l=N(o);a&&!a.isEmpty()&&(l=t.filter(a,l)),r&&(l=t.sort(r,i,l)),t.setState({totalSize:l.length}),console.log("offset "+e+" count "+n+" filters "+JSON.stringify(a)+" sortColumn "+r+" sortOder "+i);var s=l.slice(e,e+n);t.props.setData(k,x,s)}),$(Z(t),"handleRegionSelect",function(e){var n=I(e),a=n.dateFormat,r=n.thousandSeparator,i=n.decimalSeparator,o=X({},k,{region:e,dateFormat:a,decimalSeparator:i,thousandSeparator:r});t.setState({gridSettings:o,region:e})}),$(Z(t),"handleWarnClick",function(){t.props.cellShowMessage(k,"warning",3,["float"],"Warning")}),$(Z(t),"handleInfoClick",function(){var e=Object(g.Map)().setIn(["info",1],Object(g.Map)({text:"Text message 1",date:"Date message 1"})).setIn(["info",3],Object(g.Map)({text:"Text message 3"}));t.props.cellShowMessages(k,e)}),$(Z(t),"handleOnSave",function(){var e=t.props,n=e.createData,a=e.editData,r=e.allData,i=[];n.size?i=n.toJS():a.size&&a.forEach(function(e,t){var n=r.find(function(e){return e.getIn(k.idKeyPath)===t});n&&i.push(n.merge(e))});var o=i;t.props.saveSuccess(k,x,o)}),$(Z(t),"handleOnRemove",function(){var e=t.props.selectedItems.toJS();t.props.removeSuccess(k,e)}),$(Z(t),"handleContextClick",function(e,t){console.log("Context menu clicked"),console.log("ID's "+e.join(", ")),console.table(t.toSJ())});var n=I("en-GB"),a=n.dateFormat,i=n.thousandSeparator,o=n.decimalSeparator,l=X({},k,{dateFormat:a,decimalSeparator:o,thousandSeparator:i});return t.state={gridSettings:l,region:"en-GB",totalSize:100},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.pageSize,t=this.state.totalSize,n=this.props.isEditing&&0===this.props.editData.size,a=r.a.createElement(h.a,{inline:!0,style:{marginLeft:"20px"}},r.a.createElement(C.a,{onClick:this.handleWarnClick},"Show Warning"),r.a.createElement(C.a,{onClick:this.handleInfoClick},"Show Info"),this.getRegionComponent());return r.a.createElement(A.a,{id:"test-grid",className:"test-grid",grid:this.state.gridSettings,gridHeader:"Example Grid",columns:x,disableActionSave:n,actionBarLeft:a,filtering:!0,columnSettings:!0,inlineEdit:!0,removing:!0,multiSelect:!0,rowSelect:!0,rowSelectCheckboxColumn:!0,enableArrowNavigation:!0,onSave:this.handleOnSave,onRemove:this.handleOnRemove,contextMenuItems:[{value:"Selected items are used",onClick:this.handleContextClick,disabled:function(e,t){return t.count(function(e){return!0===e.get("isUsed",!1)})!==t.size}},{value:"View more details...",onClick:this.handleContextClick}],pagination:{pageSize:e,totalSize:t,getData:this.requestData}})},a}(r.a.Component),$(W,"defaultProps",{pageSize:50,totalSize:100}),H=q))||H}],te=n(72),ne=function(){return r.a.createElement(te.d,null,ee.map(function(e){return r.a.createElement(te.b,{key:e.navKey,path:e.navPath,component:e.navComponent})}),r.a.createElement(te.b,{path:"*",render:function(){return r.a.createElement(te.a,{to:ee[0].navPath})}}))};t.a=function(){return r.a.createElement(i.a,{fluid:!0},r.a.createElement(o.a,null,r.a.createElement(l.a,{xs:12},r.a.createElement(o.a,null,r.a.createElement(l.a,{xs:2,md:1},r.a.createElement("h3",null,"React Grid")),r.a.createElement(l.a,{xs:8,md:10},r.a.createElement("h3",null,ee.map(function(e){var t=e.navKey,n=e.navPath,a=e.navLabel;return r.a.createElement(c.b,{key:t,href:n,to:n,style:{marginRight:"20px"},activeStyle:{fontWeight:"bold"}},a)}))),r.a.createElement(l.a,{xs:2,md:1},r.a.createElement("a",{href:"https://github.com/OpusCapita/react-grid",style:{marginTop:"20px",display:"block"}},r.a.createElement(u,null)))),r.a.createElement(s.a,{style:{height:"100%"}},r.a.createElement(ne,null)))))}},512:function(e,t,n){n(513),e.exports=n(699)},699:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),o=n(475);Object(i.render)(r.a.createElement(o.a,null),document.getElementById("oc-examples"))},714:function(e,t){},720:function(e,t){},827:function(e,t,n){var a={"./af":303,"./af.js":303,"./ar":304,"./ar-dz":305,"./ar-dz.js":305,"./ar-kw":306,"./ar-kw.js":306,"./ar-ly":307,"./ar-ly.js":307,"./ar-ma":308,"./ar-ma.js":308,"./ar-sa":309,"./ar-sa.js":309,"./ar-tn":310,"./ar-tn.js":310,"./ar.js":304,"./az":311,"./az.js":311,"./be":312,"./be.js":312,"./bg":313,"./bg.js":313,"./bm":314,"./bm.js":314,"./bn":315,"./bn.js":315,"./bo":316,"./bo.js":316,"./br":317,"./br.js":317,"./bs":318,"./bs.js":318,"./ca":319,"./ca.js":319,"./cs":320,"./cs.js":320,"./cv":321,"./cv.js":321,"./cy":322,"./cy.js":322,"./da":323,"./da.js":323,"./de":324,"./de-at":325,"./de-at.js":325,"./de-ch":326,"./de-ch.js":326,"./de.js":324,"./dv":327,"./dv.js":327,"./el":328,"./el.js":328,"./en-SG":329,"./en-SG.js":329,"./en-au":330,"./en-au.js":330,"./en-ca":331,"./en-ca.js":331,"./en-gb":332,"./en-gb.js":332,"./en-ie":333,"./en-ie.js":333,"./en-il":334,"./en-il.js":334,"./en-nz":335,"./en-nz.js":335,"./eo":336,"./eo.js":336,"./es":337,"./es-do":338,"./es-do.js":338,"./es-us":339,"./es-us.js":339,"./es.js":337,"./et":340,"./et.js":340,"./eu":341,"./eu.js":341,"./fa":342,"./fa.js":342,"./fi":343,"./fi.js":343,"./fo":344,"./fo.js":344,"./fr":345,"./fr-ca":346,"./fr-ca.js":346,"./fr-ch":347,"./fr-ch.js":347,"./fr.js":345,"./fy":348,"./fy.js":348,"./ga":349,"./ga.js":349,"./gd":350,"./gd.js":350,"./gl":351,"./gl.js":351,"./gom-latn":352,"./gom-latn.js":352,"./gu":353,"./gu.js":353,"./he":354,"./he.js":354,"./hi":355,"./hi.js":355,"./hr":356,"./hr.js":356,"./hu":357,"./hu.js":357,"./hy-am":358,"./hy-am.js":358,"./id":359,"./id.js":359,"./is":360,"./is.js":360,"./it":361,"./it-ch":362,"./it-ch.js":362,"./it.js":361,"./ja":363,"./ja.js":363,"./jv":364,"./jv.js":364,"./ka":365,"./ka.js":365,"./kk":366,"./kk.js":366,"./km":367,"./km.js":367,"./kn":368,"./kn.js":368,"./ko":369,"./ko.js":369,"./ku":370,"./ku.js":370,"./ky":371,"./ky.js":371,"./lb":372,"./lb.js":372,"./lo":373,"./lo.js":373,"./lt":374,"./lt.js":374,"./lv":375,"./lv.js":375,"./me":376,"./me.js":376,"./mi":377,"./mi.js":377,"./mk":378,"./mk.js":378,"./ml":379,"./ml.js":379,"./mn":380,"./mn.js":380,"./mr":381,"./mr.js":381,"./ms":382,"./ms-my":383,"./ms-my.js":383,"./ms.js":382,"./mt":384,"./mt.js":384,"./my":385,"./my.js":385,"./nb":386,"./nb.js":386,"./ne":387,"./ne.js":387,"./nl":388,"./nl-be":389,"./nl-be.js":389,"./nl.js":388,"./nn":390,"./nn.js":390,"./pa-in":391,"./pa-in.js":391,"./pl":392,"./pl.js":392,"./pt":393,"./pt-br":394,"./pt-br.js":394,"./pt.js":393,"./ro":395,"./ro.js":395,"./ru":396,"./ru.js":396,"./sd":397,"./sd.js":397,"./se":398,"./se.js":398,"./si":399,"./si.js":399,"./sk":400,"./sk.js":400,"./sl":401,"./sl.js":401,"./sq":402,"./sq.js":402,"./sr":403,"./sr-cyrl":404,"./sr-cyrl.js":404,"./sr.js":403,"./ss":405,"./ss.js":405,"./sv":406,"./sv.js":406,"./sw":407,"./sw.js":407,"./ta":408,"./ta.js":408,"./te":409,"./te.js":409,"./tet":410,"./tet.js":410,"./tg":411,"./tg.js":411,"./th":412,"./th.js":412,"./tl-ph":413,"./tl-ph.js":413,"./tlh":414,"./tlh.js":414,"./tr":415,"./tr.js":415,"./tzl":416,"./tzl.js":416,"./tzm":417,"./tzm-latn":418,"./tzm-latn.js":418,"./tzm.js":417,"./ug-cn":419,"./ug-cn.js":419,"./uk":420,"./uk.js":420,"./ur":421,"./ur.js":421,"./uz":422,"./uz-latn":423,"./uz-latn.js":423,"./uz.js":422,"./vi":424,"./vi.js":424,"./x-pseudo":425,"./x-pseudo.js":425,"./yo":426,"./yo.js":426,"./zh-cn":427,"./zh-cn.js":427,"./zh-hk":428,"./zh-hk.js":428,"./zh-tw":429,"./zh-tw.js":429};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=827},831:function(e,t,n){},868:function(e,t,n){},871:function(e,t,n){},892:function(e,t,n){},951:function(e,t,n){},965:function(e,t,n){},966:function(e,t,n){}});