"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactIntl = require("react-intl");

var _selectRenderers = require("./select-renderers");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var _default = {
  // booleanValueRender
  valRender: function valRender(col, rowIndex, valueRender) {
    return valueRender(rowIndex, function (v) {
      return _react["default"].createElement(_reactIntl.FormattedMessage, _extends({
        id: v ? 'Grid.Yes' : 'Grid.No'
      }, col.renderComponentProps));
    });
  },
  // booleanCellEdit
  cellEdit: function cellEdit(col, column, rowIndex, tabIndex, gridId, selectOptions, selectTranslations, valueParser, functions, getComponentDisabledState) {
    var cellName = 'edit';

    var booleanProps = _extends({
      name: "ocDatagridEditInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
      options: selectOptions,
      value: functions.getItemValue(rowIndex, col, selectOptions),
      onChange: functions.onCellValueChange(rowIndex, col, valueParser),
      onBlur: functions.onCellBlur(rowIndex, col),
      onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
      onKeyDown: functions.onCellKeyDown(rowIndex, col),
      isSearchable: false,
      isClearable: !col.isRequired,
      backSpaceRemovesValue: false,
      tabSelectsValue: false,
      openMenuOnFocus: false,
      isDisabled: getComponentDisabledState(rowIndex, col, cellName),
      ref: functions.handleCellRef(rowIndex, col),
      tabIndex: tabIndex
    }, selectTranslations, {}, col.editComponentProps);

    return (0, _selectRenderers.selectRender)(_extends({}, booleanProps));
  },
  // booleanCellCreate
  cellCreate: function cellCreate(col, column, rowIndex, tabIndex, gridId, selectOptions, selectTranslations, valueParser, functions, getComponentDisabledState) {
    var cellName = 'create'; // closeOnMenuSelect

    var booleanProps = _extends({
      name: "ocDatagridCreateInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
      options: selectOptions,
      value: functions.getItemValue(rowIndex, col, selectOptions),
      onChange: functions.onCellValueChange(rowIndex, col, valueParser),
      onBlur: functions.onCellBlur(rowIndex, col),
      onKeyDown: functions.onCellKeyDown(rowIndex, col),
      isSearchable: false,
      isClearable: !col.isRequired,
      backspaceRemovesValue: false,
      tabSelectsValue: false,
      openOnFocus: true,
      ref: functions.handleCellRef(rowIndex, col),
      isDisabled: getComponentDisabledState(rowIndex, col, cellName),
      tabIndex: tabIndex
    }, selectTranslations, {}, col.createComponentProps);

    return (0, _selectRenderers.selectRender)(_extends({}, booleanProps));
  },
  // booleanCellFilter
  cellFilter: function cellFilter(col, column, tabIndex, gridId, selectOptions, selectTranslations, filterValueParser, functions) {
    var booleanProps = _extends({
      name: "ocDatagridFilterInput-" + gridId + "-" + column.columnKey,
      options: selectOptions,
      value: functions.getItemValue(col, selectOptions),
      onChange: functions.onCellValueChange(col, filterValueParser),
      isSearchable: false,
      isClearable: true,
      tabSelectsValue: false,
      openMenuOnFocus: false,
      tabIndex: tabIndex
    }, selectTranslations, {}, col.filterComponentProps);

    return (0, _selectRenderers.selectRender)(_extends({}, booleanProps));
  }
};
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9kYXRhZ3JpZC9jb2x1bW4tc2VydmljZS9jb2x1bW4tdHlwZXMvYm9vbGVhbi1yZW5kZXJlcnMuanN4Il0sIm5hbWVzIjpbInZhbFJlbmRlciIsImNvbCIsInJvd0luZGV4IiwidmFsdWVSZW5kZXIiLCJ2IiwicmVuZGVyQ29tcG9uZW50UHJvcHMiLCJjZWxsRWRpdCIsImNvbHVtbiIsInRhYkluZGV4IiwiZ3JpZElkIiwic2VsZWN0T3B0aW9ucyIsInNlbGVjdFRyYW5zbGF0aW9ucyIsInZhbHVlUGFyc2VyIiwiZnVuY3Rpb25zIiwiZ2V0Q29tcG9uZW50RGlzYWJsZWRTdGF0ZSIsImNlbGxOYW1lIiwiYm9vbGVhblByb3BzIiwibmFtZSIsImNvbHVtbktleSIsIm9wdGlvbnMiLCJ2YWx1ZSIsImdldEl0ZW1WYWx1ZSIsIm9uQ2hhbmdlIiwib25DZWxsVmFsdWVDaGFuZ2UiLCJvbkJsdXIiLCJvbkNlbGxCbHVyIiwib25Gb2N1cyIsIm9uQ2VsbEZvY3VzIiwiY29tcG9uZW50VHlwZSIsIm9uS2V5RG93biIsIm9uQ2VsbEtleURvd24iLCJpc1NlYXJjaGFibGUiLCJpc0NsZWFyYWJsZSIsImlzUmVxdWlyZWQiLCJiYWNrU3BhY2VSZW1vdmVzVmFsdWUiLCJ0YWJTZWxlY3RzVmFsdWUiLCJvcGVuTWVudU9uRm9jdXMiLCJpc0Rpc2FibGVkIiwicmVmIiwiaGFuZGxlQ2VsbFJlZiIsImVkaXRDb21wb25lbnRQcm9wcyIsImNlbGxDcmVhdGUiLCJiYWNrc3BhY2VSZW1vdmVzVmFsdWUiLCJvcGVuT25Gb2N1cyIsImNyZWF0ZUNvbXBvbmVudFByb3BzIiwiY2VsbEZpbHRlciIsImZpbHRlclZhbHVlUGFyc2VyIiwiZmlsdGVyQ29tcG9uZW50UHJvcHMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztlQUVlO0FBQ2I7QUFDQUEsRUFBQUEsU0FGYSxxQkFFSEMsR0FGRyxFQUVFQyxRQUZGLEVBRVlDLFdB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RUFBNEJTLGFBQTVCLENBSFM7QUFJaEJZLE1BQUFBLFFBQVEsRUFBRVQsU0FBUyxDQUFDVSxpQkFBVixDQUE0QnRCLEdBQTVCLEVBQWlDNkMsaUJBQWpDLENBSk07QUFLaEJmLE1BQUFBLFlBQVksRUFBRSxLQUxFO0FBTWhCQyxNQUFBQSxXQUFXLEVBQUUsSUFORztBQU9oQkcsTUFBQUEsZUFBZSxFQUFFLEtBUEQ7QUFRaEJDLE1BQUFBLGVBQWUsRUFBRSxLQVJEO0FBU2hCNUIsTUFBQUEsUUFBUSxFQUFSQTtBQVRnQixPQVViRyxrQkFWYSxNQVdiVixHQUFHLENBQUM4QyxvQkFYUyxDQUFsQjs7QUFhQSxXQUFPLGdEQUFrQi9CLFlBQWxCLEVBQVA7QUFDRDtBQXRHWSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1hdHRlZE1lc3NhZ2UgYXMgTSB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IHsgc2VsZWN0UmVuZGVyIH0gZnJvbSAnLi9zZWxlY3QtcmVuZGVyZXJzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvLyBib29sZWFuVmFsdWVSZW5kZXJcbiAgdmFsUmVuZGVyKGNvbCwgcm93SW5kZXgsIHZhbHVlUmVuZGVyKSB7XG4gICAgcmV0dXJuIHZhbHVlUmVuZGVyKHJvd0luZGV4LCB2ID0+IChcbiAgICAgIDxNIGlkPXt2ID8gJ0dyaWQuWWVzJyA6ICdHcmlkLk5vJ30gey4uLmNvbC5yZW5kZXJDb21wb25lbnRQcm9wc30gLz5cbiAgICApKTtcbiAgfSxcbiAgLy8gYm9vbGVhbkNlbGxFZGl0XG4gIGNlbGxFZGl0KFxuICAgIGNvbCxcbiAgICBjb2x1bW4sXG4gICAgcm93SW5kZXgsXG4gICAgdGFiSW5kZXgsXG4gICAgZ3JpZElkLFxuICAgIHNlbGVjdE9wdGlvbnMsXG4gICAgc2VsZWN0VHJhbnNsYXRpb25zLFxuICAgIHZhbHVlUGFyc2VyLFxuICAgIGZ1bmN0aW9ucyxcbiAgICBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlLFxuICApIHtcbiAgICBjb25zdCBjZWxsTmFtZSA9ICdlZGl0JztcbiAgICBjb25zdCBib29sZWFuUHJvcHMgPSB7XG4gICAgICBuYW1lOiBgb2NEYXRhZ3JpZEVkaXRJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fS0ke3Jvd0luZGV4fWAsXG4gICAgICBvcHRpb25zOiBzZWxlY3RPcHRpb25zLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUocm93SW5kZXgsIGNvbCwgc2VsZWN0T3B0aW9ucyksXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb25zLm9uQ2VsbFZhbHVlQ2hhbmdlKHJvd0luZGV4LCBjb2wsIHZhbHVlUGFyc2VyKSxcbiAgICAgIG9uQmx1cjogZnVuY3Rpb25zLm9uQ2VsbEJsdXIocm93SW5kZXgsIGNvbCksXG4gICAgICBvbkZvY3VzOiBmdW5jdGlvbnMub25DZWxsRm9jdXMoY2VsbE5hbWUsIGNvbC5jb21wb25lbnRUeXBlLCByb3dJbmRleCwgY29sdW1uLmNvbHVtbktleSksXG4gICAgICBvbktleURvd246IGZ1bmN0aW9ucy5vbkNlbGxLZXlEb3duKHJvd0luZGV4LCBjb2wpLFxuICAgICAgaXNTZWFyY2hhYmxlOiBmYWxzZSxcbiAgICAgIGlzQ2xlYXJhYmxlOiAhY29sLmlzUmVxdWlyZWQsXG4gICAgICBiYWNrU3BhY2VSZW1vdmVzVmFsdWU6IGZhbHNlLFxuICAgICAgdGFiU2VsZWN0c1ZhbHVlOiBmYWxzZSxcbiAgICAgIG9wZW5NZW51T25Gb2N1czogZmFsc2UsXG4gICAgICBpc0Rpc2FibGVkOiBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlKHJvd0luZGV4LCBjb2wsIGNlbGxOYW1lKSxcbiAgICAgIHJlZjogZnVuY3Rpb25zLmhhbmRsZUNlbGxSZWYocm93SW5kZXgsIGNvbCksXG4gICAgICB0YWJJbmRleCxcbiAgICAgIC4uLnNlbGVjdFRyYW5zbGF0aW9ucyxcbiAgICAgIC4uLmNvbC5lZGl0Q29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gc2VsZWN0UmVuZGVyKHsgLi4uYm9vbGVhblByb3BzIH0pO1xuICB9LFxuICAvLyBib29sZWFuQ2VsbENyZWF0ZVxuICBjZWxsQ3JlYXRlKFxuICAgIGNvbCxcbiAgICBjb2x1bW4sXG4gICAgcm93SW5kZXgsXG4gICAgdGFiSW5kZXgsXG4gICAgZ3JpZElkLFxuICAgIHNlbGVjdE9wdGlvbnMsXG4gICAgc2VsZWN0VHJhbnNsYXRpb25zLFxuICAgIHZhbHVlUGFyc2VyLFxuICAgIGZ1bmN0aW9ucyxcbiAgICBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlLFxuICApIHtcbiAgICBjb25zdCBjZWxsTmFtZSA9ICdjcmVhdGUnO1xuICAgIC8vIGNsb3NlT25NZW51U2VsZWN0XG4gICAgY29uc3QgYm9vbGVhblByb3BzID0ge1xuICAgICAgbmFtZTogYG9jRGF0YWdyaWRDcmVhdGVJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fS0ke3Jvd0luZGV4fWAsXG4gICAgICBvcHRpb25zOiBzZWxlY3RPcHRpb25zLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUocm93SW5kZXgsIGNvbCwgc2VsZWN0T3B0aW9ucyksXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb25zLm9uQ2VsbFZhbHVlQ2hhbmdlKHJvd0luZGV4LCBjb2wsIHZhbHVlUGFyc2VyKSxcbiAgICAgIG9uQmx1cjogZnVuY3Rpb25zLm9uQ2VsbEJsdXIocm93SW5kZXgsIGNvbCksXG4gICAgICBvbktleURvd246IGZ1bmN0aW9ucy5vbkNlbGxLZXlEb3duKHJvd0luZGV4LCBjb2wpLFxuICAgICAgaXNTZWFyY2hhYmxlOiBmYWxzZSxcbiAgICAgIGlzQ2xlYXJhYmxlOiAhY29sLmlzUmVxdWlyZWQsXG4gICAgICBiYWNrc3BhY2VSZW1vdmVzVmFsdWU6IGZhbHNlLFxuICAgICAgdGFiU2VsZWN0c1ZhbHVlOiBmYWxzZSxcbiAgICAgIG9wZW5PbkZvY3VzOiB0cnVlLFxuICAgICAgcmVmOiBmdW5jdGlvbnMuaGFuZGxlQ2VsbFJlZihyb3dJbmRleCwgY29sKSxcbiAgICAgIGlzRGlzYWJsZWQ6IGdldENvbXBvbmVudERpc2FibGVkU3RhdGUocm93SW5kZXgsIGNvbCwgY2VsbE5hbWUpLFxuICAgICAgdGFiSW5kZXgsXG4gICAgICAuLi5zZWxlY3RUcmFuc2xhdGlvbnMsXG4gICAgICAuLi5jb2wuY3JlYXRlQ29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gc2VsZWN0UmVuZGVyKHsgLi4uYm9vbGVhblByb3BzIH0pO1xuICB9LFxuICAvLyBib29sZWFuQ2VsbEZpbHRlclxuICBjZWxsRmlsdGVyKFxuICAgIGNvbCxcbiAgICBjb2x1bW4sXG4gICAgdGFiSW5kZXgsXG4gICAgZ3JpZElkLFxuICAgIHNlbGVjdE9wdGlvbnMsXG4gICAgc2VsZWN0VHJhbnNsYXRpb25zLFxuICAgIGZpbHRlclZhbHVlUGFyc2VyLFxuICAgIGZ1bmN0aW9ucyxcbiAgKSB7XG4gICAgY29uc3QgYm9vbGVhblByb3BzID0ge1xuICAgICAgbmFtZTogYG9jRGF0YWdyaWRGaWx0ZXJJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fWAsXG4gICAgICBvcHRpb25zOiBzZWxlY3RPcHRpb25zLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUoY29sLCBzZWxlY3RPcHRpb25zKSxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbnMub25DZWxsVmFsdWVDaGFuZ2UoY29sLCBmaWx0ZXJWYWx1ZVBhcnNlciksXG4gICAgICBpc1NlYXJjaGFibGU6IGZhbHNlLFxuICAgICAgaXNDbGVhcmFibGU6IHRydWUsXG4gICAgICB0YWJTZWxlY3RzVmFsdWU6IGZhbHNlLFxuICAgICAgb3Blbk1lbnVPbkZvY3VzOiBmYWxzZSxcbiAgICAgIHRhYkluZGV4LFxuICAgICAgLi4uc2VsZWN0VHJhbnNsYXRpb25zLFxuICAgICAgLi4uY29sLmZpbHRlckNvbXBvbmVudFByb3BzLFxuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdFJlbmRlcih7IC4uLmJvb2xlYW5Qcm9wcyB9KTtcbiAgfSxcbn07XG4iXX0=