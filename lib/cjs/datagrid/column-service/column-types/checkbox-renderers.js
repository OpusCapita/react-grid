"use strict";

exports.__esModule = true;
exports["default"] = exports.checkboxRender = void 0;

var _react = _interopRequireDefault(require("react"));

var _fa = require("react-icons/fa");

var _reactCheckbox = _interopRequireDefault(require("@opuscapita/react-checkbox"));

var _selectRenderers = require("./select-renderers");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var checkboxRender = function checkboxRender(checkboxProps) {
  return _react["default"].createElement(_reactCheckbox["default"], checkboxProps);
};

exports.checkboxRender = checkboxRender;
var _default = {
  valRender: function valRender(rowIndex, valueRender) {
    return valueRender(rowIndex, function (v) {
      return v ? _react["default"].createElement(_fa.FaCheck, {
        size: 20
      }) : null;
    });
  },
  cellEdit: function cellEdit(col, column, rowIndex, tabIndex, gridId, functions) {
    var cellName = 'edit';

    var cbValueParser = function cbValueParser(rIndx) {
      return function () {
        return !(functions.getItemValue(rIndx, col) || false);
      };
    };

    var cbProps = _extends({
      id: "ocDatagridEditInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
      tabIndex: tabIndex,
      checked: functions.getItemValue(rowIndex, col) || false,
      onChange: functions.onCellValueChange(rowIndex, col, cbValueParser(rowIndex)),
      onKeyDown: functions.onCellKeyDown(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
      inputRef: functions.handleCellRef(rowIndex, col)
    }, col.editComponentProps);

    return checkboxRender(cbProps);
  },
  cellCreate: function cellCreate(col, column, rowIndex, tabIndex, gridId, functions) {
    var cbValueParser = function cbValueParser(rIndx) {
      return function () {
        return !(functions.getItemValue(rIndx, col) || false);
      };
    };

    var cbProps = _extends({
      id: "ocDatagridCreateInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
      tabIndex: tabIndex,
      checked: functions.getItemValue(rowIndex, col) || false,
      onChange: functions.onCellValueChange(rowIndex, col, cbValueParser(rowIndex)),
      onKeyDown: functions.onCellKeyDown(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      inputRef: functions.handleCellRef(rowIndex, col)
    }, col.createComponentProps);

    return checkboxRender(cbProps);
  },
  cellFilter: function cellFilter(col, column, tabIndex, gridId, intl, functions) {
    var cbValueParser = function cbValueParser(val) {
      return val;
    };

    var selectOptions = [{
      value: true,
      label: intl.formatMessage({
        id: 'Grid.Checked'
      })
    }, {
      value: false,
      label: intl.formatMessage({
        id: 'Grid.UnChecked'
      })
    }];
    var selectTranslations = col.selectComponentTranslations || {
      placeholder: intl.formatMessage({
        id: 'Grid.FloatingSelect.Select'
      }),
      noResultsText: intl.formatMessage({
        id: 'Grid.FloatingSelect.NoResults'
      })
    };

    var cbProps = _extends({
      name: "ocDatagridFilterInput-" + gridId + "-" + column.columnKey,
      options: selectOptions,
      value: functions.getItemValue(col, selectOptions),
      onChange: functions.onCellValueChange(col, cbValueParser),
      isSearchable: false,
      isClearable: true,
      tabSelectsValue: false,
      openMenuOnFocus: true,
      tabIndex: tabIndex
    }, col.filterComponentProps, selectTranslations); // checkbox filter is rendered as select - so use selectRender instead


    return (0, _selectRenderers.selectRender)(_extends({}, cbProps));
  }
};
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9kYXRhZ3JpZC9jb2x1bW4tc2VydmljZS9jb2x1bW4tdHlwZXMvY2hlY2tib3gtcmVuZGVyZXJzLmpzeCJdLCJuYW1lcyI6WyJjaGVja2JveFJlbmRlciIsImNoZWNrYm94UHJvcHMiLCJ2YWxSZW5kZXIiLCJyb3dJbmRleCIsInZhbHVlUmVuZGVyIiwidiIsImNlbGxFZGl0IiwiY29sIiwiY29sdW1uIiwidGFiSW5kZXgiLCJncmlkSWQiLCJmdW5jdGlvbnMiLCJjZWxsTmFtZSIsImNiVmFsdWVQYXJzZXIiLCJySW5keCIsImdldEl0ZW1WYWx1ZSIsImNiUHJvcHMiLCJpZCIsImNvbHVtbktleSIsImNoZWNrZWQiLCJvbkNoYW5nZSIsIm9uQ2VsbFZhbHVlQ2hhbmdlIiwib25LZXlEb3duIiwib25DZWxsS2V5RG93biIsIm9uQmx1ciIsIm9uQ2VsbEJsdXIiLCJvbkZvY3VzIiwib25DZWxsRm9jdXMiLCJjb21wb25lbnRUeXBlIiwiaW5wdXRSZWYiLCJoYW5kbGVDZWxsUmVmIiwiZWRpdENvbXBvbmVudFByb3BzIiwiY2VsbENyZWF0ZSIsImNyZWF0ZUNvbXBvbmVudFByb3BzIiwiY2VsbEZpbHRlciIsImludGwiLCJ2YWwiLCJzZWxlY3RPcHRpb25zIiwidmFsdWUiLCJsYWJlbCIsImZvcm1hdE1lc3NhZ2UiLCJzZWxlY3RUcmFuc2xhdGlvbnMiLCJzZWxlY3RDb21wb25lbnRUcmFuc2xhdGlvbnMiLCJwbGFjZWhvbGRlciIsIm5vUmVzdWx0c1RleHQiLCJuYW1lIiwib3B0aW9ucyIsImlzU2VhcmNoYWJsZSIsImlzQ2xlYXJhYmxlIiwidGFiU2VsZWN0c1ZhbHVlIiwib3Blbk1lbnVPbkZvY3VzIiwiZmlsdGVyQ29tcG9uZW50UHJvcHMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVPLElBQU1BLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsQ0FBQUMsYUFBYTtBQUFBLFNBQUks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LENBQUNLLGFBQUwsQ0FBbUI7QUFBRXZCLFFBQUFBLEVBQUUsRUFBRTtBQUFOLE9BQW5CO0FBRjZDLEtBQTlEOztBQUlBLFFBQU1ELE9BQU87QUFDWDZCLE1BQUFBLElBQUksNkJBQTJCbkMsTUFBM0IsU0FBcUNGLE1BQU0sQ0FBQ1UsU0FEckM7QUFFWDRCLE1BQUFBLE9BQU8sRUFBRVQsYUFGRTtBQUdYQyxNQUFBQSxLQUFLLEVBQUUzQixTQUFTLENBQUNJLFlBQVYsQ0FBdUJSLEdBQXZCLEVBQTRCOEIsYUFBNUIsQ0FISTtBQUlYakIsTUFBQUEsUUFBUSxFQUFFVCxTQUFTLENBQUNVLGlCQUFWLENBQTRCZCxHQUE1QixFQUFpQ00sYUFBakMsQ0FKQztBQUtYa0MsTUFBQUEsWUFBWSxFQUFFLEtBTEg7QUFNWEMsTUFBQUEsV0FBVyxFQUFFLElBTkY7QUFPWEMsTUFBQUEsZUFBZSxFQUFFLEtBUE47QUFRWEMsTUFBQUEsZUFBZSxFQUFFLElBUk47QUFTWHpDLE1BQUFBLFFBQVEsRUFBUkE7QUFUVyxPQVVSRixHQUFHLENBQUM0QyxvQkFWSSxFQVdSVixrQkFYUSxDQUFiLENBVnlELENBdUJ6RDs7O0FBQ0EsV0FBTyxnREFBa0J6QixPQUFsQixFQUFQO0FBQ0Q7QUE5RFksQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGYUNoZWNrIH0gZnJvbSAncmVhY3QtaWNvbnMvZmEnO1xuaW1wb3J0IENoZWNrYm94IGZyb20gJ0BvcHVzY2FwaXRhL3JlYWN0LWNoZWNrYm94JztcbmltcG9ydCB7IHNlbGVjdFJlbmRlciB9IGZyb20gJy4vc2VsZWN0LXJlbmRlcmVycyc7XG5cbmV4cG9ydCBjb25zdCBjaGVja2JveFJlbmRlciA9IGNoZWNrYm94UHJvcHMgPT4gPENoZWNrYm94IHsuLi5jaGVja2JveFByb3BzfSAvPjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICB2YWxSZW5kZXIocm93SW5kZXgsIHZhbHVlUmVuZGVyKSB7XG4gICAgcmV0dXJuIHZhbHVlUmVuZGVyKHJvd0luZGV4LCB2ID0+ICh2ID8gPEZhQ2hlY2sgc2l6ZT17MjB9IC8+IDogbnVsbCkpO1xuICB9LFxuXG4gIGNlbGxFZGl0KGNvbCwgY29sdW1uLCByb3dJbmRleCwgdGFiSW5kZXgsIGdyaWRJZCwgZnVuY3Rpb25zKSB7XG4gICAgY29uc3QgY2VsbE5hbWUgPSAnZWRpdCc7XG4gICAgY29uc3QgY2JWYWx1ZVBhcnNlciA9IHJJbmR4ID0+ICgpID0+ICEoZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShySW5keCwgY29sKSB8fCBmYWxzZSk7XG4gICAgY29uc3QgY2JQcm9wcyA9IHtcbiAgICAgIGlkOiBgb2NEYXRhZ3JpZEVkaXRJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fS0ke3Jvd0luZGV4fWAsXG4gICAgICB0YWJJbmRleCxcbiAgICAgIGNoZWNrZWQ6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUocm93SW5kZXgsIGNvbCkgfHwgZmFsc2UsXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb25zLm9uQ2VsbFZhbHVlQ2hhbmdlKHJvd0luZGV4LCBjb2wsIGNiVmFsdWVQYXJzZXIocm93SW5kZXgpKSxcbiAgICAgIG9uS2V5RG93bjogZnVuY3Rpb25zLm9uQ2VsbEtleURvd24ocm93SW5kZXgsIGNvbCksXG4gICAgICBvbkJsdXI6IGZ1bmN0aW9ucy5vbkNlbGxCbHVyKHJvd0luZGV4LCBjb2wpLFxuICAgICAgb25Gb2N1czogZnVuY3Rpb25zLm9uQ2VsbEZvY3VzKGNlbGxOYW1lLCBjb2wuY29tcG9uZW50VHlwZSwgcm93SW5kZXgsIGNvbHVtbi5jb2x1bW5LZXkpLFxuICAgICAgaW5wdXRSZWY6IGZ1bmN0aW9ucy5oYW5kbGVDZWxsUmVmKHJvd0luZGV4LCBjb2wpLFxuICAgICAgLi4uY29sLmVkaXRDb21wb25lbnRQcm9wcyxcbiAgICB9O1xuICAgIHJldHVybiBjaGVja2JveFJlbmRlcihjYlByb3BzKTtcbiAgfSxcblxuICBjZWxsQ3JlYXRlKGNvbCwgY29sdW1uLCByb3dJbmRleCwgdGFiSW5kZXgsIGdyaWRJZCwgZnVuY3Rpb25zKSB7XG4gICAgY29uc3QgY2JWYWx1ZVBhcnNlciA9IHJJbmR4ID0+ICgpID0+ICEoZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShySW5keCwgY29sKSB8fCBmYWxzZSk7XG4gICAgY29uc3QgY2JQcm9wcyA9IHtcbiAgICAgIGlkOiBgb2NEYXRhZ3JpZENyZWF0ZUlucHV0LSR7Z3JpZElkfS0ke2NvbHVtbi5jb2x1bW5LZXl9LSR7cm93SW5kZXh9YCxcbiAgICAgIHRhYkluZGV4LFxuICAgICAgY2hlY2tlZDogZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShyb3dJbmRleCwgY29sKSB8fCBmYWxzZSxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbnMub25DZWxsVmFsdWVDaGFuZ2Uocm93SW5kZXgsIGNvbCwgY2JWYWx1ZVBhcnNlcihyb3dJbmRleCkpLFxuICAgICAgb25LZXlEb3duOiBmdW5jdGlvbnMub25DZWxsS2V5RG93bihyb3dJbmRleCwgY29sKSxcbiAgICAgIG9uQmx1cjogZnVuY3Rpb25zLm9uQ2VsbEJsdXIocm93SW5kZXgsIGNvbCksXG4gICAgICBpbnB1dFJlZjogZnVuY3Rpb25zLmhhbmRsZUNlbGxSZWYocm93SW5kZXgsIGNvbCksXG4gICAgICAuLi5jb2wuY3JlYXRlQ29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gY2hlY2tib3hSZW5kZXIoY2JQcm9wcyk7XG4gIH0sXG5cbiAgY2VsbEZpbHRlcihjb2wsIGNvbHVtbiwgdGFiSW5kZXgsIGdyaWRJZCwgaW50bCwgZnVuY3Rpb25zKSB7XG4gICAgY29uc3QgY2JWYWx1ZVBhcnNlciA9IHZhbCA9PiB2YWw7XG4gICAgY29uc3Qgc2VsZWN0T3B0aW9ucyA9IFtcbiAgICAgIHsgdmFsdWU6IHRydWUsIGxhYmVsOiBpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0dyaWQuQ2hlY2tlZCcgfSkgfSxcbiAgICAgIHsgdmFsdWU6IGZhbHNlLCBsYWJlbDogaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdHcmlkLlVuQ2hlY2tlZCcgfSkgfSxcbiAgICBdO1xuICAgIGNvbnN0IHNlbGVjdFRyYW5zbGF0aW9ucyA9IGNvbC5zZWxlY3RDb21wb25lbnRUcmFuc2xhdGlvbnMgfHwge1xuICAgICAgcGxhY2Vob2xkZXI6IGludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnR3JpZC5GbG9hdGluZ1NlbGVjdC5TZWxlY3QnIH0pLFxuICAgICAgbm9SZXN1bHRzVGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdHcmlkLkZsb2F0aW5nU2VsZWN0Lk5vUmVzdWx0cycgfSksXG4gICAgfTtcbiAgICBjb25zdCBjYlByb3BzID0ge1xuICAgICAgbmFtZTogYG9jRGF0YWdyaWRGaWx0ZXJJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fWAsXG4gICAgICBvcHRpb25zOiBzZWxlY3RPcHRpb25zLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUoY29sLCBzZWxlY3RPcHRpb25zKSxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbnMub25DZWxsVmFsdWVDaGFuZ2UoY29sLCBjYlZhbHVlUGFyc2VyKSxcbiAgICAgIGlzU2VhcmNoYWJsZTogZmFsc2UsXG4gICAgICBpc0NsZWFyYWJsZTogdHJ1ZSxcbiAgICAgIHRhYlNlbGVjdHNWYWx1ZTogZmFsc2UsXG4gICAgICBvcGVuTWVudU9uRm9jdXM6IHRydWUsXG4gICAgICB0YWJJbmRleCxcbiAgICAgIC4uLmNvbC5maWx0ZXJDb21wb25lbnRQcm9wcyxcbiAgICAgIC4uLnNlbGVjdFRyYW5zbGF0aW9ucyxcbiAgICB9O1xuICAgIC8vIGNoZWNrYm94IGZpbHRlciBpcyByZW5kZXJlZCBhcyBzZWxlY3QgLSBzbyB1c2Ugc2VsZWN0UmVuZGVyIGluc3RlYWRcbiAgICByZXR1cm4gc2VsZWN0UmVuZGVyKHsgLi4uY2JQcm9wcyB9KTtcbiAgfSxcbn07XG4iXX0=