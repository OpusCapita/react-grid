'use strict';

exports.__esModule = true;
exports.checkboxRender = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _check = require('react-icons/lib/fa/check');

var _check2 = _interopRequireDefault(_check);

var _reactCheckbox = require('@opuscapita/react-checkbox');

var _reactCheckbox2 = _interopRequireDefault(_reactCheckbox);

var _selectRenderers = require('./select-renderers');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var checkboxRender = exports.checkboxRender = function checkboxRender(checkboxProps) {
  return _react2.default.createElement(_reactCheckbox2.default, checkboxProps);
};

exports.default = {
  valRender: function valRender(rowIndex, valueRender) {
    return valueRender(rowIndex, function (v) {
      return v ? _react2.default.createElement(_check2.default, { size: 20 }) : null;
    });
  },
  cellEdit: function cellEdit(col, column, rowIndex, tabIndex, gridId, functions) {
    var cellName = 'edit';
    var cbValueParser = function cbValueParser(rIndx) {
      return function () {
        return !(functions.getItemValue(rIndx, col) || false);
      };
    };
    var cbProps = _extends({
      id: 'ocDatagridEditInput-' + gridId + '-' + column.columnKey + '-' + rowIndex,
      tabIndex: tabIndex,
      checked: functions.getItemValue(rowIndex, col) || false,
      onChange: functions.onCellValueChange(rowIndex, col, cbValueParser(rowIndex)),
      onBlur: functions.onCellBlur(rowIndex, col),
      onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
      ref: functions.handleCellRef(rowIndex, col)
    }, col.editComponentProps);
    return checkboxRender(cbProps);
  },
  cellCreate: function cellCreate(col, column, rowIndex, tabIndex, gridId, functions) {
    var cbValueParser = function cbValueParser(rIndx) {
      return function () {
        return !(functions.getItemValue(rIndx, col) || false);
      };
    };
    var cbProps = _extends({
      id: 'ocDatagridCreateInput-' + gridId + '-' + column.columnKey + '-' + rowIndex,
      tabIndex: tabIndex,
      checked: functions.getItemValue(rowIndex, col) || false,
      onChange: functions.onCellValueChange(rowIndex, col, cbValueParser(rowIndex)),
      onBlur: functions.onCellBlur(rowIndex, col),
      inputRef: functions.handleCellRef(rowIndex, col)
    }, col.createComponentProps);
    return checkboxRender(cbProps);
  },
  cellFilter: function cellFilter(col, column, tabIndex, gridId, intl, functions) {
    var cbValueParser = function cbValueParser(val) {
      return val;
    };
    var selectOptions = [{ value: true, label: intl.formatMessage({ id: 'Grid.Checked' }) }, { value: false, label: intl.formatMessage({ id: 'Grid.UnChecked' }) }];
    var selectTranslations = col.selectComponentTranslations || {
      placeholder: intl.formatMessage({ id: 'Grid.FloatingSelect.Select' }),
      noResultsText: intl.formatMessage({ id: 'Grid.FloatingSelect.NoResults' })
    };
    var cbProps = _extends({
      name: 'ocDatagridFilterInput-' + gridId + '-' + column.columnKey,
      options: selectOptions,
      value: functions.getItemValue(col, selectOptions),
      onChange: functions.onCellValueChange(col, cbValueParser),
      isSearchable: false,
      isClearable: true,
      tabSelectsValue: false,
      openMenuOnFocus: true,
      tabIndex: tabIndex
    }, col.filterComponentProps, selectTranslations);
    // checkbox filter is rendered as select - so use selectRender instead
    return (0, _selectRenderers.selectRender)(_extends({}, cbProps));
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9kYXRhZ3JpZC9jb2x1bW4tc2VydmljZS9jb2x1bW4tdHlwZXMvY2hlY2tib3gtcmVuZGVyZXJzLmpzeCJdLCJuYW1lcyI6WyJjaGVja2JveFJlbmRlciIsImNoZWNrYm94UHJvcHMiLCJ2YWxSZW5kZXIiLCJyb3dJbmRleCIsInZhbHVlUmVuZGVyIiwidiIsImNlbGxFZGl0IiwiY29sIiwiY29sdW1uIiwidGFiSW5kZXgiLCJncmlkSWQiLCJmdW5jdGlvbnMiLCJjZWxsTmFtZSIsImNiVmFsdWVQYXJzZXIiLCJnZXRJdGVtVmFsdWUiLCJySW5keCIsImNiUHJvcHMiLCJpZCIsImNvbHVtbktleSIsImNoZWNrZWQiLCJvbkNoYW5nZSIsIm9uQ2VsbFZhbHVlQ2hhbmdlIiwib25CbHVyIiwib25DZWxsQmx1ciIsIm9uRm9jdXMiLCJvbkNlbGxGb2N1cyIsImNvbXBvbmVudFR5cGUiLCJyZWYiLCJoYW5kbGVDZWxsUmVmIiwiZWRpdENvbXBvbmVudFByb3BzIiwiY2VsbENyZWF0ZSIsImlucHV0UmVmIiwiY3JlYXRlQ29tcG9uZW50UHJvcHMiLCJjZWxsRmlsdGVyIiwiaW50bCIsInZhbCIsInNlbGVjdE9wdGlvbnMiLCJ2YWx1ZSIsImxhYmVsIiwiZm9ybWF0TWVzc2FnZSIsInNlbGVjdFRyYW5zbGF0aW9ucyIsInNlbGVjdENvbXBvbmVudFRyYW5zbGF0aW9ucyIsInBsYWNlaG9sZGVyIiwibm9SZXN1bHRzVGV4dCIsIm5hbWUiLCJvcHRpb25zIiwiaXNTZWFyY2hhYmxlIiwiaXNDbGVhcmFibGUiLCJ0YWJTZWxlY3RzVmFsdWUiLCJvcGVuTWVudU9uRm9jdXMiLCJmaWx0ZXJDb21wb25lbnRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRU8sSUFBTUEsMENBQWlCLFNBQWpCQSxjQUFpQjtBQUFBLFNBQWtCLDhCQUFDLHVCQUFELEVBQWNDLGFBQWQsQ0FBbEI7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QixDQUF0QixFQURvQixFQUVwQixFQUFFb0IsT0FBTyxLQUFULEVBQWdCQyxPQUFPSixLQUFLSyxhQUFMLENBQW1CLEVBQUV0QixJQUFJLGdCQUFOLEVBQW5CLENBQXZCLEVBRm9CLENBQXRCO0FBSUEsUUFBTXVCLHFCQUFxQmpDLElBQUlrQywyQkFBSixJQUFtQztBQUM1REMsbUJBQWFSLEtBQUtLLGFBQUwsQ0FBbUIsRUFBRXRCLElBQUksNEJBQU4sRUFBbkIsQ0FEK0M7QUFFNUQwQixxQkFBZVQsS0FBS0ssYUFBTCxDQUFtQixFQUFFdEIsSUFBSSwrQkFBTixFQUFuQjtBQUY2QyxLQUE5RDtBQUlBLFFBQU1EO0FBQ0o0Qix1Q0FBK0JsQyxNQUEvQixTQUF5Q0YsT0FBT1UsU0FENUM7QUFFSjJCLGVBQVNULGFBRkw7QUFHSkMsYUFBTzFCLFVBQVVHLFlBQVYsQ0FBdUJQLEdBQXZCLEVBQTRCNkIsYUFBNUIsQ0FISDtBQUlKaEIsZ0JBQVVULFVBQVVVLGlCQUFWLENBQTRCZCxHQUE1QixFQUFpQ00sYUFBakMsQ0FKTjtBQUtKaUMsb0JBQWMsS0FMVjtBQU1KQyxtQkFBYSxJQU5UO0FBT0pDLHVCQUFpQixLQVBiO0FBUUpDLHVCQUFpQixJQVJiO0FBU0p4QztBQVRJLE9BVURGLElBQUkyQyxvQkFWSCxFQVdEVixrQkFYQyxDQUFOO0FBYUE7QUFDQSxXQUFPLGdEQUFrQnhCLE9BQWxCLEVBQVA7QUFDRDtBQTdEWSxDIiwiZmlsZSI6ImNoZWNrYm94LXJlbmRlcmVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRmFDaGVjayBmcm9tICdyZWFjdC1pY29ucy9saWIvZmEvY2hlY2snO1xuaW1wb3J0IENoZWNrYm94IGZyb20gJ0BvcHVzY2FwaXRhL3JlYWN0LWNoZWNrYm94JztcbmltcG9ydCB7IHNlbGVjdFJlbmRlciB9IGZyb20gJy4vc2VsZWN0LXJlbmRlcmVycyc7XG5cbmV4cG9ydCBjb25zdCBjaGVja2JveFJlbmRlciA9IGNoZWNrYm94UHJvcHMgPT4gKDxDaGVja2JveCB7Li4uY2hlY2tib3hQcm9wc30gLz4pO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgdmFsUmVuZGVyKHJvd0luZGV4LCB2YWx1ZVJlbmRlcikge1xuICAgIHJldHVybiB2YWx1ZVJlbmRlcihyb3dJbmRleCwgdiA9PiAodiA/IDxGYUNoZWNrIHNpemU9ezIwfSAvPiA6IG51bGwpKTtcbiAgfSxcblxuICBjZWxsRWRpdChjb2wsIGNvbHVtbiwgcm93SW5kZXgsIHRhYkluZGV4LCBncmlkSWQsIGZ1bmN0aW9ucykge1xuICAgIGNvbnN0IGNlbGxOYW1lID0gJ2VkaXQnO1xuICAgIGNvbnN0IGNiVmFsdWVQYXJzZXIgPSBySW5keCA9PiAoKSA9PiAhKGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUockluZHgsIGNvbCkgfHwgZmFsc2UpO1xuICAgIGNvbnN0IGNiUHJvcHMgPSB7XG4gICAgICBpZDogYG9jRGF0YWdyaWRFZGl0SW5wdXQtJHtncmlkSWR9LSR7Y29sdW1uLmNvbHVtbktleX0tJHtyb3dJbmRleH1gLFxuICAgICAgdGFiSW5kZXgsXG4gICAgICBjaGVja2VkOiBmdW5jdGlvbnMuZ2V0SXRlbVZhbHVlKHJvd0luZGV4LCBjb2wpIHx8IGZhbHNlLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9ucy5vbkNlbGxWYWx1ZUNoYW5nZShyb3dJbmRleCwgY29sLCBjYlZhbHVlUGFyc2VyKHJvd0luZGV4KSksXG4gICAgICBvbkJsdXI6IGZ1bmN0aW9ucy5vbkNlbGxCbHVyKHJvd0luZGV4LCBjb2wpLFxuICAgICAgb25Gb2N1czogZnVuY3Rpb25zLm9uQ2VsbEZvY3VzKGNlbGxOYW1lLCBjb2wuY29tcG9uZW50VHlwZSwgcm93SW5kZXgsIGNvbHVtbi5jb2x1bW5LZXkpLFxuICAgICAgcmVmOiBmdW5jdGlvbnMuaGFuZGxlQ2VsbFJlZihyb3dJbmRleCwgY29sKSxcbiAgICAgIC4uLmNvbC5lZGl0Q29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gY2hlY2tib3hSZW5kZXIoY2JQcm9wcyk7XG4gIH0sXG5cbiAgY2VsbENyZWF0ZShjb2wsIGNvbHVtbiwgcm93SW5kZXgsIHRhYkluZGV4LCBncmlkSWQsIGZ1bmN0aW9ucykge1xuICAgIGNvbnN0IGNiVmFsdWVQYXJzZXIgPSBySW5keCA9PiAoKSA9PiAhKGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUockluZHgsIGNvbCkgfHwgZmFsc2UpO1xuICAgIGNvbnN0IGNiUHJvcHMgPSB7XG4gICAgICBpZDogYG9jRGF0YWdyaWRDcmVhdGVJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fS0ke3Jvd0luZGV4fWAsXG4gICAgICB0YWJJbmRleCxcbiAgICAgIGNoZWNrZWQ6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUocm93SW5kZXgsIGNvbCkgfHwgZmFsc2UsXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb25zLm9uQ2VsbFZhbHVlQ2hhbmdlKHJvd0luZGV4LCBjb2wsIGNiVmFsdWVQYXJzZXIocm93SW5kZXgpKSxcbiAgICAgIG9uQmx1cjogZnVuY3Rpb25zLm9uQ2VsbEJsdXIocm93SW5kZXgsIGNvbCksXG4gICAgICBpbnB1dFJlZjogZnVuY3Rpb25zLmhhbmRsZUNlbGxSZWYocm93SW5kZXgsIGNvbCksXG4gICAgICAuLi5jb2wuY3JlYXRlQ29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gY2hlY2tib3hSZW5kZXIoY2JQcm9wcyk7XG4gIH0sXG5cbiAgY2VsbEZpbHRlcihjb2wsIGNvbHVtbiwgdGFiSW5kZXgsIGdyaWRJZCwgaW50bCwgZnVuY3Rpb25zKSB7XG4gICAgY29uc3QgY2JWYWx1ZVBhcnNlciA9IHZhbCA9PiB2YWw7XG4gICAgY29uc3Qgc2VsZWN0T3B0aW9ucyA9IFtcbiAgICAgIHsgdmFsdWU6IHRydWUsIGxhYmVsOiBpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0dyaWQuQ2hlY2tlZCcgfSkgfSxcbiAgICAgIHsgdmFsdWU6IGZhbHNlLCBsYWJlbDogaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdHcmlkLlVuQ2hlY2tlZCcgfSkgfSxcbiAgICBdO1xuICAgIGNvbnN0IHNlbGVjdFRyYW5zbGF0aW9ucyA9IGNvbC5zZWxlY3RDb21wb25lbnRUcmFuc2xhdGlvbnMgfHwge1xuICAgICAgcGxhY2Vob2xkZXI6IGludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnR3JpZC5GbG9hdGluZ1NlbGVjdC5TZWxlY3QnIH0pLFxuICAgICAgbm9SZXN1bHRzVGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdHcmlkLkZsb2F0aW5nU2VsZWN0Lk5vUmVzdWx0cycgfSksXG4gICAgfTtcbiAgICBjb25zdCBjYlByb3BzID0ge1xuICAgICAgbmFtZTogYG9jRGF0YWdyaWRGaWx0ZXJJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fWAsXG4gICAgICBvcHRpb25zOiBzZWxlY3RPcHRpb25zLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUoY29sLCBzZWxlY3RPcHRpb25zKSxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbnMub25DZWxsVmFsdWVDaGFuZ2UoY29sLCBjYlZhbHVlUGFyc2VyKSxcbiAgICAgIGlzU2VhcmNoYWJsZTogZmFsc2UsXG4gICAgICBpc0NsZWFyYWJsZTogdHJ1ZSxcbiAgICAgIHRhYlNlbGVjdHNWYWx1ZTogZmFsc2UsXG4gICAgICBvcGVuTWVudU9uRm9jdXM6IHRydWUsXG4gICAgICB0YWJJbmRleCxcbiAgICAgIC4uLmNvbC5maWx0ZXJDb21wb25lbnRQcm9wcyxcbiAgICAgIC4uLnNlbGVjdFRyYW5zbGF0aW9ucyxcbiAgICB9O1xuICAgIC8vIGNoZWNrYm94IGZpbHRlciBpcyByZW5kZXJlZCBhcyBzZWxlY3QgLSBzbyB1c2Ugc2VsZWN0UmVuZGVyIGluc3RlYWRcbiAgICByZXR1cm4gc2VsZWN0UmVuZGVyKHsgLi4uY2JQcm9wcyB9KTtcbiAgfSxcbn07XG4iXX0=