function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

import React from 'react';
import FormattedInput from '@opuscapita/react-formatted-input';
import { formatNumber } from '@opuscapita/format-utils';
export var primitiveRender = function primitiveRender(formattedInputProps) {
  return React.createElement(FormattedInput, formattedInputProps);
};
export default {
  // primitiveNumberValueRender
  numberValRender: function numberValRender(col, rowIndex, thousandSeparator, decimalSeparator, valueRender) {
    var decimals = col.componentType === 'number' ? 0 : 2;
    return valueRender(rowIndex, function (v) {
      return formatNumber(v, {
        decimals: col.valueOptions && col.valueOptions.decimals || decimals,
        thousandSeparator: col.valueOptions && col.valueOptions.thousandSeparator || thousandSeparator,
        decimalSeparator: col.valueOptions && col.valueOptions.decimalSeparator || decimalSeparator
      });
    });
  },
  // primitiveCellEdit
  cellEdit: function cellEdit(col, column, rowIndex, tabIndex, gridId, editValueParser, formControlType, functions, getComponentDisabledState) {
    var cellName = 'edit';

    var primitiveProps = _extends({
      className: 'form-control',
      inputProps: {
        tabIndex: tabIndex,
        disabled: getComponentDisabledState(rowIndex, col, cellName),
        id: "ocDatagridEditInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
        onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
        onKeyDown: functions.onCellKeyDown(rowIndex, col),
        ref: functions.handleCellRef(rowIndex, col),
        style: column.style,
        type: formControlType
      },
      value: functions.getItemValue(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      editFormatter: editValueParser,
      onChange: functions.onCellValueChange(rowIndex, col, editValueParser)
    }, col.editComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  },
  // primitiveCellCreate
  cellCreate: function cellCreate(col, column, rowIndex, tabIndex, gridId, createValueParser, formControlType, functions, getComponentDisabledState) {
    var cellName = 'create';

    var primitiveProps = _extends({
      className: 'form-control',
      inputProps: {
        tabIndex: tabIndex,
        disabled: getComponentDisabledState(rowIndex, col, cellName),
        id: "ocDatagridCreateInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
        onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
        onKeyDown: functions.onCellKeyDown(rowIndex, col, false),
        ref: functions.handleCellRef(rowIndex, col),
        style: column.style,
        type: formControlType || col.componentType
      },
      value: functions.getItemValue(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      onChange: functions.onCellValueChange(rowIndex, col, createValueParser)
    }, col.createComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  },
  // primitiveCellFilter
  cellFilter: function cellFilter(col, column, tabIndex, gridId, filterValueParser, formControlType, functions) {
    var primitiveProps = _extends({
      className: 'form-control',
      inputProps: {
        tabIndex: tabIndex,
        id: "ocDatagridFilterInput-" + gridId + "-" + column.columnKey,
        style: column.style,
        type: formControlType
      },
      value: functions.getItemValue(col),
      onChange: functions.onCellValueChange(col, filterValueParser)
    }, col.filterComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9kYXRhZ3JpZC9jb2x1bW4tc2VydmljZS9jb2x1bW4tdHlwZXMvcHJpbWl0aXZlLXJlbmRlcmVycy5qc3giXSwibmFtZXMiOlsiUmVhY3QiLCJGb3JtYXR0ZWRJbnB1dCIsImZvcm1hdE51bWJlciIsInByaW1pdGl2ZVJlbmRlciIsImZvcm1hdHRlZElucHV0UHJvcHMiLCJudW1iZXJWYWxSZW5kZXIiLCJjb2wiLCJyb3dJbmRleCIsInRob3VzYW5kU2VwYXJhdG9yIiwiZGVjaW1hbFNlcGFyYXRvciIsInZhbHVlUmVuZGVyIiwiZGVjaW1hbHMiLCJjb21wb25lbnRUeXBlIiwidiIsInZhbHVlT3B0aW9ucyIsImNlbGxFZGl0IiwiY29sdW1uIiwidGFiSW5kZXgiLCJncmlkSWQiLCJlZGl0VmFsdWVQYXJzZXIiLCJmb3JtQ29udHJvbFR5cGUiLCJmdW5jdGlvbnMiLCJnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlIiwiY2VsbE5hbWUiLCJwcmltaXRpdmVQcm9wcyIsImNsYXNzTmFtZSIsImlucHV0UHJvcHMiLCJkaXNhYmxlZCIsImlkIiwiY29sdW1uS2V5Iiwib25Gb2N1cyIsIm9uQ2VsbEZvY3VzIiwib25LZXlEb3duIiwib25DZWxsS2V5RG93biIsInJlZiIsImhhbmRsZUNlbGxSZWYiLCJzdHlsZSIsInR5cGUiLCJ2YWx1ZSIsImdldEl0ZW1WYWx1ZSIsIm9uQmx1ciIsIm9uQ2VsbEJsdXIiLCJlZGl0Rm9ybWF0dGVyIiwib25DaGFuZ2UiLCJvbkNlbGxWYWx1ZUNoYW5nZSIsImVkaXRDb21wb25lbnRQcm9wcyIsImNlbGxDcmVhdGUiLCJjcmVhdGVWYWx1ZVBhcnNlciIsImNyZWF0ZUNvbXBvbmVudFByb3BzIiwiY2VsbEZpbHRlciIsImZpbHRlclZhbHVlUGFyc2VyIiwiZmlsdGVyQ29tcG9uZW50UHJvcHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBT0EsS0FBUCxNQUFrQixPQUFsQjtBQUNBLE9BQU9DLGNBQVAs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UyxDQUFDb0IsVUFBVixDQUFxQmxDLFFBQXJCLEVBQStCRCxHQUEvQixDQWJVO0FBY2xCcUMsTUFBQUEsUUFBUSxFQUFFdEIsU0FBUyxDQUFDdUIsaUJBQVYsQ0FBNEJyQyxRQUE1QixFQUFzQ0QsR0FBdEMsRUFBMkN5QyxpQkFBM0M7QUFkUSxPQWVmekMsR0FBRyxDQUFDMEMsb0JBZlcsQ0FBcEI7O0FBaUJBLFdBQU83QyxlQUFlLGNBQU1xQixjQUFOLEVBQXRCO0FBQ0QsR0E3RVk7QUE4RWI7QUFDQXlCLEVBQUFBLFVBL0VhLHNCQStFRjNDLEdBL0VFLEVBK0VHVSxNQS9FSCxFQStFV0MsUUEvRVgsRUErRXFCQyxNQS9FckIsRUErRTZCZ0MsaUJBL0U3QixFQStFZ0Q5QixlQS9FaEQsRUErRWlFQyxTQS9FakUsRUErRTRFO0FBQ3ZGLFFBQU1HLGNBQWM7QUFDbEJDLE1BQUFBLFNBQVMsRUFBRSxjQURPO0FBRWxCQyxNQUFBQSxVQUFVLEVBQUU7QUFDVlQsUUFBQUEsUUFBUSxFQUFSQSxRQURVO0FBRVZXLFFBQUFBLEVBQUUsNkJBQTJCVixNQUEzQixTQUFxQ0YsTUFBTSxDQUFDYSxTQUZwQztBQUdWTyxRQUFBQSxLQUFLLEVBQUVwQixNQUFNLENBQUNvQixLQUhKO0FBSVZDLFFBQUFBLElBQUksRUFBRWpCO0FBSkksT0FGTTtBQVFsQmtCLE1BQUFBLEtBQUssRUFBRWpCLFNBQVMsQ0FBQ2tCLFlBQVYsQ0FBdUJqQyxHQUF2QixDQVJXO0FBU2xCcUMsTUFBQUEsUUFBUSxFQUFFdEIsU0FBUyxDQUFDdUIsaUJBQVYsQ0FBNEJ0QyxHQUE1QixFQUFpQzRDLGlCQUFqQztBQVRRLE9BVWY1QyxHQUFHLENBQUM2QyxvQkFWVyxDQUFwQjs7QUFZQSxXQUFPaEQsZUFBZSxjQUFNcUIsY0FBTixFQUF0QjtBQUNEO0FBN0ZZLENBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZvcm1hdHRlZElucHV0IGZyb20gJ0BvcHVzY2FwaXRhL3JlYWN0LWZvcm1hdHRlZC1pbnB1dCc7XG5pbXBvcnQgeyBmb3JtYXROdW1iZXIgfSBmcm9tICdAb3B1c2NhcGl0YS9mb3JtYXQtdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgcHJpbWl0aXZlUmVuZGVyID0gZm9ybWF0dGVkSW5wdXRQcm9wcyA9PiAoXG4gIDxGb3JtYXR0ZWRJbnB1dCB7Li4uZm9ybWF0dGVkSW5wdXRQcm9wc30gLz5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLy8gcHJpbWl0aXZlTnVtYmVyVmFsdWVSZW5kZXJcbiAgbnVtYmVyVmFsUmVuZGVyKGNvbCwgcm93SW5kZXgsIHRob3VzYW5kU2VwYXJhdG9yLCBkZWNpbWFsU2VwYXJhdG9yLCB2YWx1ZVJlbmRlcikge1xuICAgIGNvbnN0IGRlY2ltYWxzID0gY29sLmNvbXBvbmVudFR5cGUgPT09ICdudW1iZXInID8gMCA6IDI7XG4gICAgcmV0dXJuIHZhbHVlUmVuZGVyKHJvd0luZGV4LCB2ID0+IGZvcm1hdE51bWJlcih2LCB7XG4gICAgICBkZWNpbWFsczogKGNvbC52YWx1ZU9wdGlvbnMgJiYgY29sLnZhbHVlT3B0aW9ucy5kZWNpbWFscykgfHwgZGVjaW1hbHMsXG4gICAgICB0aG91c2FuZFNlcGFyYXRvcjpcbiAgICAgICAgICAoY29sLnZhbHVlT3B0aW9ucyAmJiBjb2wudmFsdWVPcHRpb25zLnRob3VzYW5kU2VwYXJhdG9yKSB8fCB0aG91c2FuZFNlcGFyYXRvcixcbiAgICAgIGRlY2ltYWxTZXBhcmF0b3I6XG4gICAgICAgICAgKGNvbC52YWx1ZU9wdGlvbnMgJiYgY29sLnZhbHVlT3B0aW9ucy5kZWNpbWFsU2VwYXJhdG9yKSB8fCBkZWNpbWFsU2VwYXJhdG9yLFxuICAgIH0pKTtcbiAgfSxcbiAgLy8gcHJpbWl0aXZlQ2VsbEVkaXRcbiAgY2VsbEVkaXQoXG4gICAgY29sLFxuICAgIGNvbHVtbixcbiAgICByb3dJbmRleCxcbiAgICB0YWJJbmRleCxcbiAgICBncmlkSWQsXG4gICAgZWRpdFZhbHVlUGFyc2VyLFxuICAgIGZvcm1Db250cm9sVHlwZSxcbiAgICBmdW5jdGlvbnMsXG4gICAgZ2V0Q29tcG9uZW50RGlzYWJsZWRTdGF0ZSxcbiAgKSB7XG4gICAgY29uc3QgY2VsbE5hbWUgPSAnZWRpdCc7XG4gICAgY29uc3QgcHJpbWl0aXZlUHJvcHMgPSB7XG4gICAgICBjbGFzc05hbWU6ICdmb3JtLWNvbnRyb2wnLFxuICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICB0YWJJbmRleCxcbiAgICAgICAgZGlzYWJsZWQ6IGdldENvbXBvbmVudERpc2FibGVkU3RhdGUocm93SW5kZXgsIGNvbCwgY2VsbE5hbWUpLFxuICAgICAgICBpZDogYG9jRGF0YWdyaWRFZGl0SW5wdXQtJHtncmlkSWR9LSR7Y29sdW1uLmNvbHVtbktleX0tJHtyb3dJbmRleH1gLFxuICAgICAgICBvbkZvY3VzOiBmdW5jdGlvbnMub25DZWxsRm9jdXMoY2VsbE5hbWUsIGNvbC5jb21wb25lbnRUeXBlLCByb3dJbmRleCwgY29sdW1uLmNvbHVtbktleSksXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb25zLm9uQ2VsbEtleURvd24ocm93SW5kZXgsIGNvbCksXG4gICAgICAgIHJlZjogZnVuY3Rpb25zLmhhbmRsZUNlbGxSZWYocm93SW5kZXgsIGNvbCksXG4gICAgICAgIHN0eWxlOiBjb2x1bW4uc3R5bGUsXG4gICAgICAgIHR5cGU6IGZvcm1Db250cm9sVHlwZSxcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShyb3dJbmRleCwgY29sKSxcbiAgICAgIG9uQmx1cjogZnVuY3Rpb25zLm9uQ2VsbEJsdXIocm93SW5kZXgsIGNvbCksXG4gICAgICBlZGl0Rm9ybWF0dGVyOiBlZGl0VmFsdWVQYXJzZXIsXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb25zLm9uQ2VsbFZhbHVlQ2hhbmdlKHJvd0luZGV4LCBjb2wsIGVkaXRWYWx1ZVBhcnNlciksXG4gICAgICAuLi5jb2wuZWRpdENvbXBvbmVudFByb3BzLFxuICAgIH07XG5cbiAgICByZXR1cm4gcHJpbWl0aXZlUmVuZGVyKHsgLi4ucHJpbWl0aXZlUHJvcHMgfSk7XG4gIH0sXG4gIC8vIHByaW1pdGl2ZUNlbGxDcmVhdGVcbiAgY2VsbENyZWF0ZShcbiAgICBjb2wsXG4gICAgY29sdW1uLFxuICAgIHJvd0luZGV4LFxuICAgIHRhYkluZGV4LFxuICAgIGdyaWRJZCxcbiAgICBjcmVhdGVWYWx1ZVBhcnNlcixcbiAgICBmb3JtQ29udHJvbFR5cGUsXG4gICAgZnVuY3Rpb25zLFxuICAgIGdldENvbXBvbmVudERpc2FibGVkU3RhdGUsXG4gICkge1xuICAgIGNvbnN0IGNlbGxOYW1lID0gJ2NyZWF0ZSc7XG4gICAgY29uc3QgcHJpbWl0aXZlUHJvcHMgPSB7XG4gICAgICBjbGFzc05hbWU6ICdmb3JtLWNvbnRyb2wnLFxuICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICB0YWJJbmRleCxcbiAgICAgICAgZGlzYWJsZWQ6IGdldENvbXBvbmVudERpc2FibGVkU3RhdGUocm93SW5kZXgsIGNvbCwgY2VsbE5hbWUpLFxuICAgICAgICBpZDogYG9jRGF0YWdyaWRDcmVhdGVJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fS0ke3Jvd0luZGV4fWAsXG4gICAgICAgIG9uRm9jdXM6IGZ1bmN0aW9ucy5vbkNlbGxGb2N1cyhjZWxsTmFtZSwgY29sLmNvbXBvbmVudFR5cGUsIHJvd0luZGV4LCBjb2x1bW4uY29sdW1uS2V5KSxcbiAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbnMub25DZWxsS2V5RG93bihyb3dJbmRleCwgY29sLCBmYWxzZSksXG4gICAgICAgIHJlZjogZnVuY3Rpb25zLmhhbmRsZUNlbGxSZWYocm93SW5kZXgsIGNvbCksXG4gICAgICAgIHN0eWxlOiBjb2x1bW4uc3R5bGUsXG4gICAgICAgIHR5cGU6IGZvcm1Db250cm9sVHlwZSB8fCBjb2wuY29tcG9uZW50VHlwZSxcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShyb3dJbmRleCwgY29sKSxcbiAgICAgIG9uQmx1cjogZnVuY3Rpb25zLm9uQ2VsbEJsdXIocm93SW5kZXgsIGNvbCksXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb25zLm9uQ2VsbFZhbHVlQ2hhbmdlKHJvd0luZGV4LCBjb2wsIGNyZWF0ZVZhbHVlUGFyc2VyKSxcbiAgICAgIC4uLmNvbC5jcmVhdGVDb21wb25lbnRQcm9wcyxcbiAgICB9O1xuICAgIHJldHVybiBwcmltaXRpdmVSZW5kZXIoeyAuLi5wcmltaXRpdmVQcm9wcyB9KTtcbiAgfSxcbiAgLy8gcHJpbWl0aXZlQ2VsbEZpbHRlclxuICBjZWxsRmlsdGVyKGNvbCwgY29sdW1uLCB0YWJJbmRleCwgZ3JpZElkLCBmaWx0ZXJWYWx1ZVBhcnNlciwgZm9ybUNvbnRyb2xUeXBlLCBmdW5jdGlvbnMpIHtcbiAgICBjb25zdCBwcmltaXRpdmVQcm9wcyA9IHtcbiAgICAgIGNsYXNzTmFtZTogJ2Zvcm0tY29udHJvbCcsXG4gICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgIHRhYkluZGV4LFxuICAgICAgICBpZDogYG9jRGF0YWdyaWRGaWx0ZXJJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fWAsXG4gICAgICAgIHN0eWxlOiBjb2x1bW4uc3R5bGUsXG4gICAgICAgIHR5cGU6IGZvcm1Db250cm9sVHlwZSxcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShjb2wpLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9ucy5vbkNlbGxWYWx1ZUNoYW5nZShjb2wsIGZpbHRlclZhbHVlUGFyc2VyKSxcbiAgICAgIC4uLmNvbC5maWx0ZXJDb21wb25lbnRQcm9wcyxcbiAgICB9O1xuICAgIHJldHVybiBwcmltaXRpdmVSZW5kZXIoeyAuLi5wcmltaXRpdmVQcm9wcyB9KTtcbiAgfSxcbn07XG4iXX0=