function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

import React from 'react';
import FormattedInput from '@opuscapita/react-formatted-input';
import { formatNumber } from '@opuscapita/format-utils';
export var primitiveRender = function primitiveRender(formattedInputProps) {
  return /*#__PURE__*/React.createElement(FormattedInput, formattedInputProps);
};
export default {
  // primitiveNumberValueRender
  numberValRender: function numberValRender(col, rowIndex, thousandSeparator, decimalSeparator, valueRender) {
    var decimals = col.componentType === 'number' ? 0 : 2;
    return valueRender(rowIndex, function (v) {
      return formatNumber(v, {
        decimals: col.valueOptions && col.valueOptions.decimals || decimals,
        thousandSeparator: col.valueOptions && col.valueOptions.thousandSeparator || thousandSeparator,
        decimalSeparator: col.valueOptions && col.valueOptions.decimalSeparator || decimalSeparator
      });
    });
  },
  // primitiveCellEdit
  cellEdit: function cellEdit(col, column, rowIndex, tabIndex, gridId, editValueParser, formControlType, functions, getComponentDisabledState) {
    var cellName = 'edit';

    var primitiveProps = _extends({
      className: 'form-control',
      inputProps: {
        tabIndex: tabIndex,
        disabled: getComponentDisabledState(rowIndex, col, cellName),
        id: "ocDatagridEditInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
        onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
        onKeyDown: functions.onCellKeyDown(rowIndex, col),
        ref: functions.handleCellRef(rowIndex, col),
        style: column.style,
        type: formControlType
      },
      value: functions.getItemValue(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      editFormatter: editValueParser,
      onChange: functions.onCellValueChange(rowIndex, col, editValueParser)
    }, col.editComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  },
  // primitiveCellCreate
  cellCreate: function cellCreate(col, column, rowIndex, tabIndex, gridId, createValueParser, formControlType, functions, getComponentDisabledState) {
    var cellName = 'create';

    var primitiveProps = _extends({
      className: 'form-control',
      inputProps: {
        tabIndex: tabIndex,
        disabled: getComponentDisabledState(rowIndex, col, cellName),
        id: "ocDatagridCreateInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
        onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
        onKeyDown: functions.onCellKeyDown(rowIndex, col, false),
        ref: functions.handleCellRef(rowIndex, col),
        style: column.style,
        type: formControlType || col.componentType
      },
      value: functions.getItemValue(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      onChange: functions.onCellValueChange(rowIndex, col, createValueParser)
    }, col.createComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  },
  // primitiveCellFilter
  cellFilter: function cellFilter(col, column, tabIndex, gridId, filterValueParser, formControlType, functions) {
    var primitiveProps = _extends({
      className: 'form-control',
      inputProps: {
        tabIndex: tabIndex,
        id: "ocDatagridFilterInput-" + gridId + "-" + column.columnKey,
        style: column.style,
        type: formControlType
      },
      value: functions.getItemValue(col),
      onChange: functions.onCellValueChange(col, filterValueParser)
    }, col.filterComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9kYXRhZ3JpZC9jb2x1bW4tc2VydmljZS9jb2x1bW4tdHlwZXMvcHJpbWl0aXZlLXJlbmRlcmVycy5qc3giXSwibmFtZXMiOlsiUmVhY3QiLCJGb3JtYXR0ZWRJbnB1dCIsImZvcm1hdE51bWJlciIsInByaW1pdGl2ZVJlbmRlciIsImZvcm1hdHRlZElucHV0UHJvcHMiLCJudW1iZXJWYWxSZW5kZXIiLCJjb2wiLCJyb3dJbmRleCIsInRob3VzYW5kU2VwYXJhdG9yIiwiZGVjaW1hbFNlcGFyYXRvciIsInZhbHVlUmVuZGVyIiwiZGVjaW1hbHMiLCJjb21wb25lbnRUeXBlIiwidiIsInZhbHVlT3B0aW9ucyIsImNlbGxFZGl0IiwiY29sdW1uIiwidGFiSW5kZXgiLCJncmlkSWQiLCJlZGl0VmFsdWVQYXJzZXIiLCJmb3JtQ29udHJvbFR5cGUiLCJmdW5jdGlvbnMiLCJnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlIiwiY2VsbE5hbWUiLCJwcmltaXRpdmVQcm9wcyIsImNsYXNzTmFtZSIsImlucHV0UHJvcHMiLCJkaXNhYmxlZCIsImlkIiwiY29sdW1uS2V5Iiwib25Gb2N1cyIsIm9uQ2VsbEZvY3VzIiwib25LZXlEb3duIiwib25DZWxsS2V5RG93biIsInJlZiIsImhhbmRsZUNlbGxSZWYiLCJzdHlsZSIsInR5cGUiLCJ2YWx1ZSIsImdldEl0ZW1WYWx1ZSIsIm9uQmx1ciIsIm9uQ2VsbEJsdXIiLCJlZGl0Rm9ybWF0dGVyIiwib25DaGFuZ2UiLCJvbkNlbGxWYWx1ZUNoYW5nZSIsImVkaXRDb21wb25lbnRQcm9wcyIsImNlbGxDcmVhdGUiLCJjcmVhdGVWYWx1ZVBhcnNlciIsImNyZWF0ZUNvbXBvbmVudFByb3BzIiwiY2VsbEZpbHRlciIsImZpbHRlclZhbHVlUGFyc2VyIiwiZmlsdGVyQ29tcG9uZW50UHJvcHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBT0EsS0FBUCxNQUFrQixPQUFsQjtBQUNBLE9BQU9DLGNBQVAs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QVMsQ0FBQ29CLFVBQVYsQ0FBcUJsQyxRQUFyQixFQUErQkQsR0FBL0IsQ0FiVTtBQWNsQnFDLE1BQUFBLFFBQVEsRUFBRXRCLFNBQVMsQ0FBQ3VCLGlCQUFWLENBQTRCckMsUUFBNUIsRUFBc0NELEdBQXRDLEVBQTJDeUMsaUJBQTNDO0FBZFEsT0FlZnpDLEdBQUcsQ0FBQzBDLG9CQWZXLENBQXBCOztBQWlCQSxXQUFPN0MsZUFBZSxjQUFNcUIsY0FBTixFQUF0QjtBQUNELEdBN0VZO0FBOEViO0FBQ0F5QixFQUFBQSxVQS9FYSxzQkErRUYzQyxHQS9FRSxFQStFR1UsTUEvRUgsRUErRVdDLFFBL0VYLEVBK0VxQkMsTUEvRXJCLEVBK0U2QmdDLGlCQS9FN0IsRUErRWdEOUIsZUEvRWhELEVBK0VpRUMsU0EvRWpFLEVBK0U0RTtBQUN2RixRQUFNRyxjQUFjO0FBQ2xCQyxNQUFBQSxTQUFTLEVBQUUsY0FETztBQUVsQkMsTUFBQUEsVUFBVSxFQUFFO0FBQ1ZULFFBQUFBLFFBQVEsRUFBUkEsUUFEVTtBQUVWVyxRQUFBQSxFQUFFLDZCQUEyQlYsTUFBM0IsU0FBcUNGLE1BQU0sQ0FBQ2EsU0FGcEM7QUFHVk8sUUFBQUEsS0FBSyxFQUFFcEIsTUFBTSxDQUFDb0IsS0FISjtBQUlWQyxRQUFBQSxJQUFJLEVBQUVqQjtBQUpJLE9BRk07QUFRbEJrQixNQUFBQSxLQUFLLEVBQUVqQixTQUFTLENBQUNrQixZQUFWLENBQXVCakMsR0FBdkIsQ0FSVztBQVNsQnFDLE1BQUFBLFFBQVEsRUFBRXRCLFNBQVMsQ0FBQ3VCLGlCQUFWLENBQTRCdEMsR0FBNUIsRUFBaUM0QyxpQkFBakM7QUFUUSxPQVVmNUMsR0FBRyxDQUFDNkMsb0JBVlcsQ0FBcEI7O0FBWUEsV0FBT2hELGVBQWUsY0FBTXFCLGNBQU4sRUFBdEI7QUFDRDtBQTdGWSxDQUFmIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGb3JtYXR0ZWRJbnB1dCBmcm9tICdAb3B1c2NhcGl0YS9yZWFjdC1mb3JtYXR0ZWQtaW5wdXQnO1xuaW1wb3J0IHsgZm9ybWF0TnVtYmVyIH0gZnJvbSAnQG9wdXNjYXBpdGEvZm9ybWF0LXV0aWxzJztcblxuZXhwb3J0IGNvbnN0IHByaW1pdGl2ZVJlbmRlciA9IGZvcm1hdHRlZElucHV0UHJvcHMgPT4gKFxuICA8Rm9ybWF0dGVkSW5wdXQgey4uLmZvcm1hdHRlZElucHV0UHJvcHN9IC8+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8vIHByaW1pdGl2ZU51bWJlclZhbHVlUmVuZGVyXG4gIG51bWJlclZhbFJlbmRlcihjb2wsIHJvd0luZGV4LCB0aG91c2FuZFNlcGFyYXRvciwgZGVjaW1hbFNlcGFyYXRvciwgdmFsdWVSZW5kZXIpIHtcbiAgICBjb25zdCBkZWNpbWFscyA9IGNvbC5jb21wb25lbnRUeXBlID09PSAnbnVtYmVyJyA/IDAgOiAyO1xuICAgIHJldHVybiB2YWx1ZVJlbmRlcihyb3dJbmRleCwgdiA9PiBmb3JtYXROdW1iZXIodiwge1xuICAgICAgZGVjaW1hbHM6IChjb2wudmFsdWVPcHRpb25zICYmIGNvbC52YWx1ZU9wdGlvbnMuZGVjaW1hbHMpIHx8IGRlY2ltYWxzLFxuICAgICAgdGhvdXNhbmRTZXBhcmF0b3I6XG4gICAgICAgICAgKGNvbC52YWx1ZU9wdGlvbnMgJiYgY29sLnZhbHVlT3B0aW9ucy50aG91c2FuZFNlcGFyYXRvcikgfHwgdGhvdXNhbmRTZXBhcmF0b3IsXG4gICAgICBkZWNpbWFsU2VwYXJhdG9yOlxuICAgICAgICAgIChjb2wudmFsdWVPcHRpb25zICYmIGNvbC52YWx1ZU9wdGlvbnMuZGVjaW1hbFNlcGFyYXRvcikgfHwgZGVjaW1hbFNlcGFyYXRvcixcbiAgICB9KSk7XG4gIH0sXG4gIC8vIHByaW1pdGl2ZUNlbGxFZGl0XG4gIGNlbGxFZGl0KFxuICAgIGNvbCxcbiAgICBjb2x1bW4sXG4gICAgcm93SW5kZXgsXG4gICAgdGFiSW5kZXgsXG4gICAgZ3JpZElkLFxuICAgIGVkaXRWYWx1ZVBhcnNlcixcbiAgICBmb3JtQ29udHJvbFR5cGUsXG4gICAgZnVuY3Rpb25zLFxuICAgIGdldENvbXBvbmVudERpc2FibGVkU3RhdGUsXG4gICkge1xuICAgIGNvbnN0IGNlbGxOYW1lID0gJ2VkaXQnO1xuICAgIGNvbnN0IHByaW1pdGl2ZVByb3BzID0ge1xuICAgICAgY2xhc3NOYW1lOiAnZm9ybS1jb250cm9sJyxcbiAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgdGFiSW5kZXgsXG4gICAgICAgIGRpc2FibGVkOiBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlKHJvd0luZGV4LCBjb2wsIGNlbGxOYW1lKSxcbiAgICAgICAgaWQ6IGBvY0RhdGFncmlkRWRpdElucHV0LSR7Z3JpZElkfS0ke2NvbHVtbi5jb2x1bW5LZXl9LSR7cm93SW5kZXh9YCxcbiAgICAgICAgb25Gb2N1czogZnVuY3Rpb25zLm9uQ2VsbEZvY3VzKGNlbGxOYW1lLCBjb2wuY29tcG9uZW50VHlwZSwgcm93SW5kZXgsIGNvbHVtbi5jb2x1bW5LZXkpLFxuICAgICAgICBvbktleURvd246IGZ1bmN0aW9ucy5vbkNlbGxLZXlEb3duKHJvd0luZGV4LCBjb2wpLFxuICAgICAgICByZWY6IGZ1bmN0aW9ucy5oYW5kbGVDZWxsUmVmKHJvd0luZGV4LCBjb2wpLFxuICAgICAgICBzdHlsZTogY29sdW1uLnN0eWxlLFxuICAgICAgICB0eXBlOiBmb3JtQ29udHJvbFR5cGUsXG4gICAgICB9LFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUocm93SW5kZXgsIGNvbCksXG4gICAgICBvbkJsdXI6IGZ1bmN0aW9ucy5vbkNlbGxCbHVyKHJvd0luZGV4LCBjb2wpLFxuICAgICAgZWRpdEZvcm1hdHRlcjogZWRpdFZhbHVlUGFyc2VyLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9ucy5vbkNlbGxWYWx1ZUNoYW5nZShyb3dJbmRleCwgY29sLCBlZGl0VmFsdWVQYXJzZXIpLFxuICAgICAgLi4uY29sLmVkaXRDb21wb25lbnRQcm9wcyxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHByaW1pdGl2ZVJlbmRlcih7IC4uLnByaW1pdGl2ZVByb3BzIH0pO1xuICB9LFxuICAvLyBwcmltaXRpdmVDZWxsQ3JlYXRlXG4gIGNlbGxDcmVhdGUoXG4gICAgY29sLFxuICAgIGNvbHVtbixcbiAgICByb3dJbmRleCxcbiAgICB0YWJJbmRleCxcbiAgICBncmlkSWQsXG4gICAgY3JlYXRlVmFsdWVQYXJzZXIsXG4gICAgZm9ybUNvbnRyb2xUeXBlLFxuICAgIGZ1bmN0aW9ucyxcbiAgICBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlLFxuICApIHtcbiAgICBjb25zdCBjZWxsTmFtZSA9ICdjcmVhdGUnO1xuICAgIGNvbnN0IHByaW1pdGl2ZVByb3BzID0ge1xuICAgICAgY2xhc3NOYW1lOiAnZm9ybS1jb250cm9sJyxcbiAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgdGFiSW5kZXgsXG4gICAgICAgIGRpc2FibGVkOiBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlKHJvd0luZGV4LCBjb2wsIGNlbGxOYW1lKSxcbiAgICAgICAgaWQ6IGBvY0RhdGFncmlkQ3JlYXRlSW5wdXQtJHtncmlkSWR9LSR7Y29sdW1uLmNvbHVtbktleX0tJHtyb3dJbmRleH1gLFxuICAgICAgICBvbkZvY3VzOiBmdW5jdGlvbnMub25DZWxsRm9jdXMoY2VsbE5hbWUsIGNvbC5jb21wb25lbnRUeXBlLCByb3dJbmRleCwgY29sdW1uLmNvbHVtbktleSksXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb25zLm9uQ2VsbEtleURvd24ocm93SW5kZXgsIGNvbCwgZmFsc2UpLFxuICAgICAgICByZWY6IGZ1bmN0aW9ucy5oYW5kbGVDZWxsUmVmKHJvd0luZGV4LCBjb2wpLFxuICAgICAgICBzdHlsZTogY29sdW1uLnN0eWxlLFxuICAgICAgICB0eXBlOiBmb3JtQ29udHJvbFR5cGUgfHwgY29sLmNvbXBvbmVudFR5cGUsXG4gICAgICB9LFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUocm93SW5kZXgsIGNvbCksXG4gICAgICBvbkJsdXI6IGZ1bmN0aW9ucy5vbkNlbGxCbHVyKHJvd0luZGV4LCBjb2wpLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9ucy5vbkNlbGxWYWx1ZUNoYW5nZShyb3dJbmRleCwgY29sLCBjcmVhdGVWYWx1ZVBhcnNlciksXG4gICAgICAuLi5jb2wuY3JlYXRlQ29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gcHJpbWl0aXZlUmVuZGVyKHsgLi4ucHJpbWl0aXZlUHJvcHMgfSk7XG4gIH0sXG4gIC8vIHByaW1pdGl2ZUNlbGxGaWx0ZXJcbiAgY2VsbEZpbHRlcihjb2wsIGNvbHVtbiwgdGFiSW5kZXgsIGdyaWRJZCwgZmlsdGVyVmFsdWVQYXJzZXIsIGZvcm1Db250cm9sVHlwZSwgZnVuY3Rpb25zKSB7XG4gICAgY29uc3QgcHJpbWl0aXZlUHJvcHMgPSB7XG4gICAgICBjbGFzc05hbWU6ICdmb3JtLWNvbnRyb2wnLFxuICAgICAgaW5wdXRQcm9wczoge1xuICAgICAgICB0YWJJbmRleCxcbiAgICAgICAgaWQ6IGBvY0RhdGFncmlkRmlsdGVySW5wdXQtJHtncmlkSWR9LSR7Y29sdW1uLmNvbHVtbktleX1gLFxuICAgICAgICBzdHlsZTogY29sdW1uLnN0eWxlLFxuICAgICAgICB0eXBlOiBmb3JtQ29udHJvbFR5cGUsXG4gICAgICB9LFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUoY29sKSxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbnMub25DZWxsVmFsdWVDaGFuZ2UoY29sLCBmaWx0ZXJWYWx1ZVBhcnNlciksXG4gICAgICAuLi5jb2wuZmlsdGVyQ29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gcHJpbWl0aXZlUmVuZGVyKHsgLi4ucHJpbWl0aXZlUHJvcHMgfSk7XG4gIH0sXG59O1xuIl19