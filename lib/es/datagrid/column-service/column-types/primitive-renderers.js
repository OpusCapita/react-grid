function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

import React from 'react';
import FormattedInput from '@opuscapita/react-formatted-input';
import { formatNumber } from '@opuscapita/format-utils';
export var primitiveRender = function primitiveRender(formattedInputProps) {
  return React.createElement(FormattedInput, formattedInputProps);
};
export default {
  // primitiveNumberValueRender
  numberValRender: function numberValRender(col, rowIndex, thousandSeparator, decimalSeparator, valueRender) {
    var decimals = col.componentType === 'number' ? 0 : 2;
    return valueRender(rowIndex, function (v) {
      return formatNumber(v, {
        decimals: col.valueOptions && col.valueOptions.decimals || decimals,
        thousandSeparator: col.valueOptions && col.valueOptions.thousandSeparator || thousandSeparator,
        decimalSeparator: col.valueOptions && col.valueOptions.decimalSeparator || decimalSeparator
      });
    });
  },
  // primitiveCellEdit
  cellEdit: function cellEdit(col, column, rowIndex, tabIndex, gridId, editValueParser, formControlType, functions, getComponentDisabledState) {
    var cellName = 'edit';

    var primitiveProps = _extends({
      tabIndex: tabIndex,
      className: 'form-control',
      inputProps: {
        disabled: getComponentDisabledState(rowIndex, col, cellName),
        id: "ocDatagridEditInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
        onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
        onKeyDown: functions.onCellKeyDown(rowIndex, col),
        ref: functions.handleCellRef(rowIndex, col),
        style: column.style,
        type: formControlType
      },
      value: functions.getItemValue(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      onChange: functions.onCellValueChange(rowIndex, col, editValueParser)
    }, col.editComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  },
  // primitiveCellCreate
  cellCreate: function cellCreate(col, column, rowIndex, tabIndex, gridId, createValueParser, formControlType, functions, getComponentDisabledState) {
    var cellName = 'create';

    var primitiveProps = _extends({
      tabIndex: tabIndex,
      className: 'form-control',
      inputProps: {
        disabled: getComponentDisabledState(rowIndex, col, cellName),
        id: "ocDatagridCreateInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
        onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey),
        onKeyDown: functions.onCellKeyDown(rowIndex, col, false),
        ref: functions.handleCellRef(rowIndex, col),
        style: column.style,
        type: formControlType || col.componentType
      },
      value: functions.getItemValue(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      onChange: functions.onCellValueChange(rowIndex, col, createValueParser)
    }, col.createComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  },
  // primitiveCellFilter
  cellFilter: function cellFilter(col, column, tabIndex, gridId, filterValueParser, formControlType, functions) {
    var primitiveProps = _extends({
      tabIndex: tabIndex,
      className: 'form-control',
      inputProps: {
        id: "ocDatagridFilterInput-" + gridId + "-" + column.columnKey,
        style: column.style,
        type: formControlType
      },
      value: functions.getItemValue(col),
      onChange: functions.onCellValueChange(col, filterValueParser)
    }, col.filterComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9kYXRhZ3JpZC9jb2x1bW4tc2VydmljZS9jb2x1bW4tdHlwZXMvcHJpbWl0aXZlLXJlbmRlcmVycy5qc3giXSwibmFtZXMiOlsiUmVhY3QiLCJGb3JtYXR0ZWRJbnB1dCIsImZvcm1hdE51bWJlciIsInByaW1pdGl2ZVJlbmRlciIsImZvcm1hdHRlZElucHV0UHJvcHMiLCJudW1iZXJWYWxSZW5kZXIiLCJjb2wiLCJyb3dJbmRleCIsInRob3VzYW5kU2VwYXJhdG9yIiwiZGVjaW1hbFNlcGFyYXRvciIsInZhbHVlUmVuZGVyIiwiZGVjaW1hbHMiLCJjb21wb25lbnRUeXBlIiwidiIsInZhbHVlT3B0aW9ucyIsImNlbGxFZGl0IiwiY29sdW1uIiwidGFiSW5kZXgiLCJncmlkSWQiLCJlZGl0VmFsdWVQYXJzZXIiLCJmb3JtQ29udHJvbFR5cGUiLCJmdW5jdGlvbnMiLCJnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlIiwiY2VsbE5hbWUiLCJwcmltaXRpdmVQcm9wcyIsImNsYXNzTmFtZSIsImlucHV0UHJvcHMiLCJkaXNhYmxlZCIsImlkIiwiY29sdW1uS2V5Iiwib25Gb2N1cyIsIm9uQ2VsbEZvY3VzIiwib25LZXlEb3duIiwib25DZWxsS2V5RG93biIsInJlZiIsImhhbmRsZUNlbGxSZWYiLCJzdHlsZSIsInR5cGUiLCJ2YWx1ZSIsImdldEl0ZW1WYWx1ZSIsIm9uQmx1ciIsIm9uQ2VsbEJsdXIiLCJvbkNoYW5nZSIsIm9uQ2VsbFZhbHVlQ2hhbmdlIiwiZWRpdENvbXBvbmVudFByb3BzIiwiY2VsbENyZWF0ZSIsImNyZWF0ZVZhbHVlUGFyc2VyIiwiY3JlYXRlQ29tcG9uZW50UHJvcHMiLCJjZWxsRmlsdGVyIiwiZmlsdGVyVmFsdWVQYXJzZXIiLCJmaWx0ZXJDb21wb25lbnRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBQ0EsT0FBT0MsY0FBUCxNQUEyQixtQ0FBM0I7QUFD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O0FBY2xCb0MsTUFBQUEsUUFBUSxFQUFFckIsU0FBUyxDQUFDc0IsaUJBQVYsQ0FBNEJwQyxRQUE1QixFQUFzQ0QsR0FBdEMsRUFBMkN3QyxpQkFBM0M7QUFkUSxPQWVmeEMsR0FBRyxDQUFDeUMsb0JBZlcsQ0FBcEI7O0FBaUJBLFdBQU81QyxlQUFlLGNBQU1xQixjQUFOLEVBQXRCO0FBQ0QsR0E1RVk7QUE2RWI7QUFDQXdCLEVBQUFBLFVBOUVhLHNCQThFRjFDLEdBOUVFLEVBOEVHVSxNQTlFSCxFQThFV0MsUUE5RVgsRUE4RXFCQyxNQTlFckIsRUE4RTZCK0IsaUJBOUU3QixFQThFZ0Q3QixlQTlFaEQsRUE4RWlFQyxTQTlFakUsRUE4RTRFO0FBQ3ZGLFFBQU1HLGNBQWM7QUFDbEJQLE1BQUFBLFFBQVEsRUFBUkEsUUFEa0I7QUFFbEJRLE1BQUFBLFNBQVMsRUFBRSxjQUZPO0FBR2xCQyxNQUFBQSxVQUFVLEVBQUU7QUFDVkUsUUFBQUEsRUFBRSw2QkFBMkJWLE1BQTNCLFNBQXFDRixNQUFNLENBQUNhLFNBRHBDO0FBRVZPLFFBQUFBLEtBQUssRUFBRXBCLE1BQU0sQ0FBQ29CLEtBRko7QUFHVkMsUUFBQUEsSUFBSSxFQUFFakI7QUFISSxPQUhNO0FBUWxCa0IsTUFBQUEsS0FBSyxFQUFFakIsU0FBUyxDQUFDa0IsWUFBVixDQUF1QmpDLEdBQXZCLENBUlc7QUFTbEJvQyxNQUFBQSxRQUFRLEVBQUVyQixTQUFTLENBQUNzQixpQkFBVixDQUE0QnJDLEdBQTVCLEVBQWlDMkMsaUJBQWpDO0FBVFEsT0FVZjNDLEdBQUcsQ0FBQzRDLG9CQVZXLENBQXBCOztBQVlBLFdBQU8vQyxlQUFlLGNBQU1xQixjQUFOLEVBQXRCO0FBQ0Q7QUE1RlksQ0FBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRm9ybWF0dGVkSW5wdXQgZnJvbSAnQG9wdXNjYXBpdGEvcmVhY3QtZm9ybWF0dGVkLWlucHV0JztcbmltcG9ydCB7IGZvcm1hdE51bWJlciB9IGZyb20gJ0BvcHVzY2FwaXRhL2Zvcm1hdC11dGlscyc7XG5cbmV4cG9ydCBjb25zdCBwcmltaXRpdmVSZW5kZXIgPSBmb3JtYXR0ZWRJbnB1dFByb3BzID0+IChcbiAgPEZvcm1hdHRlZElucHV0IHsuLi5mb3JtYXR0ZWRJbnB1dFByb3BzfSAvPlxuKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvLyBwcmltaXRpdmVOdW1iZXJWYWx1ZVJlbmRlclxuICBudW1iZXJWYWxSZW5kZXIoY29sLCByb3dJbmRleCwgdGhvdXNhbmRTZXBhcmF0b3IsIGRlY2ltYWxTZXBhcmF0b3IsIHZhbHVlUmVuZGVyKSB7XG4gICAgY29uc3QgZGVjaW1hbHMgPSBjb2wuY29tcG9uZW50VHlwZSA9PT0gJ251bWJlcicgPyAwIDogMjtcbiAgICByZXR1cm4gdmFsdWVSZW5kZXIocm93SW5kZXgsIHYgPT4gZm9ybWF0TnVtYmVyKHYsIHtcbiAgICAgIGRlY2ltYWxzOiAoY29sLnZhbHVlT3B0aW9ucyAmJiBjb2wudmFsdWVPcHRpb25zLmRlY2ltYWxzKSB8fCBkZWNpbWFscyxcbiAgICAgIHRob3VzYW5kU2VwYXJhdG9yOlxuICAgICAgICAgIChjb2wudmFsdWVPcHRpb25zICYmIGNvbC52YWx1ZU9wdGlvbnMudGhvdXNhbmRTZXBhcmF0b3IpIHx8IHRob3VzYW5kU2VwYXJhdG9yLFxuICAgICAgZGVjaW1hbFNlcGFyYXRvcjpcbiAgICAgICAgICAoY29sLnZhbHVlT3B0aW9ucyAmJiBjb2wudmFsdWVPcHRpb25zLmRlY2ltYWxTZXBhcmF0b3IpIHx8IGRlY2ltYWxTZXBhcmF0b3IsXG4gICAgfSkpO1xuICB9LFxuICAvLyBwcmltaXRpdmVDZWxsRWRpdFxuICBjZWxsRWRpdChcbiAgICBjb2wsXG4gICAgY29sdW1uLFxuICAgIHJvd0luZGV4LFxuICAgIHRhYkluZGV4LFxuICAgIGdyaWRJZCxcbiAgICBlZGl0VmFsdWVQYXJzZXIsXG4gICAgZm9ybUNvbnRyb2xUeXBlLFxuICAgIGZ1bmN0aW9ucyxcbiAgICBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlLFxuICApIHtcbiAgICBjb25zdCBjZWxsTmFtZSA9ICdlZGl0JztcbiAgICBjb25zdCBwcmltaXRpdmVQcm9wcyA9IHtcbiAgICAgIHRhYkluZGV4LFxuICAgICAgY2xhc3NOYW1lOiAnZm9ybS1jb250cm9sJyxcbiAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgZGlzYWJsZWQ6IGdldENvbXBvbmVudERpc2FibGVkU3RhdGUocm93SW5kZXgsIGNvbCwgY2VsbE5hbWUpLFxuICAgICAgICBpZDogYG9jRGF0YWdyaWRFZGl0SW5wdXQtJHtncmlkSWR9LSR7Y29sdW1uLmNvbHVtbktleX0tJHtyb3dJbmRleH1gLFxuICAgICAgICBvbkZvY3VzOiBmdW5jdGlvbnMub25DZWxsRm9jdXMoY2VsbE5hbWUsIGNvbC5jb21wb25lbnRUeXBlLCByb3dJbmRleCwgY29sdW1uLmNvbHVtbktleSksXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb25zLm9uQ2VsbEtleURvd24ocm93SW5kZXgsIGNvbCksXG4gICAgICAgIHJlZjogZnVuY3Rpb25zLmhhbmRsZUNlbGxSZWYocm93SW5kZXgsIGNvbCksXG4gICAgICAgIHN0eWxlOiBjb2x1bW4uc3R5bGUsXG4gICAgICAgIHR5cGU6IGZvcm1Db250cm9sVHlwZSxcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShyb3dJbmRleCwgY29sKSxcbiAgICAgIG9uQmx1cjogZnVuY3Rpb25zLm9uQ2VsbEJsdXIocm93SW5kZXgsIGNvbCksXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb25zLm9uQ2VsbFZhbHVlQ2hhbmdlKHJvd0luZGV4LCBjb2wsIGVkaXRWYWx1ZVBhcnNlciksXG4gICAgICAuLi5jb2wuZWRpdENvbXBvbmVudFByb3BzLFxuICAgIH07XG5cbiAgICByZXR1cm4gcHJpbWl0aXZlUmVuZGVyKHsgLi4ucHJpbWl0aXZlUHJvcHMgfSk7XG4gIH0sXG4gIC8vIHByaW1pdGl2ZUNlbGxDcmVhdGVcbiAgY2VsbENyZWF0ZShcbiAgICBjb2wsXG4gICAgY29sdW1uLFxuICAgIHJvd0luZGV4LFxuICAgIHRhYkluZGV4LFxuICAgIGdyaWRJZCxcbiAgICBjcmVhdGVWYWx1ZVBhcnNlcixcbiAgICBmb3JtQ29udHJvbFR5cGUsXG4gICAgZnVuY3Rpb25zLFxuICAgIGdldENvbXBvbmVudERpc2FibGVkU3RhdGUsXG4gICkge1xuICAgIGNvbnN0IGNlbGxOYW1lID0gJ2NyZWF0ZSc7XG4gICAgY29uc3QgcHJpbWl0aXZlUHJvcHMgPSB7XG4gICAgICB0YWJJbmRleCxcbiAgICAgIGNsYXNzTmFtZTogJ2Zvcm0tY29udHJvbCcsXG4gICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgIGRpc2FibGVkOiBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlKHJvd0luZGV4LCBjb2wsIGNlbGxOYW1lKSxcbiAgICAgICAgaWQ6IGBvY0RhdGFncmlkQ3JlYXRlSW5wdXQtJHtncmlkSWR9LSR7Y29sdW1uLmNvbHVtbktleX0tJHtyb3dJbmRleH1gLFxuICAgICAgICBvbkZvY3VzOiBmdW5jdGlvbnMub25DZWxsRm9jdXMoY2VsbE5hbWUsIGNvbC5jb21wb25lbnRUeXBlLCByb3dJbmRleCwgY29sdW1uLmNvbHVtbktleSksXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb25zLm9uQ2VsbEtleURvd24ocm93SW5kZXgsIGNvbCwgZmFsc2UpLFxuICAgICAgICByZWY6IGZ1bmN0aW9ucy5oYW5kbGVDZWxsUmVmKHJvd0luZGV4LCBjb2wpLFxuICAgICAgICBzdHlsZTogY29sdW1uLnN0eWxlLFxuICAgICAgICB0eXBlOiBmb3JtQ29udHJvbFR5cGUgfHwgY29sLmNvbXBvbmVudFR5cGUsXG4gICAgICB9LFxuICAgICAgdmFsdWU6IGZ1bmN0aW9ucy5nZXRJdGVtVmFsdWUocm93SW5kZXgsIGNvbCksXG4gICAgICBvbkJsdXI6IGZ1bmN0aW9ucy5vbkNlbGxCbHVyKHJvd0luZGV4LCBjb2wpLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9ucy5vbkNlbGxWYWx1ZUNoYW5nZShyb3dJbmRleCwgY29sLCBjcmVhdGVWYWx1ZVBhcnNlciksXG4gICAgICAuLi5jb2wuY3JlYXRlQ29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gcHJpbWl0aXZlUmVuZGVyKHsgLi4ucHJpbWl0aXZlUHJvcHMgfSk7XG4gIH0sXG4gIC8vIHByaW1pdGl2ZUNlbGxGaWx0ZXJcbiAgY2VsbEZpbHRlcihjb2wsIGNvbHVtbiwgdGFiSW5kZXgsIGdyaWRJZCwgZmlsdGVyVmFsdWVQYXJzZXIsIGZvcm1Db250cm9sVHlwZSwgZnVuY3Rpb25zKSB7XG4gICAgY29uc3QgcHJpbWl0aXZlUHJvcHMgPSB7XG4gICAgICB0YWJJbmRleCxcbiAgICAgIGNsYXNzTmFtZTogJ2Zvcm0tY29udHJvbCcsXG4gICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgIGlkOiBgb2NEYXRhZ3JpZEZpbHRlcklucHV0LSR7Z3JpZElkfS0ke2NvbHVtbi5jb2x1bW5LZXl9YCxcbiAgICAgICAgc3R5bGU6IGNvbHVtbi5zdHlsZSxcbiAgICAgICAgdHlwZTogZm9ybUNvbnRyb2xUeXBlLFxuICAgICAgfSxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbnMuZ2V0SXRlbVZhbHVlKGNvbCksXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb25zLm9uQ2VsbFZhbHVlQ2hhbmdlKGNvbCwgZmlsdGVyVmFsdWVQYXJzZXIpLFxuICAgICAgLi4uY29sLmZpbHRlckNvbXBvbmVudFByb3BzLFxuICAgIH07XG4gICAgcmV0dXJuIHByaW1pdGl2ZVJlbmRlcih7IC4uLnByaW1pdGl2ZVByb3BzIH0pO1xuICB9LFxufTtcbiJdfQ==