function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

import React from 'react';
import { FormControl } from 'react-bootstrap';
import { formatNumber } from '@opuscapita/format-utils';
export var primitiveRender = function primitiveRender(primitiveProps) {
  return React.createElement(FormControl, primitiveProps);
};
export default {
  // primitiveNumberValueRender
  numberValRender: function numberValRender(col, rowIndex, thousandSeparator, decimalSeparator, valueRender) {
    var decimals = col.componentType === 'number' ? 0 : 2;
    return valueRender(rowIndex, function (v) {
      return formatNumber(v, {
        decimals: col.valueOptions && col.valueOptions.decimals || decimals,
        thousandSeparator: col.valueOptions && col.valueOptions.thousandSeparator || thousandSeparator,
        decimalSeparator: col.valueOptions && col.valueOptions.decimalSeparator || decimalSeparator
      });
    });
  },
  // primitiveCellEdit
  cellEdit: function cellEdit(col, column, rowIndex, tabIndex, gridId, editValueParser, formControlType, functions, getComponentDisabledState) {
    var cellName = 'edit';

    var primitiveProps = _extends({
      id: "ocDatagridEditInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
      style: column.style,
      tabIndex: tabIndex,
      type: formControlType,
      value: functions.getItemValue(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      onKeyDown: functions.onCellKeyDown(rowIndex, col),
      inputRef: functions.handleCellRef(rowIndex, col),
      disabled: getComponentDisabledState(rowIndex, col, cellName),
      onChange: functions.onCellValueChange(rowIndex, col, editValueParser),
      onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey)
    }, col.editComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  },
  // primitiveCellCreate
  cellCreate: function cellCreate(col, column, rowIndex, tabIndex, gridId, createValueParser, formControlType, functions, getComponentDisabledState) {
    var cellName = 'create';

    var primitiveProps = _extends({
      id: "ocDatagridCreateInput-" + gridId + "-" + column.columnKey + "-" + rowIndex,
      style: column.style,
      tabIndex: tabIndex,
      type: formControlType || col.componentType,
      value: functions.getItemValue(rowIndex, col),
      onBlur: functions.onCellBlur(rowIndex, col),
      onKeyDown: functions.onCellKeyDown(rowIndex, col, false),
      inputRef: functions.handleCellRef(rowIndex, col),
      disabled: getComponentDisabledState(rowIndex, col, cellName),
      onChange: functions.onCellValueChange(rowIndex, col, createValueParser),
      onFocus: functions.onCellFocus(cellName, col.componentType, rowIndex, column.columnKey)
    }, col.createComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  },
  // primitiveCellFilter
  cellFilter: function cellFilter(col, column, tabIndex, gridId, filterValueParser, formControlType, functions) {
    var primitiveProps = _extends({
      id: "ocDatagridFilterInput-" + gridId + "-" + column.columnKey,
      style: column.style,
      tabIndex: tabIndex,
      type: formControlType,
      value: functions.getItemValue(col),
      onChange: functions.onCellValueChange(col, filterValueParser)
    }, col.filterComponentProps);

    return primitiveRender(_extends({}, primitiveProps));
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9kYXRhZ3JpZC9jb2x1bW4tc2VydmljZS9jb2x1bW4tdHlwZXMvcHJpbWl0aXZlLXJlbmRlcmVycy5qc3giXSwibmFtZXMiOlsiUmVhY3QiLCJGb3JtQ29udHJvbCIsImZvcm1hdE51bWJlciIsInByaW1pdGl2ZVJlbmRlciIsInByaW1pdGl2ZVByb3BzIiwibnVtYmVyVmFsUmVuZGVyIiwiY29sIiwicm93SW5kZXgiLCJ0aG91c2FuZFNlcGFyYXRvciIsImRlY2ltYWxTZXBhcmF0b3IiLCJ2YWx1ZVJlbmRlciIsImRlY2ltYWxzIiwiY29tcG9uZW50VHlwZSIsInYiLCJ2YWx1ZU9wdGlvbnMiLCJjZWxsRWRpdCIsImNvbHVtbiIsInRhYkluZGV4IiwiZ3JpZElkIiwiZWRpdFZhbHVlUGFyc2VyIiwiZm9ybUNvbnRyb2xUeXBlIiwiZnVuY3Rpb25zIiwiZ2V0Q29tcG9uZW50RGlzYWJsZWRTdGF0ZSIsImNlbGxOYW1lIiwiaWQiLCJjb2x1bW5LZXkiLCJzdHlsZSIsInR5cGUiLCJ2YWx1ZSIsImdldEl0ZW1WYWx1ZSIsIm9uQmx1ciIsIm9uQ2VsbEJsdXIiLCJvbktleURvd24iLCJvbkNlbGxLZXlEb3duIiwiaW5wdXRSZWYiLCJoYW5kbGVDZWxsUmVmIiwiZGlzYWJsZWQiLCJvbkNoYW5nZSIsIm9uQ2VsbFZhbHVlQ2hhbmdlIiwib25Gb2N1cyIsIm9uQ2VsbEZvY3VzIiwiZWRpdENvbXBvbmVudFByb3BzIiwiY2VsbENyZWF0ZSIsImNyZWF0ZVZhbHVlUGFyc2VyIiwiY3JlYXRlQ29tcG9uZW50UHJvcHMiLCJjZWxsRmlsdGVyIiwiZmlsdGVyVmFsdWVQYXJzZXIiLCJmaWx0ZXJDb21wb25lbnRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBQ0EsU0FBU0MsV0FBVCxRQUE0QixpQkFBNUI7QUFDQSxTQUFTQyxZQUFULFFBQTZCLDBCQUE3QjtBQUVBLE9BQU8sSUFBTUMsZUFB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QXRCO0FBQ0QsR0FyRVk7QUFzRWI7QUFDQXlDLEVBQUFBLFVBdkVhLHNCQXVFRnZDLEdBdkVFLEVBdUVHVSxNQXZFSCxFQXVFV0MsUUF2RVgsRUF1RXFCQyxNQXZFckIsRUF1RTZCNEIsaUJBdkU3QixFQXVFZ0QxQixlQXZFaEQsRUF1RWlFQyxTQXZFakUsRUF1RTRFO0FBQ3ZGLFFBQU1qQixjQUFjO0FBQ2xCb0IsTUFBQUEsRUFBRSw2QkFBMkJOLE1BQTNCLFNBQXFDRixNQUFNLENBQUNTLFNBRDVCO0FBRWxCQyxNQUFBQSxLQUFLLEVBQUVWLE1BQU0sQ0FBQ1UsS0FGSTtBQUdsQlQsTUFBQUEsUUFBUSxFQUFSQSxRQUhrQjtBQUlsQlUsTUFBQUEsSUFBSSxFQUFFUCxlQUpZO0FBS2xCUSxNQUFBQSxLQUFLLEVBQUVQLFNBQVMsQ0FBQ1EsWUFBVixDQUF1QnZCLEdBQXZCLENBTFc7QUFNbEIrQixNQUFBQSxRQUFRLEVBQUVoQixTQUFTLENBQUNpQixpQkFBVixDQUE0QmhDLEdBQTVCLEVBQWlDd0MsaUJBQWpDO0FBTlEsT0FPZnhDLEdBQUcsQ0FBQ3lDLG9CQVBXLENBQXBCOztBQVNBLFdBQU81QyxlQUFlLGNBQU1DLGNBQU4sRUFBdEI7QUFDRDtBQWxGWSxDQUFmIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1Db250cm9sIH0gZnJvbSAncmVhY3QtYm9vdHN0cmFwJztcbmltcG9ydCB7IGZvcm1hdE51bWJlciB9IGZyb20gJ0BvcHVzY2FwaXRhL2Zvcm1hdC11dGlscyc7XG5cbmV4cG9ydCBjb25zdCBwcmltaXRpdmVSZW5kZXIgPSBwcmltaXRpdmVQcm9wcyA9PiA8Rm9ybUNvbnRyb2wgey4uLnByaW1pdGl2ZVByb3BzfSAvPjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvLyBwcmltaXRpdmVOdW1iZXJWYWx1ZVJlbmRlclxuICBudW1iZXJWYWxSZW5kZXIoY29sLCByb3dJbmRleCwgdGhvdXNhbmRTZXBhcmF0b3IsIGRlY2ltYWxTZXBhcmF0b3IsIHZhbHVlUmVuZGVyKSB7XG4gICAgY29uc3QgZGVjaW1hbHMgPSBjb2wuY29tcG9uZW50VHlwZSA9PT0gJ251bWJlcicgPyAwIDogMjtcbiAgICByZXR1cm4gdmFsdWVSZW5kZXIocm93SW5kZXgsIHYgPT4gZm9ybWF0TnVtYmVyKHYsIHtcbiAgICAgIGRlY2ltYWxzOiAoY29sLnZhbHVlT3B0aW9ucyAmJiBjb2wudmFsdWVPcHRpb25zLmRlY2ltYWxzKSB8fCBkZWNpbWFscyxcbiAgICAgIHRob3VzYW5kU2VwYXJhdG9yOlxuICAgICAgICAgIChjb2wudmFsdWVPcHRpb25zICYmIGNvbC52YWx1ZU9wdGlvbnMudGhvdXNhbmRTZXBhcmF0b3IpIHx8IHRob3VzYW5kU2VwYXJhdG9yLFxuICAgICAgZGVjaW1hbFNlcGFyYXRvcjpcbiAgICAgICAgICAoY29sLnZhbHVlT3B0aW9ucyAmJiBjb2wudmFsdWVPcHRpb25zLmRlY2ltYWxTZXBhcmF0b3IpIHx8IGRlY2ltYWxTZXBhcmF0b3IsXG4gICAgfSkpO1xuICB9LFxuICAvLyBwcmltaXRpdmVDZWxsRWRpdFxuICBjZWxsRWRpdChcbiAgICBjb2wsXG4gICAgY29sdW1uLFxuICAgIHJvd0luZGV4LFxuICAgIHRhYkluZGV4LFxuICAgIGdyaWRJZCxcbiAgICBlZGl0VmFsdWVQYXJzZXIsXG4gICAgZm9ybUNvbnRyb2xUeXBlLFxuICAgIGZ1bmN0aW9ucyxcbiAgICBnZXRDb21wb25lbnREaXNhYmxlZFN0YXRlLFxuICApIHtcbiAgICBjb25zdCBjZWxsTmFtZSA9ICdlZGl0JztcbiAgICBjb25zdCBwcmltaXRpdmVQcm9wcyA9IHtcbiAgICAgIGlkOiBgb2NEYXRhZ3JpZEVkaXRJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fS0ke3Jvd0luZGV4fWAsXG4gICAgICBzdHlsZTogY29sdW1uLnN0eWxlLFxuICAgICAgdGFiSW5kZXgsXG4gICAgICB0eXBlOiBmb3JtQ29udHJvbFR5cGUsXG4gICAgICB2YWx1ZTogZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShyb3dJbmRleCwgY29sKSxcbiAgICAgIG9uQmx1cjogZnVuY3Rpb25zLm9uQ2VsbEJsdXIocm93SW5kZXgsIGNvbCksXG4gICAgICBvbktleURvd246IGZ1bmN0aW9ucy5vbkNlbGxLZXlEb3duKHJvd0luZGV4LCBjb2wpLFxuICAgICAgaW5wdXRSZWY6IGZ1bmN0aW9ucy5oYW5kbGVDZWxsUmVmKHJvd0luZGV4LCBjb2wpLFxuICAgICAgZGlzYWJsZWQ6IGdldENvbXBvbmVudERpc2FibGVkU3RhdGUocm93SW5kZXgsIGNvbCwgY2VsbE5hbWUpLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9ucy5vbkNlbGxWYWx1ZUNoYW5nZShyb3dJbmRleCwgY29sLCBlZGl0VmFsdWVQYXJzZXIpLFxuICAgICAgb25Gb2N1czogZnVuY3Rpb25zLm9uQ2VsbEZvY3VzKGNlbGxOYW1lLCBjb2wuY29tcG9uZW50VHlwZSwgcm93SW5kZXgsIGNvbHVtbi5jb2x1bW5LZXkpLFxuICAgICAgLi4uY29sLmVkaXRDb21wb25lbnRQcm9wcyxcbiAgICB9O1xuICAgIHJldHVybiBwcmltaXRpdmVSZW5kZXIoeyAuLi5wcmltaXRpdmVQcm9wcyB9KTtcbiAgfSxcbiAgLy8gcHJpbWl0aXZlQ2VsbENyZWF0ZVxuICBjZWxsQ3JlYXRlKFxuICAgIGNvbCxcbiAgICBjb2x1bW4sXG4gICAgcm93SW5kZXgsXG4gICAgdGFiSW5kZXgsXG4gICAgZ3JpZElkLFxuICAgIGNyZWF0ZVZhbHVlUGFyc2VyLFxuICAgIGZvcm1Db250cm9sVHlwZSxcbiAgICBmdW5jdGlvbnMsXG4gICAgZ2V0Q29tcG9uZW50RGlzYWJsZWRTdGF0ZSxcbiAgKSB7XG4gICAgY29uc3QgY2VsbE5hbWUgPSAnY3JlYXRlJztcbiAgICBjb25zdCBwcmltaXRpdmVQcm9wcyA9IHtcbiAgICAgIGlkOiBgb2NEYXRhZ3JpZENyZWF0ZUlucHV0LSR7Z3JpZElkfS0ke2NvbHVtbi5jb2x1bW5LZXl9LSR7cm93SW5kZXh9YCxcbiAgICAgIHN0eWxlOiBjb2x1bW4uc3R5bGUsXG4gICAgICB0YWJJbmRleCxcbiAgICAgIHR5cGU6IGZvcm1Db250cm9sVHlwZSB8fCBjb2wuY29tcG9uZW50VHlwZSxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbnMuZ2V0SXRlbVZhbHVlKHJvd0luZGV4LCBjb2wpLFxuICAgICAgb25CbHVyOiBmdW5jdGlvbnMub25DZWxsQmx1cihyb3dJbmRleCwgY29sKSxcbiAgICAgIG9uS2V5RG93bjogZnVuY3Rpb25zLm9uQ2VsbEtleURvd24ocm93SW5kZXgsIGNvbCwgZmFsc2UpLFxuICAgICAgaW5wdXRSZWY6IGZ1bmN0aW9ucy5oYW5kbGVDZWxsUmVmKHJvd0luZGV4LCBjb2wpLFxuICAgICAgZGlzYWJsZWQ6IGdldENvbXBvbmVudERpc2FibGVkU3RhdGUocm93SW5kZXgsIGNvbCwgY2VsbE5hbWUpLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9ucy5vbkNlbGxWYWx1ZUNoYW5nZShyb3dJbmRleCwgY29sLCBjcmVhdGVWYWx1ZVBhcnNlciksXG4gICAgICBvbkZvY3VzOiBmdW5jdGlvbnMub25DZWxsRm9jdXMoY2VsbE5hbWUsIGNvbC5jb21wb25lbnRUeXBlLCByb3dJbmRleCwgY29sdW1uLmNvbHVtbktleSksXG4gICAgICAuLi5jb2wuY3JlYXRlQ29tcG9uZW50UHJvcHMsXG4gICAgfTtcbiAgICByZXR1cm4gcHJpbWl0aXZlUmVuZGVyKHsgLi4ucHJpbWl0aXZlUHJvcHMgfSk7XG4gIH0sXG4gIC8vIHByaW1pdGl2ZUNlbGxGaWx0ZXJcbiAgY2VsbEZpbHRlcihjb2wsIGNvbHVtbiwgdGFiSW5kZXgsIGdyaWRJZCwgZmlsdGVyVmFsdWVQYXJzZXIsIGZvcm1Db250cm9sVHlwZSwgZnVuY3Rpb25zKSB7XG4gICAgY29uc3QgcHJpbWl0aXZlUHJvcHMgPSB7XG4gICAgICBpZDogYG9jRGF0YWdyaWRGaWx0ZXJJbnB1dC0ke2dyaWRJZH0tJHtjb2x1bW4uY29sdW1uS2V5fWAsXG4gICAgICBzdHlsZTogY29sdW1uLnN0eWxlLFxuICAgICAgdGFiSW5kZXgsXG4gICAgICB0eXBlOiBmb3JtQ29udHJvbFR5cGUsXG4gICAgICB2YWx1ZTogZnVuY3Rpb25zLmdldEl0ZW1WYWx1ZShjb2wpLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9ucy5vbkNlbGxWYWx1ZUNoYW5nZShjb2wsIGZpbHRlclZhbHVlUGFyc2VyKSxcbiAgICAgIC4uLmNvbC5maWx0ZXJDb21wb25lbnRQcm9wcyxcbiAgICB9O1xuICAgIHJldHVybiBwcmltaXRpdmVSZW5kZXIoeyAuLi5wcmltaXRpdmVQcm9wcyB9KTtcbiAgfSxcbn07XG4iXX0=