import Immutable, { Map, List } from 'immutable';
import { TYPES } from './datagrid.actions';
import { INITIAL_STATE } from './datagrid.constants';
import Utils from './datagrid.utils';

export default function datagridReducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;
  var action = arguments[1];

  switch (action.type) {
    case TYPES.PLATFORM_DATAGRID_INVALIDATE:
      return state.deleteIn([action.id, 'data']).deleteIn([action.id, 'allData']).deleteIn([action.id, 'session']).deleteIn([action.id, 'selectedCell']).deleteIn([action.id, 'editData']).deleteIn([action.id, 'createData']).deleteIn([action.id, 'createCellMessages']).deleteIn([action.id, 'cellMessages']);

    case TYPES.PLATFORM_DATAGRID_FORCE_REFRESH:
      return state.set('forceRefresh', Date.now());

    case TYPES.PLATFORM_DATAGRID_SET_DATA:
      return state.setIn([action.id, 'data'], action.data).setIn([action.id, 'allData'], action.data).setIn([action.id, 'config'], Immutable.fromJS(action.config)).setIn([action.id, 'selectedItems'], Immutable.fromJS(action.selectedItems)).mergeIn([action.id, 'session'], {
        isEditing: false,
        isCreating: false,
        isBusy: false
      }).deleteIn([action.id, 'selectedCell']).deleteIn([action.id, 'editData']).deleteIn([action.id, 'createData']).deleteIn([action.id, 'createCellMessages']).deleteIn([action.id, 'cellMessages']);

    case TYPES.PLATFORM_DATAGRID_BUSY:
      return state.setIn([action.id, 'session', 'isBusy'], true);

    case TYPES.PLATFORM_DATAGRID_READY:
      return state.setIn([action.id, 'session', 'isBusy'], false);

    case TYPES.PLATFORM_DATAGRID_APPLY_SORT:
      return state.setIn([action.id, 'data'], action.data).setIn([action.id, 'allData'], action.allData);

    case TYPES.PLATFORM_DATAGRID_SORT_CHANGE:
      return state.setIn([action.id, 'config', 'sortingData'], Map({
        sortColumn: action.sortColumn,
        sortOrder: action.sortOrder
      }));

    case TYPES.PLATFORM_DATAGRID_RESIZE_COLUMN:
      return state.setIn([action.id, 'config', 'columnWidths'], action.columnWidths);

    case TYPES.PLATFORM_DATAGRID_EDIT:
      return state.setIn([action.id, 'session', 'isEditing'], true);

    case TYPES.PLATFORM_DATAGRID_CREATE:
      return state.setIn([action.id, 'createData'], List([Immutable.fromJS(action.columnDefaultValues)])).deleteIn([action.id, 'selectedCell']).mergeIn([action.id, 'session'], {
        isCreating: true
      });

    case TYPES.PLATFORM_DATAGRID_ADD_NEW_ITEM:
      return state.updateIn([action.id, 'createData'], List(), function (items) {
        return items.push(Immutable.fromJS(action.columnDefaultValues));
      });

    case TYPES.PLATFORM_DATAGRID_REMOVE_ITEM:
      {
        var allDataIndex = state.getIn([action.id, 'allData'], List()).findIndex(function (item) {
          return item.getIn(action.idKeyPath) === action.rowId;
        });
        var dataIndex = state.getIn([action.id, 'data'], List()).findIndex(function (item) {
          return item.getIn(action.idKeyPath) === action.rowId;
        });
        return state.deleteIn([action.id, 'data', dataIndex]).deleteIn([action.id, 'allData', allDataIndex]).deleteIn([action.id, 'editData', action.rowId]).deleteIn([action.id, 'cellMessages', 'error', action.rowId]).deleteIn([action.id, 'cellMessages', 'info', action.rowId]).deleteIn([action.id, 'cellMessages', 'warning', action.rowId]);
      }

    case TYPES.PLATFORM_DATAGRID_SET_FOCUS_TO:
      {
        // focus type is saved as a immutable Map to make it easier to detect changes
        // when requesting same type of focus several times
        return state.setIn([action.id, 'session', 'focusType'], Map({ type: action.focusTo, focusToLastRow: action.focusToLastRow }));
      }

    case TYPES.PLATFORM_DATAGRID_REMOVE_NEW_ITEM:
      return state.deleteIn([action.id, 'createData', action.index]);

    case TYPES.PLATFORM_DATAGRID_REMOVE_NEW_ITEMS:
      return state.setIn([action.id, 'createData'], state.getIn([action.id, 'createData'], List()).filter(function (val, idx) {
        return action.indexes.indexOf(idx) === -1;
      }));

    case TYPES.PLATFORM_DATAGRID_CANCEL:
      return state.mergeIn([action.id, 'session'], Map({
        isEditing: false,
        isCreating: false
      })).deleteIn([action.id, 'editData']).deleteIn([action.id, 'createData']).deleteIn([action.id, 'createCellMessages', 'error']).deleteIn([action.id, 'cellMessages', 'error']);

    case TYPES.PLATFORM_DATAGRID_SAVE:
      return state.setIn([action.id, 'session', 'isBusy'], true);

    case TYPES.PLATFORM_DATAGRID_EXTEND_DATA:
      {
        var allData = state.getIn([action.id, 'allData']);
        var extendedData = action.prepend ? action.data.concat(allData) : allData.concat(action.data);

        return state.setIn([action.id, 'data'], extendedData).setIn([action.id, 'allData'], extendedData);
      }

    case TYPES.PLATFORM_DATAGRID_SAVE_SUCCESS:
      {
        var _allData = state.getIn([action.id, 'allData']);
        var firstCreatedId = null;

        action.savedItems.forEach(function (savedItemJS) {
          var savedItem = Immutable.fromJS(savedItemJS);
          var foundIndex = _allData.findIndex(function (d) {
            return d.getIn(action.idKeyPath) === savedItem.getIn(action.idKeyPath);
          });
          if (foundIndex === -1) {
            if (!firstCreatedId && savedItem.getIn(action.idKeyPath)) {
              firstCreatedId = savedItem.getIn(action.idKeyPath);
            }
            _allData = _allData.push(savedItem);
          } else {
            _allData = _allData.mergeDeepIn([foundIndex], savedItem);
          }
        });

        var newState = state.setIn([action.id, 'data'], _allData).setIn([action.id, 'allData'], _allData).mergeIn([action.id, 'session'], {
          isBusy: false,
          isEditing: false,
          isCreating: false
        }).deleteIn([action.id, 'editData']).deleteIn([action.id, 'createData']).deleteIn([action.id, 'createCellMessages', 'error']).deleteIn([action.id, 'cellMessages', 'error']);

        if (firstCreatedId) {
          Utils.saveSelectedItems(action.id, [firstCreatedId]);
          newState = newState.setIn([action.id, 'selectedItems'], List([firstCreatedId]));
        }

        return newState;
      }

    case TYPES.PLATFORM_DATAGRID_SAVE_PARTIAL_SUCCESS:
      {
        var _allData2 = state.getIn([action.id, 'allData']);
        var createData = state.getIn([action.id, 'createData']);
        var editData = state.getIn([action.id, 'editData']);
        var isCreating = state.getIn([action.id, 'session', 'isCreating']);
        action.savedItems.forEach(function (savedItemJS) {
          var savedItem = Immutable.fromJS(savedItemJS);
          var foundIndex = _allData2.findIndex(function (d) {
            return d.getIn(action.idKeyPath) === savedItem.getIn(action.idKeyPath);
          });
          if (foundIndex === -1) {
            _allData2 = _allData2.push(savedItem);
          } else {
            _allData2 = _allData2.mergeDeepIn([foundIndex], savedItem);
          }
          if (isCreating) {
            foundIndex = savedItem.get('rowIndex');
            if (foundIndex !== undefined && foundIndex !== null) {
              createData = createData.delete(foundIndex);
            }
          } else {
            editData = editData.delete(savedItem.getIn(action.idKeyPath));
          }
        });
        return state.setIn([action.id, 'data'], _allData2).setIn([action.id, 'allData'], _allData2).setIn([action.id, 'createData'], createData).setIn([action.id, 'editData'], editData).setIn([action.id, 'session', 'isBusy'], false);
      }

    case TYPES.PLATFORM_DATAGRID_SAVE_FAIL:
      return state.setIn([action.id, 'session', 'isBusy'], false);

    case TYPES.PLATFORM_DATAGRID_REMOVE:
      return state.setIn([action.id, 'session', 'isBusy'], true);

    case TYPES.PLATFORM_DATAGRID_REMOVE_SUCCESS:
      return state.setIn([action.id, 'session', 'isBusy'], false).updateIn([action.id, 'data'], function (data) {
        return data.filterNot(function (item) {
          return action.removedIds.indexOf(item.getIn(action.idKeyPath)) > -1;
        });
      }).updateIn([action.id, 'allData'], function (data) {
        return data.filterNot(function (item) {
          return action.removedIds.indexOf(item.getIn(action.idKeyPath)) > -1;
        });
      }).deleteIn([action.id, 'selectedItems']);

    case TYPES.PLATFORM_DATAGRID_REMOVE_FAIL:
      return state.setIn([action.id, 'session', 'isBusy'], false);

    case TYPES.PLATFORM_DATAGRID_EDIT_CELL_VALUE_CHANGE:
      return state.setIn([action.id, 'editData', action.dataId].concat(action.keyPath), action.value);

    case TYPES.PLATFORM_DATAGRID_CREATE_CELL_VALUE_CHANGE:
      return state.setIn([action.id, 'createData', action.rowIndex].concat(action.keyPath), action.value);

    case TYPES.PLATFORM_DATAGRID_CELL_SHOW_MESSAGE:
      return state.setIn([action.id, 'cellMessages', action.messageType, action.dataId].concat(action.keyPath), { id: action.messageId, values: action.messageValues });

    case TYPES.PLATFORM_DATAGRID_CELL_SHOW_MESSAGES:
      return state.mergeIn([action.id, 'cellMessages'], Immutable.fromJS(action.messages));

    case TYPES.PLATFORM_DATAGRID_CELL_HIDE_MESSAGE:
      {
        if (action.messageType === null) {
          return state.deleteIn([action.id, 'cellMessages']);
        }
        if (action.dataId === null) {
          return state.deleteIn([action.id, 'cellMessages', action.messageType]);
        }
        var rowMessage = state.getIn([action.id, 'cellMessages', action.messageType, action.dataId]);
        if (rowMessage) {
          if (action.keyPath) {
            rowMessage = rowMessage.deleteIn(action.keyPath);
          }
          if (rowMessage.size === 0 || !action.keyPath) {
            return state.deleteIn([action.id, 'cellMessages', action.messageType, action.dataId]);
          }
          return state.setIn([action.id, 'cellMessages', action.messageType, action.dataId], rowMessage);
        }
        return state;
      }

    case TYPES.PLATFORM_DATAGRID_CREATE_CELL_SHOW_MESSAGE:
      return state.setIn([action.id, 'createCellMessages', action.messageType, action.rowIndex].concat(action.keyPath), { id: action.messageId, values: action.messageValues });

    case TYPES.PLATFORM_DATAGRID_CREATE_CELL_HIDE_MESSAGE:
      {
        if (action.messageType === null) {
          return state.deleteIn([action.id, 'createCellMessages']);
        }
        if (action.rowIndex === null) {
          return state.deleteIn([action.id, 'createCellMessages', action.messageType]);
        }
        var _rowMessage = state.getIn([action.id, 'createCellMessages', action.messageType, action.rowIndex]);
        if (_rowMessage) {
          if (action.keyPath) {
            _rowMessage = _rowMessage.deleteIn(action.keyPath);
          }
          if (_rowMessage.size === 0 || !action.keyPath) {
            return state.deleteIn([action.id, 'createCellMessages', action.messageType, action.rowIndex]);
          }
          return state.setIn([action.id, 'createCellMessages', action.messageType, action.rowIndex], _rowMessage);
        }
        return state;
      }

    case TYPES.PLATFORM_DATAGRID_CELL_SELECTION_CHANGE:
      return state.setIn([action.id, 'selectedCell'], action.selectedCell);

    case TYPES.PLATFORM_DATAGRID_ITEM_SELECTION_CHANGE:
      {
        var _newState = state.setIn([action.id, 'session', 'lastClickedRowIndex'], action.rowIndex);

        // Handle case where shift key is pressed
        // Select all rows from lastClickedRow to currently clicked row
        if (action.shiftPressed) {
          var lastRowIndex = state.getIn([action.id, 'session', 'lastClickedRowIndex'], false);
          if (lastRowIndex !== false) {
            var selectRowIds = [];
            if (lastRowIndex < action.rowIndex) {
              for (var i = lastRowIndex; i <= action.rowIndex; i += 1) {
                var _dataId = state.getIn([action.id, 'data', i].concat(action.idKeyPath));
                if (_dataId) {
                  selectRowIds.push(_dataId);
                }
              }
            } else {
              for (var _i = action.rowIndex; _i <= lastRowIndex; _i += 1) {
                var _dataId2 = state.getIn([action.id, 'data', _i].concat(action.idKeyPath));
                if (_dataId2) {
                  selectRowIds.push(_dataId2);
                }
              }
            }
            return _newState.setIn([action.id, 'selectedItems'], List(selectRowIds));
          }
        }

        var dataId = state.getIn([action.id, 'data', action.rowIndex].concat(action.idKeyPath));
        var foundIndex = state.getIn([action.id, 'selectedItems'], List()).indexOf(dataId);
        if (foundIndex === -1) {
          if (action.ctrlPressed) {
            return _newState.updateIn([action.id, 'selectedItems'], List(), function (items) {
              return items.push(dataId);
            });
          }
          return _newState.setIn([action.id, 'selectedItems'], List([dataId]));
        }
        if (action.ctrlPressed) {
          return _newState.updateIn([action.id, 'selectedItems'], function (items) {
            return items.delete(foundIndex);
          });
        }
        return _newState.setIn([action.id, 'selectedItems'], List([dataId]));
      }

    case TYPES.PLATFORM_DATAGRID_SELECT_ALL_ITEMS_CHANGE:
      if (state.getIn([action.id, 'selectedItems'], List()).size === state.getIn([action.id, 'data'], List()).size) {
        return state.deleteIn([action.id, 'selectedItems']);
      }
      return state.setIn([action.id, 'selectedItems'], state.getIn([action.id, 'data'], List()).map(function (item) {
        return item.getIn(action.idKeyPath);
      }));

    case TYPES.PLATFORM_DATAGRID_CLEAR_SELECTED_ITEMS:
      return state.deleteIn([action.id, 'selectedItems']);

    case TYPES.PLATFORM_DATAGRID_TOGGLE_FILTERING:
      {
        if (!action.isFiltering) {
          return state.setIn([action.id, 'config', 'filteringData'], Map({ isFiltering: false })).setIn([action.id, 'data'], state.getIn([action.id, 'allData']));
        }
        return state.setIn([action.id, 'config', 'filteringData'], Map({ isFiltering: true }));
      }

    case TYPES.PLATFORM_DATAGRID_FILTER_DATA_CHANGE:
      return state.setIn([action.id, 'config', 'filteringData', 'filterData'], action.filterData);

    case TYPES.PLATFORM_DATAGRID_APPLY_FILTERS:
      return state.setIn([action.id, 'data'], action.data);

    case TYPES.PLATFORM_DATAGRID_SET_FILTERS:
      return state.setIn([action.id, 'config', 'filteringData'], action.filteringData);

    case TYPES.PLATFORM_DATAGRID_UPDATE_EXISTING_CELL_VALUE:
      {
        var _newState2 = state.setIn([action.id, 'allData', action.dataId].concat(action.keyPath), action.value);
        if (state.hasIn([action.id, 'data', action.dataId].concat(action.keyPath))) {
          return _newState2.setIn([action.id, 'data', action.dataId].concat(action.keyPath), action.value);
        }
        return _newState2;
      }

    case TYPES.PLATFORM_DATAGRID_SET_EDIT_DATA:
      return state.setIn([action.id, 'session', 'isEditing'], true).setIn([action.id, 'editData'], action.data).setIn([action.id, 'cellMessages'], action.cellMessages);

    case TYPES.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_OPEN:
      return state.setIn([action.id, 'session', 'columnSettingsModal', 'open'], true);

    case TYPES.PLATFORM_DATAGRID_COLUMN_SETTINGS_MODAL_CLOSE:
      return state.deleteIn([action.id, 'session', 'columnSettingsModal']);

    case TYPES.PLATFORM_DATAGRID_COLUMN_SETTINGS_SAVE:
      return state.setIn([action.id, 'config', 'visibleColumns'], Immutable.fromJS(action.columnOrder));

    case TYPES.PLATFORM_DATAGRID_SET_PAGINATION_PAGE:
      return state.setIn([action.id, 'config', 'pagination', 'page'], action.paginationPage);

    default:
      return state;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kYXRhZ3JpZC9kYXRhZ3JpZC5yZWR1Y2VyLmpzIl0sIm5hbWVzIjpbIkltbXV0YWJsZSIsIk1hcCIsIkxpc3QiLCJUWVBFUyIsIklOSVRJQUxfU1RBVEUiLCJVdGlscyIsImRhdGFncmlkUmVkdWNlciIsInN0YXRlIiwiYWN0aW9uIiwidHlwZSIsIlBMQVRGT1JNX0RBVEFHUklEX0lOVkFMSURBVEUiLCJkZWxldGVJbiIsImlkIiwiUExBVEZPUk1fREFUQUdSSURfRk9SQ0VfUkVGUkVTSCIsInNldCIsIkRhdGUiLCJub3ciLCJQTEFURk9STV9EQVRBR1JJRF9TRVRfREFUQSIsInNldEluIiwiZGF0YSIsImZyb21KUyIsImNvbmZpZyIsInNlbGVjdGVkSXRlbXMiLCJtZXJnZUluIiwiaXNFZGl0aW5nIiwiaXNDcmVhdGluZyIsImlzQnVzeSIsIlBMQVRGT1JNX0RBVEFHUklEX0JVU1kiLCJQTEFURk9STV9EQVRBR1JJRF9SRUFEWSIsIlBMQVRGT1JNX0RBVEFHUklEX0FQUExZX1NPUlQiLCJhbGxEYXRhIiwiUExBVEZPUk1fREFUQUdSSURfU09SVF9DSEFOR0UiLCJzb3J0Q29sdW1uIiwic29ydE9yZGVyIiwiUExBVEZPUk1fREFUQUdSSURfUkVTSVpFX0NPTFVNTiIsImNvbHVtbldpZHRocyIsIlBMQVRGT1JNX0RBVEFHUklEX0VESVQiLCJQTEFURk9STV9EQVRBR1JJRF9DUkVBVEUiLCJjb2x1bW5EZWZhdWx0VmFsdWVzIiwiUExBVEZPUk1fREFUQUdSSURfQUREX05FV19JVEVNIiwidXBkYXRlSW4iLCJpdGVtcyIsInB1c2giLCJQTEFURk9STV9EQVRBR1JJRF9SRU1PVkVfSVRFTSIsImFsbERhdGFJbmRleCIsImdldEluIiwiZmluZEluZGV4IiwiaXRlbSIsImlkS2V5UGF0aCIsInJvd0lkIiwiZGF0YUluZGV4IiwiUExBVEZPUk1fREFUQUdSSURfU0VUX0ZPQ1VTX1RPIiwiZm9jdXNUbyIsImZvY3VzVG9MYXN0Um93IiwiUExBVEZPUk1fREFUQUdSSURfUkVNT1ZFX05FV19JVEVNIiwiaW5kZXgiLCJQTEFURk9STV9EQVRBR1JJRF9SRU1PVkVfTkVXX0lURU1TIiwiZmlsdGVyIiwidmFsIiwiaWR4IiwiaW5kZXhlcyIsImluZGV4T2YiLCJQTEFURk9STV9EQVRBR1JJRF9DQU5DRUwiLCJQTEFURk9STV9EQVRBR1JJRF9TQVZFIiwiUExBVEZPUk1fREFUQUdSSURfRVhURU5EX0RBVEEiLCJleHRlbmRlZERhdGEiLCJwcmVwZW5kIiwiY29uY2F0IiwiUExBVEZPUk1fREFUQUdSSURfU0FWRV9TVUNDRVNTIiwiZmlyc3RDcmVhdGVkSWQiLCJzYXZlZEl0ZW1zIiwiZm9yRWFjaCIsInNhdmVkSXRlbUpTIiwic2F2ZWRJdGVtIiwiZm91bmRJbmRleCIsImQiLCJtZXJnZURlZXBJbiIsIm5ld1N0YXRlIiwic2F2ZVNlbGVjdGVkSXRlbXMiLCJQTEFURk9STV9EQVRBR1JJRF9TQVZFX1BBUlRJQUxfU1VDQ0VTUyIsImNyZWF0ZURhdGEiLCJlZGl0RGF0YSIsImdldCIsInVuZGVmaW5lZCIsImRlbGV0ZSIsIlBMQVRGT1JNX0RBVEFHUklEX1NBVkVfRkFJTCIsIlBMQVRGT1JNX0RBVEFHUklEX1JFTU9WRSIsIlBMQVRGT1JNX0RBVEFHUklEX1JFTU9WRV9TVUNDRVNTIiwiZmlsdGVyTm90IiwicmVtb3ZlZElkcyIsIlBMQVRGT1JNX0RBVEFHUklEX1JFTU9WRV9GQUlMIiwiUExBVEZPUk1fREFUQUdSSURfRURJVF9DRUxMX1ZBTFVFX0NIQU5HRSIsImRhdGFJZCIsImtleVBhdGgiLCJ2YWx1ZSIsIlBMQVRGT1JNX0RBVEFHUklEX0NSRUFURV9DRUxMX1ZBTFVFX0NIQU5HRSIsInJvd0luZGV4IiwiUExBVEZPUk1fREFUQUdSSURfQ0VMTF9TSE9XX01FU1NBR0UiLCJtZXNzYWdlVHlwZSIsIm1lc3NhZ2VJZCIsInZhbHVlcyIsIm1lc3NhZ2VWYWx1ZXMiLCJQTEFURk9STV9EQVRBR1JJRF9DRUxMX1NIT1dfTUVTU0FHRVMiLCJtZXNzYWdlcyIsIlBMQVRGT1JNX0RBVEFHUklEX0NFTExfSElERV9NRVNTQUdFIiwicm93TWVzc2FnZSIsInNpemUiLCJQTEFURk9STV9EQVRBR1JJRF9DUkVBVEVfQ0VMTF9TSE9XX01FU1NBR0UiLCJQTEFURk9STV9EQVRBR1JJRF9DUkVBVEVfQ0VMTF9ISURFX01FU1NBR0UiLCJQTEFURk9STV9EQVRBR1JJRF9DRUxMX1NFTEVDVElPTl9DSEFOR0UiLCJzZWxlY3RlZENlbGwiLCJQTEFURk9STV9EQVRBR1JJRF9JVEVNX1NFTEVDVElPTl9DSEFOR0UiLCJzaGlmdFByZXNzZWQiLCJsYXN0Um93SW5kZXgiLCJzZWxlY3RSb3dJZHMiLCJpIiwiY3RybFByZXNzZWQiLCJQTEFURk9STV9EQVRBR1JJRF9TRUxFQ1RfQUxMX0lURU1TX0NIQU5HRSIsIm1hcCIsIlBMQVRGT1JNX0RBVEFHUklEX0NMRUFSX1NFTEVDVEVEX0lURU1TIiwiUExBVEZPUk1fREFUQUdSSURfVE9HR0xFX0ZJTFRFUklORyIsImlzRmlsdGVyaW5nIiwiUExBVEZPUk1fREFUQUdSSURfRklMVEVSX0RBVEFfQ0hBTkdFIiwiZmlsdGVyRGF0YSIsIlBMQVRGT1JNX0RBVEFHUklEX0FQUExZX0ZJTFRFUlMiLCJQTEFURk9STV9EQVRBR1JJRF9TRVRfRklMVEVSUyIsImZpbHRlcmluZ0RhdGEiLCJQTEFURk9STV9EQVRBR1JJRF9VUERBVEVfRVhJU1RJTkdfQ0VMTF9WQUxVRSIsImhhc0luIiwiUExBVEZPUk1fREFUQUdSSURfU0VUX0VESVRfREFUQSIsImNlbGxNZXNzYWdlcyIsIlBMQVRGT1JNX0RBVEFHUklEX0NPTFVNTl9TRVRUSU5HU19NT0RBTF9PUEVOIiwiUExBVEZPUk1fREFUQUdSSURfQ09MVU1OX1NFVFRJTkdTX01PREFMX0NMT1NFIiwiUExBVEZPUk1fREFUQUdSSURfQ09MVU1OX1NFVFRJTkdTX1NBVkUiLCJjb2x1bW5PcmRlciIsIlBMQVRGT1JNX0RBVEFHUklEX1NFVF9QQUdJTkFUSU9OX1BBR0UiLCJwYWdpbmF0aW9uUGFnZSJd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bUUsSUFBbkUsQ0FBUDs7QUFFRixTQUFLVCxNQUFNaUksNkNBQVg7QUFDRSxhQUFPN0gsTUFBTUksUUFBTixDQUFlLENBQUNILE9BQU9JLEVBQVIsRUFBWSxTQUFaLEVBQXVCLHFCQUF2QixDQUFmLENBQVA7O0FBRUYsU0FBS1QsTUFBTWtJLHNDQUFYO0FBQ0UsYUFBTzlILE1BQ0pXLEtBREksQ0FDRSxDQUFDVixPQUFPSSxFQUFSLEVBQVksUUFBWixFQUFzQixnQkFBdEIsQ0FERixFQUMyQ1osVUFBVW9CLE1BQVYsQ0FBaUJaLE9BQU84SCxXQUF4QixDQUQzQyxDQUFQOztBQUdGLFNBQUtuSSxNQUFNb0kscUNBQVg7QUFDRSxhQUFPaEksTUFDSlcsS0FESSxDQUNFLENBQUNWLE9BQU9JLEVBQVIsRUFBWSxRQUFaLEVBQXNCLFlBQXRCLEVBQW9DLE1BQXBDLENBREYsRUFDK0NKLE9BQU9nSSxjQUR0RCxDQUFQOztBQUdGO0FBQ0UsYUFBT2pJLEtBQVA7QUE5Y0o7QUFnZEQiLCJmaWxlIjoiZGF0YWdyaWQucmVkdWNlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbW11dGFibGUsIHsgTWFwLCBMaXN0IH0gZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCB7IFRZUEVTIH0gZnJvbSAnLi9kYXRhZ3JpZC5hY3Rpb25zJztcbmltcG9ydCB7IElOSVRJQUxfU1RBVEUgfSBmcm9tICcuL2RhdGFncmlkLmNvbnN0YW50cyc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi9kYXRhZ3JpZC51dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRhdGFncmlkUmVkdWNlcihzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9JTlZBTElEQVRFOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnZGF0YSddKVxuICAgICAgICAuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ2FsbERhdGEnXSlcbiAgICAgICAgLmRlbGV0ZUluKFthY3Rpb24uaWQsICdzZXNzaW9uJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnc2VsZWN0ZWRDZWxsJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnZWRpdERhdGEnXSlcbiAgICAgICAgLmRlbGV0ZUluKFthY3Rpb24uaWQsICdjcmVhdGVEYXRhJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnY3JlYXRlQ2VsbE1lc3NhZ2VzJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnY2VsbE1lc3NhZ2VzJ10pO1xuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9GT1JDRV9SRUZSRVNIOlxuICAgICAgcmV0dXJuIHN0YXRlLnNldCgnZm9yY2VSZWZyZXNoJywgRGF0ZS5ub3coKSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1NFVF9EQVRBOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnZGF0YSddLCBhY3Rpb24uZGF0YSlcbiAgICAgICAgLnNldEluKFthY3Rpb24uaWQsICdhbGxEYXRhJ10sIGFjdGlvbi5kYXRhKVxuICAgICAgICAuc2V0SW4oW2FjdGlvbi5pZCwgJ2NvbmZpZyddLCBJbW11dGFibGUuZnJvbUpTKGFjdGlvbi5jb25maWcpKVxuICAgICAgICAuc2V0SW4oW2FjdGlvbi5pZCwgJ3NlbGVjdGVkSXRlbXMnXSwgSW1tdXRhYmxlLmZyb21KUyhhY3Rpb24uc2VsZWN0ZWRJdGVtcykpXG4gICAgICAgIC5tZXJnZUluKFthY3Rpb24uaWQsICdzZXNzaW9uJ10sIHtcbiAgICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgICAgIGlzQ3JlYXRpbmc6IGZhbHNlLFxuICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnc2VsZWN0ZWRDZWxsJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnZWRpdERhdGEnXSlcbiAgICAgICAgLmRlbGV0ZUluKFthY3Rpb24uaWQsICdjcmVhdGVEYXRhJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnY3JlYXRlQ2VsbE1lc3NhZ2VzJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnY2VsbE1lc3NhZ2VzJ10pO1xuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9CVVNZOlxuICAgICAgcmV0dXJuIHN0YXRlLnNldEluKFthY3Rpb24uaWQsICdzZXNzaW9uJywgJ2lzQnVzeSddLCB0cnVlKTtcblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfUkVBRFk6XG4gICAgICByZXR1cm4gc3RhdGUuc2V0SW4oW2FjdGlvbi5pZCwgJ3Nlc3Npb24nLCAnaXNCdXN5J10sIGZhbHNlKTtcblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfQVBQTFlfU09SVDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgICAuc2V0SW4oW2FjdGlvbi5pZCwgJ2RhdGEnXSwgYWN0aW9uLmRhdGEpXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnYWxsRGF0YSddLCBhY3Rpb24uYWxsRGF0YSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1NPUlRfQ0hBTkdFOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnY29uZmlnJywgJ3NvcnRpbmdEYXRhJ10sIE1hcCh7XG4gICAgICAgICAgc29ydENvbHVtbjogYWN0aW9uLnNvcnRDb2x1bW4sXG4gICAgICAgICAgc29ydE9yZGVyOiBhY3Rpb24uc29ydE9yZGVyLFxuICAgICAgICB9KSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1JFU0laRV9DT0xVTU46XG4gICAgICByZXR1cm4gc3RhdGUuc2V0SW4oW2FjdGlvbi5pZCwgJ2NvbmZpZycsICdjb2x1bW5XaWR0aHMnXSwgYWN0aW9uLmNvbHVtbldpZHRocyk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0VESVQ6XG4gICAgICByZXR1cm4gc3RhdGUuc2V0SW4oW2FjdGlvbi5pZCwgJ3Nlc3Npb24nLCAnaXNFZGl0aW5nJ10sIHRydWUpO1xuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9DUkVBVEU6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgLnNldEluKFthY3Rpb24uaWQsICdjcmVhdGVEYXRhJ10sIExpc3QoW0ltbXV0YWJsZS5mcm9tSlMoYWN0aW9uLmNvbHVtbkRlZmF1bHRWYWx1ZXMpXSkpXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnc2VsZWN0ZWRDZWxsJ10pXG4gICAgICAgIC5tZXJnZUluKFthY3Rpb24uaWQsICdzZXNzaW9uJ10sIHtcbiAgICAgICAgICBpc0NyZWF0aW5nOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfQUREX05FV19JVEVNOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC51cGRhdGVJbihbXG4gICAgICAgICAgYWN0aW9uLmlkLFxuICAgICAgICAgICdjcmVhdGVEYXRhJyxcbiAgICAgICAgXSwgTGlzdCgpLCBpdGVtcyA9PiBpdGVtcy5wdXNoKEltbXV0YWJsZS5mcm9tSlMoYWN0aW9uLmNvbHVtbkRlZmF1bHRWYWx1ZXMpKSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1JFTU9WRV9JVEVNOiB7XG4gICAgICBjb25zdCBhbGxEYXRhSW5kZXggPSBzdGF0ZS5nZXRJbihbYWN0aW9uLmlkLCAnYWxsRGF0YSddLCBMaXN0KCkpXG4gICAgICAgIC5maW5kSW5kZXgoaXRlbSA9PiAoaXRlbS5nZXRJbihhY3Rpb24uaWRLZXlQYXRoKSA9PT0gYWN0aW9uLnJvd0lkKSk7XG4gICAgICBjb25zdCBkYXRhSW5kZXggPSBzdGF0ZS5nZXRJbihbYWN0aW9uLmlkLCAnZGF0YSddLCBMaXN0KCkpXG4gICAgICAgIC5maW5kSW5kZXgoaXRlbSA9PiAoaXRlbS5nZXRJbihhY3Rpb24uaWRLZXlQYXRoKSA9PT0gYWN0aW9uLnJvd0lkKSk7XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgLmRlbGV0ZUluKFthY3Rpb24uaWQsICdkYXRhJywgZGF0YUluZGV4XSlcbiAgICAgICAgLmRlbGV0ZUluKFthY3Rpb24uaWQsICdhbGxEYXRhJywgYWxsRGF0YUluZGV4XSlcbiAgICAgICAgLmRlbGV0ZUluKFthY3Rpb24uaWQsICdlZGl0RGF0YScsIGFjdGlvbi5yb3dJZF0pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnY2VsbE1lc3NhZ2VzJywgJ2Vycm9yJywgYWN0aW9uLnJvd0lkXSlcbiAgICAgICAgLmRlbGV0ZUluKFthY3Rpb24uaWQsICdjZWxsTWVzc2FnZXMnLCAnaW5mbycsIGFjdGlvbi5yb3dJZF0pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnY2VsbE1lc3NhZ2VzJywgJ3dhcm5pbmcnLCBhY3Rpb24ucm93SWRdKTtcbiAgICB9XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1NFVF9GT0NVU19UTzoge1xuICAgICAgLy8gZm9jdXMgdHlwZSBpcyBzYXZlZCBhcyBhIGltbXV0YWJsZSBNYXAgdG8gbWFrZSBpdCBlYXNpZXIgdG8gZGV0ZWN0IGNoYW5nZXNcbiAgICAgIC8vIHdoZW4gcmVxdWVzdGluZyBzYW1lIHR5cGUgb2YgZm9jdXMgc2V2ZXJhbCB0aW1lc1xuICAgICAgcmV0dXJuIHN0YXRlLnNldEluKFxuICAgICAgICBbYWN0aW9uLmlkLCAnc2Vzc2lvbicsICdmb2N1c1R5cGUnXSxcbiAgICAgICAgTWFwKHsgdHlwZTogYWN0aW9uLmZvY3VzVG8sIGZvY3VzVG9MYXN0Um93OiBhY3Rpb24uZm9jdXNUb0xhc3RSb3cgfSksXG4gICAgICApO1xuICAgIH1cblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfUkVNT1ZFX05FV19JVEVNOlxuICAgICAgcmV0dXJuIHN0YXRlLmRlbGV0ZUluKFthY3Rpb24uaWQsICdjcmVhdGVEYXRhJywgYWN0aW9uLmluZGV4XSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1JFTU9WRV9ORVdfSVRFTVM6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgLnNldEluKFxuICAgICAgICAgIFthY3Rpb24uaWQsICdjcmVhdGVEYXRhJ10sXG4gICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgIC5nZXRJbihbYWN0aW9uLmlkLCAnY3JlYXRlRGF0YSddLCBMaXN0KCkpXG4gICAgICAgICAgICAuZmlsdGVyKCh2YWwsIGlkeCkgPT4gYWN0aW9uLmluZGV4ZXMuaW5kZXhPZihpZHgpID09PSAtMSksXG4gICAgICAgICk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0NBTkNFTDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgICAubWVyZ2VJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbiddLCBNYXAoe1xuICAgICAgICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgICAgICAgaXNDcmVhdGluZzogZmFsc2UsXG4gICAgICAgIH0pKVxuICAgICAgICAuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ2VkaXREYXRhJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnY3JlYXRlRGF0YSddKVxuICAgICAgICAuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ2NyZWF0ZUNlbGxNZXNzYWdlcycsICdlcnJvciddKVxuICAgICAgICAuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ2NlbGxNZXNzYWdlcycsICdlcnJvciddKTtcblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfU0FWRTpcbiAgICAgIHJldHVybiBzdGF0ZS5zZXRJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbicsICdpc0J1c3knXSwgdHJ1ZSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0VYVEVORF9EQVRBOiB7XG4gICAgICBjb25zdCBhbGxEYXRhID0gc3RhdGUuZ2V0SW4oW2FjdGlvbi5pZCwgJ2FsbERhdGEnXSk7XG4gICAgICBjb25zdCBleHRlbmRlZERhdGEgPSBhY3Rpb24ucHJlcGVuZFxuICAgICAgICA/IGFjdGlvbi5kYXRhLmNvbmNhdChhbGxEYXRhKSA6IGFsbERhdGEuY29uY2F0KGFjdGlvbi5kYXRhKTtcblxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnZGF0YSddLCBleHRlbmRlZERhdGEpXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnYWxsRGF0YSddLCBleHRlbmRlZERhdGEpO1xuICAgIH1cblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfU0FWRV9TVUNDRVNTOiB7XG4gICAgICBsZXQgYWxsRGF0YSA9IHN0YXRlLmdldEluKFthY3Rpb24uaWQsICdhbGxEYXRhJ10pO1xuICAgICAgbGV0IGZpcnN0Q3JlYXRlZElkID0gbnVsbDtcblxuICAgICAgYWN0aW9uLnNhdmVkSXRlbXMuZm9yRWFjaCgoc2F2ZWRJdGVtSlMpID0+IHtcbiAgICAgICAgY29uc3Qgc2F2ZWRJdGVtID0gSW1tdXRhYmxlLmZyb21KUyhzYXZlZEl0ZW1KUyk7XG4gICAgICAgIGNvbnN0IGZvdW5kSW5kZXggPSBhbGxEYXRhLmZpbmRJbmRleChkID0+IChcbiAgICAgICAgICBkLmdldEluKGFjdGlvbi5pZEtleVBhdGgpID09PSBzYXZlZEl0ZW0uZ2V0SW4oYWN0aW9uLmlkS2V5UGF0aClcbiAgICAgICAgKSk7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgIGlmICghZmlyc3RDcmVhdGVkSWQgJiYgc2F2ZWRJdGVtLmdldEluKGFjdGlvbi5pZEtleVBhdGgpKSB7XG4gICAgICAgICAgICBmaXJzdENyZWF0ZWRJZCA9IHNhdmVkSXRlbS5nZXRJbihhY3Rpb24uaWRLZXlQYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWxsRGF0YSA9IGFsbERhdGEucHVzaChzYXZlZEl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsbERhdGEgPSBhbGxEYXRhLm1lcmdlRGVlcEluKFtmb3VuZEluZGV4XSwgc2F2ZWRJdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cblxuICAgICAgbGV0IG5ld1N0YXRlID0gc3RhdGVcbiAgICAgICAgLnNldEluKFthY3Rpb24uaWQsICdkYXRhJ10sIGFsbERhdGEpXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnYWxsRGF0YSddLCBhbGxEYXRhKVxuICAgICAgICAubWVyZ2VJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbiddLCB7XG4gICAgICAgICAgaXNCdXN5OiBmYWxzZSxcbiAgICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgICAgIGlzQ3JlYXRpbmc6IGZhbHNlLFxuICAgICAgICB9KVxuICAgICAgICAuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ2VkaXREYXRhJ10pXG4gICAgICAgIC5kZWxldGVJbihbYWN0aW9uLmlkLCAnY3JlYXRlRGF0YSddKVxuICAgICAgICAuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ2NyZWF0ZUNlbGxNZXNzYWdlcycsICdlcnJvciddKVxuICAgICAgICAuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ2NlbGxNZXNzYWdlcycsICdlcnJvciddKTtcblxuICAgICAgaWYgKGZpcnN0Q3JlYXRlZElkKSB7XG4gICAgICAgIFV0aWxzLnNhdmVTZWxlY3RlZEl0ZW1zKGFjdGlvbi5pZCwgW2ZpcnN0Q3JlYXRlZElkXSk7XG4gICAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUuc2V0SW4oW2FjdGlvbi5pZCwgJ3NlbGVjdGVkSXRlbXMnXSwgTGlzdChbZmlyc3RDcmVhdGVkSWRdKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1NBVkVfUEFSVElBTF9TVUNDRVNTOiB7XG4gICAgICBsZXQgYWxsRGF0YSA9IHN0YXRlLmdldEluKFthY3Rpb24uaWQsICdhbGxEYXRhJ10pO1xuICAgICAgbGV0IGNyZWF0ZURhdGEgPSBzdGF0ZS5nZXRJbihbYWN0aW9uLmlkLCAnY3JlYXRlRGF0YSddKTtcbiAgICAgIGxldCBlZGl0RGF0YSA9IHN0YXRlLmdldEluKFthY3Rpb24uaWQsICdlZGl0RGF0YSddKTtcbiAgICAgIGNvbnN0IGlzQ3JlYXRpbmcgPSBzdGF0ZS5nZXRJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbicsICdpc0NyZWF0aW5nJ10pO1xuICAgICAgYWN0aW9uLnNhdmVkSXRlbXMuZm9yRWFjaCgoc2F2ZWRJdGVtSlMpID0+IHtcbiAgICAgICAgY29uc3Qgc2F2ZWRJdGVtID0gSW1tdXRhYmxlLmZyb21KUyhzYXZlZEl0ZW1KUyk7XG4gICAgICAgIGxldCBmb3VuZEluZGV4ID0gYWxsRGF0YS5maW5kSW5kZXgoZCA9PiAoXG4gICAgICAgICAgZC5nZXRJbihhY3Rpb24uaWRLZXlQYXRoKSA9PT0gc2F2ZWRJdGVtLmdldEluKGFjdGlvbi5pZEtleVBhdGgpXG4gICAgICAgICkpO1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBhbGxEYXRhID0gYWxsRGF0YS5wdXNoKHNhdmVkSXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxsRGF0YSA9IGFsbERhdGEubWVyZ2VEZWVwSW4oW2ZvdW5kSW5kZXhdLCBzYXZlZEl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NyZWF0aW5nKSB7XG4gICAgICAgICAgZm91bmRJbmRleCA9IHNhdmVkSXRlbS5nZXQoJ3Jvd0luZGV4Jyk7XG4gICAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IHVuZGVmaW5lZCAmJiBmb3VuZEluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjcmVhdGVEYXRhID0gY3JlYXRlRGF0YS5kZWxldGUoZm91bmRJbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVkaXREYXRhID0gZWRpdERhdGEuZGVsZXRlKHNhdmVkSXRlbS5nZXRJbihhY3Rpb24uaWRLZXlQYXRoKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnZGF0YSddLCBhbGxEYXRhKVxuICAgICAgICAuc2V0SW4oW2FjdGlvbi5pZCwgJ2FsbERhdGEnXSwgYWxsRGF0YSlcbiAgICAgICAgLnNldEluKFthY3Rpb24uaWQsICdjcmVhdGVEYXRhJ10sIGNyZWF0ZURhdGEpXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnZWRpdERhdGEnXSwgZWRpdERhdGEpXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbicsICdpc0J1c3knXSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfU0FWRV9GQUlMOlxuICAgICAgcmV0dXJuIHN0YXRlLnNldEluKFthY3Rpb24uaWQsICdzZXNzaW9uJywgJ2lzQnVzeSddLCBmYWxzZSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1JFTU9WRTpcbiAgICAgIHJldHVybiBzdGF0ZS5zZXRJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbicsICdpc0J1c3knXSwgdHJ1ZSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1JFTU9WRV9TVUNDRVNTOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbicsICdpc0J1c3knXSwgZmFsc2UpXG4gICAgICAgIC51cGRhdGVJbihbYWN0aW9uLmlkLCAnZGF0YSddLCBkYXRhID0+IGRhdGEuZmlsdGVyTm90KGl0ZW0gPT4gKFxuICAgICAgICAgIGFjdGlvbi5yZW1vdmVkSWRzLmluZGV4T2YoaXRlbS5nZXRJbihhY3Rpb24uaWRLZXlQYXRoKSkgPiAtMVxuICAgICAgICApKSlcbiAgICAgICAgLnVwZGF0ZUluKFthY3Rpb24uaWQsICdhbGxEYXRhJ10sIGRhdGEgPT4gZGF0YS5maWx0ZXJOb3QoaXRlbSA9PiAoXG4gICAgICAgICAgYWN0aW9uLnJlbW92ZWRJZHMuaW5kZXhPZihpdGVtLmdldEluKGFjdGlvbi5pZEtleVBhdGgpKSA+IC0xXG4gICAgICAgICkpKVxuICAgICAgICAuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ3NlbGVjdGVkSXRlbXMnXSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1JFTU9WRV9GQUlMOlxuICAgICAgcmV0dXJuIHN0YXRlLnNldEluKFthY3Rpb24uaWQsICdzZXNzaW9uJywgJ2lzQnVzeSddLCBmYWxzZSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0VESVRfQ0VMTF9WQUxVRV9DSEFOR0U6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgLnNldEluKFxuICAgICAgICAgIFthY3Rpb24uaWQsICdlZGl0RGF0YScsIGFjdGlvbi5kYXRhSWQsIC4uLmFjdGlvbi5rZXlQYXRoXSxcbiAgICAgICAgICBhY3Rpb24udmFsdWUsXG4gICAgICAgICk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0NSRUFURV9DRUxMX1ZBTFVFX0NIQU5HRTpcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgICAuc2V0SW4oXG4gICAgICAgICAgW2FjdGlvbi5pZCwgJ2NyZWF0ZURhdGEnLCBhY3Rpb24ucm93SW5kZXgsIC4uLmFjdGlvbi5rZXlQYXRoXSxcbiAgICAgICAgICBhY3Rpb24udmFsdWUsXG4gICAgICAgICk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0NFTExfU0hPV19NRVNTQUdFOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihcbiAgICAgICAgICBbYWN0aW9uLmlkLCAnY2VsbE1lc3NhZ2VzJywgYWN0aW9uLm1lc3NhZ2VUeXBlLCBhY3Rpb24uZGF0YUlkLCAuLi5hY3Rpb24ua2V5UGF0aF0sXG4gICAgICAgICAgeyBpZDogYWN0aW9uLm1lc3NhZ2VJZCwgdmFsdWVzOiBhY3Rpb24ubWVzc2FnZVZhbHVlcyB9LFxuICAgICAgICApO1xuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9DRUxMX1NIT1dfTUVTU0FHRVM6XG4gICAgICByZXR1cm4gc3RhdGUubWVyZ2VJbihbYWN0aW9uLmlkLCAnY2VsbE1lc3NhZ2VzJ10sIEltbXV0YWJsZS5mcm9tSlMoYWN0aW9uLm1lc3NhZ2VzKSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0NFTExfSElERV9NRVNTQUdFOiB7XG4gICAgICBpZiAoYWN0aW9uLm1lc3NhZ2VUeXBlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5kZWxldGVJbihbYWN0aW9uLmlkLCAnY2VsbE1lc3NhZ2VzJ10pO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvbi5kYXRhSWQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmRlbGV0ZUluKFthY3Rpb24uaWQsICdjZWxsTWVzc2FnZXMnLCBhY3Rpb24ubWVzc2FnZVR5cGVdKTtcbiAgICAgIH1cbiAgICAgIGxldCByb3dNZXNzYWdlID0gc3RhdGUuZ2V0SW4oW2FjdGlvbi5pZCwgJ2NlbGxNZXNzYWdlcycsIGFjdGlvbi5tZXNzYWdlVHlwZSwgYWN0aW9uLmRhdGFJZF0pO1xuICAgICAgaWYgKHJvd01lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGFjdGlvbi5rZXlQYXRoKSB7XG4gICAgICAgICAgcm93TWVzc2FnZSA9IHJvd01lc3NhZ2UuZGVsZXRlSW4oYWN0aW9uLmtleVBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3dNZXNzYWdlLnNpemUgPT09IDAgfHwgIWFjdGlvbi5rZXlQYXRoKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLmRlbGV0ZUluKFthY3Rpb24uaWQsICdjZWxsTWVzc2FnZXMnLCBhY3Rpb24ubWVzc2FnZVR5cGUsIGFjdGlvbi5kYXRhSWRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUuc2V0SW4oXG4gICAgICAgICAgW2FjdGlvbi5pZCwgJ2NlbGxNZXNzYWdlcycsIGFjdGlvbi5tZXNzYWdlVHlwZSwgYWN0aW9uLmRhdGFJZF0sXG4gICAgICAgICAgcm93TWVzc2FnZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0NSRUFURV9DRUxMX1NIT1dfTUVTU0FHRTpcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgICAuc2V0SW4oXG4gICAgICAgICAgW2FjdGlvbi5pZCwgJ2NyZWF0ZUNlbGxNZXNzYWdlcycsIGFjdGlvbi5tZXNzYWdlVHlwZSwgYWN0aW9uLnJvd0luZGV4LCAuLi5hY3Rpb24ua2V5UGF0aF0sXG4gICAgICAgICAgeyBpZDogYWN0aW9uLm1lc3NhZ2VJZCwgdmFsdWVzOiBhY3Rpb24ubWVzc2FnZVZhbHVlcyB9LFxuICAgICAgICApO1xuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9DUkVBVEVfQ0VMTF9ISURFX01FU1NBR0U6IHtcbiAgICAgIGlmIChhY3Rpb24ubWVzc2FnZVR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmRlbGV0ZUluKFthY3Rpb24uaWQsICdjcmVhdGVDZWxsTWVzc2FnZXMnXSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uLnJvd0luZGV4ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5kZWxldGVJbihbYWN0aW9uLmlkLCAnY3JlYXRlQ2VsbE1lc3NhZ2VzJywgYWN0aW9uLm1lc3NhZ2VUeXBlXSk7XG4gICAgICB9XG4gICAgICBsZXQgcm93TWVzc2FnZSA9IHN0YXRlLmdldEluKFtcbiAgICAgICAgYWN0aW9uLmlkLFxuICAgICAgICAnY3JlYXRlQ2VsbE1lc3NhZ2VzJyxcbiAgICAgICAgYWN0aW9uLm1lc3NhZ2VUeXBlLFxuICAgICAgICBhY3Rpb24ucm93SW5kZXgsXG4gICAgICBdKTtcbiAgICAgIGlmIChyb3dNZXNzYWdlKSB7XG4gICAgICAgIGlmIChhY3Rpb24ua2V5UGF0aCkge1xuICAgICAgICAgIHJvd01lc3NhZ2UgPSByb3dNZXNzYWdlLmRlbGV0ZUluKGFjdGlvbi5rZXlQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm93TWVzc2FnZS5zaXplID09PSAwIHx8ICFhY3Rpb24ua2V5UGF0aCkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZS5kZWxldGVJbihbXG4gICAgICAgICAgICBhY3Rpb24uaWQsXG4gICAgICAgICAgICAnY3JlYXRlQ2VsbE1lc3NhZ2VzJyxcbiAgICAgICAgICAgIGFjdGlvbi5tZXNzYWdlVHlwZSxcbiAgICAgICAgICAgIGFjdGlvbi5yb3dJbmRleCxcbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUuc2V0SW4oXG4gICAgICAgICAgW2FjdGlvbi5pZCwgJ2NyZWF0ZUNlbGxNZXNzYWdlcycsIGFjdGlvbi5tZXNzYWdlVHlwZSwgYWN0aW9uLnJvd0luZGV4XSxcbiAgICAgICAgICByb3dNZXNzYWdlLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfQ0VMTF9TRUxFQ1RJT05fQ0hBTkdFOlxuICAgICAgcmV0dXJuIHN0YXRlLnNldEluKFthY3Rpb24uaWQsICdzZWxlY3RlZENlbGwnXSwgYWN0aW9uLnNlbGVjdGVkQ2VsbCk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0lURU1fU0VMRUNUSU9OX0NIQU5HRToge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSBzdGF0ZS5zZXRJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbicsICdsYXN0Q2xpY2tlZFJvd0luZGV4J10sIGFjdGlvbi5yb3dJbmRleCk7XG5cbiAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHNoaWZ0IGtleSBpcyBwcmVzc2VkXG4gICAgICAvLyBTZWxlY3QgYWxsIHJvd3MgZnJvbSBsYXN0Q2xpY2tlZFJvdyB0byBjdXJyZW50bHkgY2xpY2tlZCByb3dcbiAgICAgIGlmIChhY3Rpb24uc2hpZnRQcmVzc2VkKSB7XG4gICAgICAgIGNvbnN0IGxhc3RSb3dJbmRleCA9IHN0YXRlLmdldEluKFthY3Rpb24uaWQsICdzZXNzaW9uJywgJ2xhc3RDbGlja2VkUm93SW5kZXgnXSwgZmFsc2UpO1xuICAgICAgICBpZiAobGFzdFJvd0luZGV4ICE9PSBmYWxzZSkge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdFJvd0lkcyA9IFtdO1xuICAgICAgICAgIGlmIChsYXN0Um93SW5kZXggPCBhY3Rpb24ucm93SW5kZXgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBsYXN0Um93SW5kZXg7IGkgPD0gYWN0aW9uLnJvd0luZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0YUlkID0gc3RhdGUuZ2V0SW4oW2FjdGlvbi5pZCwgJ2RhdGEnLCBpLCAuLi5hY3Rpb24uaWRLZXlQYXRoXSk7XG4gICAgICAgICAgICAgIGlmIChkYXRhSWQpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RSb3dJZHMucHVzaChkYXRhSWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBhY3Rpb24ucm93SW5kZXg7IGkgPD0gbGFzdFJvd0luZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0YUlkID0gc3RhdGUuZ2V0SW4oW2FjdGlvbi5pZCwgJ2RhdGEnLCBpLCAuLi5hY3Rpb24uaWRLZXlQYXRoXSk7XG4gICAgICAgICAgICAgIGlmIChkYXRhSWQpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RSb3dJZHMucHVzaChkYXRhSWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXdTdGF0ZVxuICAgICAgICAgICAgLnNldEluKFxuICAgICAgICAgICAgICBbYWN0aW9uLmlkLCAnc2VsZWN0ZWRJdGVtcyddLFxuICAgICAgICAgICAgICBMaXN0KHNlbGVjdFJvd0lkcyksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGFJZCA9IHN0YXRlLmdldEluKFthY3Rpb24uaWQsICdkYXRhJywgYWN0aW9uLnJvd0luZGV4LCAuLi5hY3Rpb24uaWRLZXlQYXRoXSk7XG4gICAgICBjb25zdCBmb3VuZEluZGV4ID0gc3RhdGVcbiAgICAgICAgLmdldEluKFthY3Rpb24uaWQsICdzZWxlY3RlZEl0ZW1zJ10sIExpc3QoKSkuaW5kZXhPZihkYXRhSWQpO1xuICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSB7XG4gICAgICAgIGlmIChhY3Rpb24uY3RybFByZXNzZWQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgICAgICAgIC51cGRhdGVJbihcbiAgICAgICAgICAgICAgW2FjdGlvbi5pZCwgJ3NlbGVjdGVkSXRlbXMnXSxcbiAgICAgICAgICAgICAgTGlzdCgpLCBpdGVtcyA9PiBpdGVtcy5wdXNoKGRhdGFJZCksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZVxuICAgICAgICAgIC5zZXRJbihcbiAgICAgICAgICAgIFthY3Rpb24uaWQsICdzZWxlY3RlZEl0ZW1zJ10sXG4gICAgICAgICAgICBMaXN0KFtkYXRhSWRdKSxcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvbi5jdHJsUHJlc3NlZCkge1xuICAgICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgICAgICAudXBkYXRlSW4oXG4gICAgICAgICAgICBbYWN0aW9uLmlkLCAnc2VsZWN0ZWRJdGVtcyddLFxuICAgICAgICAgICAgaXRlbXMgPT4gaXRlbXMuZGVsZXRlKGZvdW5kSW5kZXgpLFxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgICAgLnNldEluKFxuICAgICAgICAgIFthY3Rpb24uaWQsICdzZWxlY3RlZEl0ZW1zJ10sXG4gICAgICAgICAgTGlzdChbZGF0YUlkXSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9TRUxFQ1RfQUxMX0lURU1TX0NIQU5HRTpcbiAgICAgIGlmIChcbiAgICAgICAgc3RhdGUuZ2V0SW4oW2FjdGlvbi5pZCwgJ3NlbGVjdGVkSXRlbXMnXSwgTGlzdCgpKS5zaXplXG4gICAgICAgID09PSBzdGF0ZS5nZXRJbihbYWN0aW9uLmlkLCAnZGF0YSddLCBMaXN0KCkpLnNpemVcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gc3RhdGUuZGVsZXRlSW4oW2FjdGlvbi5pZCwgJ3NlbGVjdGVkSXRlbXMnXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgLnNldEluKFxuICAgICAgICAgIFthY3Rpb24uaWQsICdzZWxlY3RlZEl0ZW1zJ10sXG4gICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgIC5nZXRJbihbYWN0aW9uLmlkLCAnZGF0YSddLCBMaXN0KCkpXG4gICAgICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbS5nZXRJbihhY3Rpb24uaWRLZXlQYXRoKSksXG4gICAgICAgICk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0NMRUFSX1NFTEVDVEVEX0lURU1TOlxuICAgICAgcmV0dXJuIHN0YXRlLmRlbGV0ZUluKFthY3Rpb24uaWQsICdzZWxlY3RlZEl0ZW1zJ10pO1xuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9UT0dHTEVfRklMVEVSSU5HOiB7XG4gICAgICBpZiAoIWFjdGlvbi5pc0ZpbHRlcmluZykge1xuICAgICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgICAuc2V0SW4oW2FjdGlvbi5pZCwgJ2NvbmZpZycsICdmaWx0ZXJpbmdEYXRhJ10sIE1hcCh7IGlzRmlsdGVyaW5nOiBmYWxzZSB9KSlcbiAgICAgICAgICAuc2V0SW4oW2FjdGlvbi5pZCwgJ2RhdGEnXSwgc3RhdGUuZ2V0SW4oW2FjdGlvbi5pZCwgJ2FsbERhdGEnXSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnY29uZmlnJywgJ2ZpbHRlcmluZ0RhdGEnXSwgTWFwKHsgaXNGaWx0ZXJpbmc6IHRydWUgfSkpO1xuICAgIH1cblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfRklMVEVSX0RBVEFfQ0hBTkdFOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihcbiAgICAgICAgICBbYWN0aW9uLmlkLCAnY29uZmlnJywgJ2ZpbHRlcmluZ0RhdGEnLCAnZmlsdGVyRGF0YSddLFxuICAgICAgICAgIGFjdGlvbi5maWx0ZXJEYXRhLFxuICAgICAgICApO1xuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9BUFBMWV9GSUxURVJTOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihcbiAgICAgICAgICBbYWN0aW9uLmlkLCAnZGF0YSddLFxuICAgICAgICAgIGFjdGlvbi5kYXRhLFxuICAgICAgICApO1xuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9TRVRfRklMVEVSUzpcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgICAuc2V0SW4oXG4gICAgICAgICAgW2FjdGlvbi5pZCwgJ2NvbmZpZycsICdmaWx0ZXJpbmdEYXRhJ10sXG4gICAgICAgICAgYWN0aW9uLmZpbHRlcmluZ0RhdGEsXG4gICAgICAgICk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1VQREFURV9FWElTVElOR19DRUxMX1ZBTFVFOiB7XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHN0YXRlXG4gICAgICAgIC5zZXRJbihcbiAgICAgICAgICBbYWN0aW9uLmlkLCAnYWxsRGF0YScsIGFjdGlvbi5kYXRhSWQsIC4uLmFjdGlvbi5rZXlQYXRoXSxcbiAgICAgICAgICBhY3Rpb24udmFsdWUsXG4gICAgICAgICk7XG4gICAgICBpZiAoc3RhdGUuaGFzSW4oW2FjdGlvbi5pZCwgJ2RhdGEnLCBhY3Rpb24uZGF0YUlkLCAuLi5hY3Rpb24ua2V5UGF0aF0pKSB7XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZVxuICAgICAgICAgIC5zZXRJbihcbiAgICAgICAgICAgIFthY3Rpb24uaWQsICdkYXRhJywgYWN0aW9uLmRhdGFJZCwgLi4uYWN0aW9uLmtleVBhdGhdLFxuICAgICAgICAgICAgYWN0aW9uLnZhbHVlLFxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgY2FzZSBUWVBFUy5QTEFURk9STV9EQVRBR1JJRF9TRVRfRURJVF9EQVRBOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnc2Vzc2lvbicsICdpc0VkaXRpbmcnXSwgdHJ1ZSlcbiAgICAgICAgLnNldEluKFthY3Rpb24uaWQsICdlZGl0RGF0YSddLCBhY3Rpb24uZGF0YSlcbiAgICAgICAgLnNldEluKFthY3Rpb24uaWQsICdjZWxsTWVzc2FnZXMnXSwgYWN0aW9uLmNlbGxNZXNzYWdlcyk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0NPTFVNTl9TRVRUSU5HU19NT0RBTF9PUEVOOlxuICAgICAgcmV0dXJuIHN0YXRlLnNldEluKFthY3Rpb24uaWQsICdzZXNzaW9uJywgJ2NvbHVtblNldHRpbmdzTW9kYWwnLCAnb3BlbiddLCB0cnVlKTtcblxuICAgIGNhc2UgVFlQRVMuUExBVEZPUk1fREFUQUdSSURfQ09MVU1OX1NFVFRJTkdTX01PREFMX0NMT1NFOlxuICAgICAgcmV0dXJuIHN0YXRlLmRlbGV0ZUluKFthY3Rpb24uaWQsICdzZXNzaW9uJywgJ2NvbHVtblNldHRpbmdzTW9kYWwnXSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX0NPTFVNTl9TRVRUSU5HU19TQVZFOlxuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICAgIC5zZXRJbihbYWN0aW9uLmlkLCAnY29uZmlnJywgJ3Zpc2libGVDb2x1bW5zJ10sIEltbXV0YWJsZS5mcm9tSlMoYWN0aW9uLmNvbHVtbk9yZGVyKSk7XG5cbiAgICBjYXNlIFRZUEVTLlBMQVRGT1JNX0RBVEFHUklEX1NFVF9QQUdJTkFUSU9OX1BBR0U6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICAgICAgLnNldEluKFthY3Rpb24uaWQsICdjb25maWcnLCAncGFnaW5hdGlvbicsICdwYWdlJ10sIGFjdGlvbi5wYWdpbmF0aW9uUGFnZSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG4iXX0=